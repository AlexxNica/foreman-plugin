!function t(e,n,r){function i(o,s){var l=window.define;if(window.define=void 0,!n[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return i(n?n:t)},d,d.exports,t,e,n,r)}return window.define=l,n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t){"use strict";function e(){angular.bootstrap(document,["insights"])}"undefined"==typeof window.angular&&t("./../bower_components/angular/angular.js"),t("./../bower_components/angular-ui-router/release/angular-ui-router.js"),t("./../bower_components/angular-timeago/src/timeAgo.js"),t("./../bower_components/angular-bootstrap/ui-bootstrap-tpls.js"),t("./../bower_components/angular-resource/angular-resource.js"),t("./../bower_components/angular-loading-bar/build/loading-bar.js"),t("./../bower_components/ng-table/dist/ng-table.min.js"),t("./api"),t("./services"),t("./states"),t("./components"),t("./templates");var n=["insights.api","insights.services","insights.components","insights.states","insights.templates","ui.router","ui.bootstrap","ngResource","ngTable","angular-loading-bar","yaru22.angular-timeago"];angular.module("insights",n),angular.module("insights").value("CONFIG",t("./insights_config")),angular.module("insights").config(t("./routes")),angular.module("insights").config(t("./config")),"undefined"!=typeof window.chrometwo_ready&&(angular.module("insights").run(t("./portal/boot")),angular.module("insights").config(t("./portal/routes")),window.chrometwo_ready(e))},{"./../bower_components/angular-bootstrap/ui-bootstrap-tpls.js":2,"./../bower_components/angular-loading-bar/build/loading-bar.js":3,"./../bower_components/angular-resource/angular-resource.js":4,"./../bower_components/angular-timeago/src/timeAgo.js":5,"./../bower_components/angular-ui-router/release/angular-ui-router.js":6,"./../bower_components/angular/angular.js":7,"./../bower_components/ng-table/dist/ng-table.min.js":10,"./api":15,"./components":38,"./config":64,"./insights_config":65,"./portal/boot":68,"./portal/routes":69,"./routes":70,"./services":75,"./states":84,"./templates":92}],2:[function(){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function r(t){for(var e in t)if(void 0!==a.style[e])return t[e]}var i=function(r,a,o){o=o||{};var s=t.defer(),l=i[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(a)?r.addClass(a):angular.isFunction(a)?a(r):angular.isObject(a)&&r.css(a),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(o),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,r){function i(e){function r(){u===i&&(u=void 0)}var i=t(n,e);return u&&u.cancel(),u=i,i.then(r,r),i}function a(){c?(c=!1,o()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;e.$watch(r.collapse,function(t){t?s():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){var i=r[0],a=r[1];a.$render=function(){e.toggleClass(i.activeClass,angular.equals(a.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){a.$setViewValue(r?null:t.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){function i(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?a():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(t,e,n){function r(){i();var n=+t.interval;!isNaN(n)&&n>=0&&(o=e(a,n))}function i(){o&&(e.cancel(o),o=null)}function a(){s?(t.next(),r()):t.pause()}var o,s,l=this,u=l.slides=t.slides=[],c=-1;l.currentSlide=null;var d=!1;l.select=t.select=function(i,a){function o(){if(!d){if(l.currentSlide&&angular.isString(a)&&!t.noTransition&&i.$element){i.$element.addClass(a);{i.$element[0].offsetWidth}angular.forEach(u,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:a,active:!0,entering:!0}),angular.extend(l.currentSlide||{},{direction:a,leaving:!0}),t.$currentTransition=n(i.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(i,l.currentSlide)}else s(i,l.currentSlide);l.currentSlide=i,c=f,r()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var f=u.indexOf(i);void 0===a&&(a=f>c?"next":"prev"),i&&i!==l.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(o)):o())},t.$on("$destroy",function(){d=!0}),l.indexOfSlide=function(t){return u.indexOf(t)},t.next=function(){var e=(c+1)%u.length;return t.$currentTransition?void 0:l.select(u[e],"next")},t.prev=function(){var e=0>c-1?u.length-1:c-1;return t.$currentTransition?void 0:l.select(u[e],"prev")},t.isActive=function(t){return l.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",i),t.play=function(){s||(s=!0,r())},t.pause=function(){t.noPause||(s=!1,i())},l.addSlide=function(e,n){e.$element=n,u.push(e),1===u.length||e.active?(l.select(u[u.length-1]),1==u.length&&t.play()):e.active=!1},l.removeSlide=function(t){var e=u.indexOf(t);u.splice(e,1),u.length>0&&t.active?l.select(e>=u.length?u[e-1]:u[e]):c>e&&c--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],r=t.split("");return angular.forEach(i,function(e,i){var a=t.indexOf(i);if(a>-1){t=t.split(""),r[a]="("+e.regex+")",t[a]="$";for(var o=a+1,s=a+i.length;s>o;o++)r[o]="",t[o]="$";t=t.join(""),n.push({index:a,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:e(n,"index")}}function r(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var a=this.parsers[i],o=a.regex,s=a.map,l=e.match(o);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},d=1,f=l.length;f>d;d++){var h=s[d-1];h.apply&&h.apply.call(c,l[d])}return r(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},a=i(e[0]);a!=t[0]&&(r=this.offset(angular.element(a)),r.top+=a.clientTop-a.scrollTop,r.left+=a.clientLeft-a.scrollLeft);var o=e[0].getBoundingClientRect();return{width:o.width||e.prop("offsetWidth"),height:o.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,a,o,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),a=e.prop("offsetWidth"),o=e.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-a/2},left:function(){return i.left},right:function(){return i.left+i.width}},f={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:f[c](),left:d[u]()};break;case"left":s={top:f[c](),left:i.left-a};break;case"bottom":s={top:f[u](),left:d[c]()};break;default:s={top:i.top-o,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,r,i,a,o,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(e[n])?8>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){l[r]=t?new Date(t):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var t=new Date(u.$modelValue),e=!isNaN(t);e?this.activeDate=t:a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:t,label:o(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function a(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function o(t,e){var n=new Array(e),r=new Date(t),i=0;for(r.setHours(12);e>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),a=new Date(n,r,1),l=i.startingDay-a.getDay(),u=l>0?7-l:-l,c=new Date(a);u>0&&c.setDate(-u+1);for(var d=o(c,42),f=0;42>f;f++)d[f]=angular.extend(i.createDateObject(d[f],i.formatDay),{secondary:d[f].getMonth()!==r,uid:e.uniqueId+"-"+f});e.labels=new Array(7);for(var h=0;7>h;h++)e.labels[h]={abbr:t(d[h].date,i.formatDayHeader),full:t(d[h].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(d,7),e.showWeeks){e.weekNumbers=[];for(var p=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(p++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t){var e=i.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(n,1),e=Math.min(a(i.activeDate.getFullYear(),i.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=a(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(e)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),a=0;12>a;a++)n[a]=angular.extend(i.createDateObject(new Date(r,a,1),i.formatMonth),{uid:e.uniqueId+"-"+a});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t){var e=i.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);i.activeDate.setMonth(e)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/a,10)*a+1}var a=r.yearRange;r.step={years:a},r.element=e,r._refreshView=function(){for(var e=new Array(a),n=0,o=i(r.activeDate.getFullYear());a>n;n++)e[n]=angular.extend(r.createDateObject(new Date(o+n,0,1),r.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[a-1].label].join(" - "),t.rows=r.split(e,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t){var e=r.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*r.step.years:"home"===t?e=i(r.activeDate.getFullYear()):"end"===t&&(e=i(r.activeDate.getFullYear())+a-1),r.activeDate.setFullYear(e)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,r,i,a,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function f(t){if(t){if(angular.isDate(t)&&!isNaN(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=a.parse(t,h)||new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var h,p=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):o.showButtonBar,s.getText=function(t){return s[t+"Text"]||o[t+"Text"]},u.$observe("datepickerPopup",function(t){h=t||o.datepickerPopup,c.$render()});var v=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");v.attr({"ng-model":"date","ng-change":"dateSelection()"});var m=angular.element(v.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(t,e){m.attr(d(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),m.attr(d(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&r(s.$parent,t)})}}}),u.dateDisabled&&m.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(f),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),c.$setViewValue(s.date),c.$render(),p&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var t=c.$viewValue?i(c.$viewValue,h):"";l.val(t),s.date=f(c.$modelValue)};var y=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},x=function(t){s.keydown(t)};l.bind("keydown",x),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.$modelValue)?(t=new Date(c.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var b=t(v)(s);v.remove(),g?n.find("body").append(b):l.after(b),s.$on("$destroy",function(){b.remove(),l.unbind("keydown",x),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",r)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",r))};var n=function(t){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})},r=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,r,i,a){var o,s=this,l=t.$new(),u=r.openClass,c=angular.noop,d=e.onToggle?n(e.onToggle):angular.noop;this.init=function(r){s.$element=r,e.isOpen&&(o=n(e.isOpen),c=o.assign,t.$watch(o,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,n){a[e?"addClass":"removeClass"](s.$element,u),e?(l.focusToggleElement(),i.open(l)):i.close(l),c(t,e),angular.isDefined(e)&&e!==n&&d(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(t,e,n,r){r.init(e)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(t,e,n,r){if(r){r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,r){e.backdropClass=r.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,r,i,a){function o(){for(var t=-1,e=h.keys(),n=0;n<e.length;n++)h.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),r=h.get(t).value;h.remove(t),u(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),e.toggleClass(f,h.length()>0),l()})}function l(){if(c&&-1==o()){var t=d;u(c,d,150,function(){t.$destroy(),t=null}),c=void 0,d=void 0}}function u(n,r,i,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}r.animate=!1;var s=t.transitionEndEventName;if(s){var l=e(o,i);n.bind(s,function(){e.cancel(l),o(),r.$apply()})}else e(o)}var c,d,f="modal-open",h=a.createNew(),p={};return i.$watch(o,function(t){d&&(d.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=h.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){p.dismiss(e.key,"escape key press")})))}),p.open=function(t,e){h.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var a=n.find("body").eq(0),s=o();if(s>=0&&!c){d=i.$new(!0),d.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),c=r(l)(d),a.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:h.length()-1,animate:"animate"}).html(e.content);var p=r(u)(e.scope);h.top().value.modalDomEl=p,a.append(p),a.addClass(f)},p.close=function(t,e){var n=h.get(t);n&&(n.value.deferred.resolve(e),s(t))},p.dismiss=function(t,e){var n=h.get(t);n&&(n.value.deferred.reject(e),s(t))},p.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},p.getTop=function(){return h.top()},p}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,r,i,a,o,s){function l(t){return t.template?r.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:a}).then(function(t){return t.data})}function u(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(r.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=r.defer(),a=r.defer(),c={result:i.promise,opened:a.promise,close:function(t){s.close(c,t)},dismiss:function(t){s.dismiss(c,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=r.all([l(e)].concat(u(e.resolve)));return d.then(function(t){var r=(e.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var a,l={},u=1;e.controller&&(l.$scope=r,l.$modalInstance=c,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),a=o(e.controller,l),e.controllerAs&&(r[e.controllerAs]=a)),s.open(c,{scope:r,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),c},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},a=e.numPages?n(e.numPages).assign:angular.noop;
this.init=function(a,o){i=a,this.config=o,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){a(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,a){function o(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,a=angular.isDefined(c)&&e>c;a&&(d?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var l=o(s,s,s===t);n.push(l)}if(a&&!d){if(r>1){var u=o(r-1,"...",!1);n.unshift(u)}if(e>i){var f=o(i+1,"...",!1);n.push(f)}}return n}var l=a[0],u=a[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(u,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),l.render()});var f=l.render;l.render=function(){f(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,r,i){var a=i[0],o=i[1];o&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,a.init(o,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(i,a,o,s,l,u,c){return function(i,d,f){function h(t){var e=t||p.trigger||f,r=n[e]||e;return{show:e,hide:r}}var p=angular.extend({},e,r),g=t(i),v=c.startSymbol(),m=c.endSymbol(),y="<div "+g+'-popup title="'+v+"tt_title"+m+'" content="'+v+"tt_content"+m+'" placement="'+v+"tt_placement"+m+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var t=a(y);return function(e,n,r){function a(){e.tt_isOpen?f():c()}function c(){(!A||e.$eval(r[d+"Enable"]))&&(e.tt_popupDelay?$||($=o(g,e.tt_popupDelay,!1),$.then(function(t){t()})):g()())}function f(){e.$apply(function(){v()})}function g(){return $=null,b&&(o.cancel(b),b=null),e.tt_content?(m(),x.css({top:0,left:0,display:"block"}),w?l.find("body").append(x):n.after(x),k(),e.tt_isOpen=!0,e.$digest(),k):angular.noop}function v(){e.tt_isOpen=!1,o.cancel($),$=null,e.tt_animation?b||(b=o(y,500)):y()}function m(){x&&y(),x=t(e,function(){}),e.$digest()}function y(){b=null,x&&(x.remove(),x=null)}var x,b,$,w=angular.isDefined(p.appendToBody)?p.appendToBody:!1,_=h(void 0),A=angular.isDefined(r[d+"Enable"]),k=function(){var t=u.positionElements(n,x,e.tt_placement,w);t.top+="px",t.left+="px",x.css(t)};e.tt_isOpen=!1,r.$observe(i,function(t){e.tt_content=t,!t&&e.tt_isOpen&&v()}),r.$observe(d+"Title",function(t){e.tt_title=t}),r.$observe(d+"Placement",function(t){e.tt_placement=angular.isDefined(t)?t:p.placement}),r.$observe(d+"PopupDelay",function(t){var n=parseInt(t,10);e.tt_popupDelay=isNaN(n)?p.popupDelay:n});var T=function(){n.unbind(_.show,c),n.unbind(_.hide,f)};r.$observe(d+"Trigger",function(t){T(),_=h(t),_.show===_.hide?n.bind(_.show,a):(n.bind(_.show,c),n.bind(_.hide,f))});var S=e.$eval(r[d+"Animation"]);e.tt_animation=angular.isDefined(S)?!!S:p.animation,r.$observe(d+"AppendToBody",function(t){w=angular.isDefined(t)?s(t)(e):w}),w&&e.$on("$locationChangeSuccess",function(){e.tt_isOpen&&v()}),e.$on("$destroy",function(){o.cancel(b),o.cancel($),T(),y()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var a=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],a=r[1];a&&i.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1){var i=r==n.length-1?r-1:r+1;e.select(n[i])}n.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,a){e.$watch("active",function(t){t&&a.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},a.addTab(e),e.$on("$destroy",function(){a.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,a){function o(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function u(t){c(),p.$setViewValue(new Date(h)),d(t)}function c(){p.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=h.getHours(),r=h.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),t.minutes="m"===e?r:l(r),t.meridian=h.getHours()<12?g[0]:g[1]}function f(t){var e=new Date(h.getTime()+6e4*t);h.setHours(e.getHours(),e.getMinutes()),u()}var h=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):a.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){p=n,p.$render=this.render;var i=r.eq(0),o=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(i,o),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o)};var v=a.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){v=parseInt(t,10)});var m=a.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){m=parseInt(t,10)}),t.showMeridian=a.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,p.$error.time){var n=o(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(h.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=o();angular.isDefined(t)?(h.setHours(t),u("h")):r(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(h.setMinutes(t),u("m")):r(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=p.$modelValue?new Date(p.$modelValue):null;isNaN(t)?(p.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(h=t),c(),d())},t.incrementHours=function(){f(60*v)},t.decrementHours=function(){f(60*-v)},t.incrementMinutes=function(){f(m)},t.decrementMinutes=function(){f(-m)},t.toggleMeridian=function(){f(720*(h.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,r){var i=r[0],a=r[1];a&&i.init(a,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,r,i,a,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var f,h=l.$eval(c.typeaheadMinLength)||1,p=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,v=e(c.typeaheadLoading).assign||angular.noop,m=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,x=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,b=e(c.ngModel).assign,$=o.parse(c.typeahead),w=l.$new();l.$on("$destroy",function(){w.$destroy()});var _="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":_});var A=angular.element("<div typeahead-popup></div>");A.attr({id:_,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&A.attr("template-url",c.typeaheadTemplateUrl);var k=function(){w.matches=[],w.activeIdx=-1,u.attr("aria-expanded",!1)},T=function(t){return _+"-option-"+t};w.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",T(t))});var S=function(t){var e={$viewValue:t};v(l,!0),n.when($.source(l,e)).then(function(n){var r=t===d.$viewValue;if(r&&f)if(n.length>0){w.activeIdx=0,w.matches.length=0;for(var i=0;i<n.length;i++)e[$.itemName]=n[i],w.matches.push({id:T(i),label:$.viewMapper(w,e),model:n[i]});w.query=t,w.position=x?a.offset(u):a.position(u),w.position.top=w.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else k();r&&v(l,!1)},function(){k(),v(l,!1)})};k(),w.query=void 0;var C,M=function(t){C=r(function(){S(t)},p)},E=function(){C&&r.cancel(C)};d.$parsers.unshift(function(t){return f=!0,t&&t.length>=h?p>0?(E(),M(t)):S(t):(v(l,!1),E(),k()),g?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,r={};return y?(r.$model=t,y(l,r)):(r[$.itemName]=t,e=$.viewMapper(l,r),r[$.itemName]=void 0,n=$.viewMapper(l,r),e!==n?e:t)}),w.select=function(t){var e,n,i={};i[$.itemName]=n=w.matches[t].model,e=$.modelMapper(l,i),b(l,e),d.$setValidity("editable",!0),m(l,{$item:n,$model:e,$label:$.viewMapper(l,i)}),k(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==w.matches.length&&-1!==s.indexOf(t.which)&&(t.preventDefault(),40===t.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===t.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===t.which||9===t.which?w.$apply(function(){w.select(w.activeIdx)}):27===t.which&&(t.stopPropagation(),k(),w.$digest()))}),u.bind("blur",function(){f=!1});var D=function(t){u[0]!==t.target&&(k(),w.$digest())};i.bind("click",D),l.$on("$destroy",function(){i.unbind("click",D)});var O=t(A)(w);x?i.find("body").append(O):u.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,a,o){var s=r(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){a.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')
}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},{}],3:[function(){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(t){var e=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(e,n,r,i,a,o){function s(){r.cancel(u),o.complete(),d=0,c=0}function l(e){var r,i=n.get("$http"),a=t.defaults;!e.cache&&!a.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(r=angular.isObject(e.cache)?e.cache:angular.isObject(a.cache)?a.cache:i);var o=void 0!==r?void 0!==r.get(e.url):!1;return void 0!==e.cached&&o!==e.cached?e.cached:(e.cached=o,o)}var u,c=0,d=0,f=o.latencyThreshold;return{request:function(t){return t.ignoreLoadingBar||l(t)||(i.$broadcast("cfpLoadingBar:loading",{url:t.url}),0===c&&(u=r(function(){o.start()},f)),c++,o.set(d/c)),t},response:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),d>=c?s():o.set(d/c)),t):(a.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t)},responseError:function(t){return t&&t.config?(t.config.ignoreLoadingBar||l(t.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:t.config.url,result:t}),d>=c?s():o.set(d/c)),e.reject(t)):(a.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e.reject(t))}}}];t.interceptors.push(e)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(t,e,n,r){function i(){c||(c=t.get("$animate"));var i=e.find(h).eq(0);n.cancel(f),m||(r.$broadcast("cfpLoadingBar:started"),m=!0,b&&c.enter(p,i,angular.element(i[0].lastChild)),x&&c.enter(v,i,angular.element(i[0].lastChild)),a($))}function a(t){if(m){var e=100*t+"%";g.css("width",e),y=t,n.cancel(d),d=n(function(){o()},250)}}function o(){if(!(s()>=1)){var t=0,e=s();t=e>=0&&.25>e?(3*Math.random()+3)/100:e>=.25&&.65>e?3*Math.random()/100:e>=.65&&.9>e?2*Math.random()/100:e>=.9&&.99>e?.005:0;var n=s()+t;a(n)}}function s(){return y}function l(){y=0,m=!1}function u(){c||(c=t.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),a(1),n.cancel(f),f=n(function(){var t=c.leave(p,l);t&&t.then&&t.then(l),c.leave(v)},500)}var c,d,f,h=this.parentSelector,p=angular.element(this.loadingBarTemplate),g=p.find("div").eq(0),v=angular.element(this.spinnerTemplate),m=!1,y=0,x=this.includeSpinner,b=this.includeBar,$=this.startSize;return{start:i,set:a,status:s,inc:o,complete:u,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},{}],4:[function(){!function(t,e,n){"use strict";function r(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&s.test("."+t)}function i(t,e){if(!r(e))throw o("badmember",'Dotted member path "@{0}" is invalid.',e);for(var i=e.split("."),a=0,s=i.length;s>a&&t!==n;a++){var l=i[a];t=null!==t?t[l]:n}return t}function a(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var o=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function l(t){return u(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function d(l,u,m,y){function x(t,e){var n={};return e=p({},u,e),h(e,function(e,r){v(e)&&(e=e()),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function b(t){return t.resource}function $(t){a(t||{},this)}var w=new c(l,y);return m=p({},t.defaults.actions,m),$.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},h(m,function(t,i){var l=/^(POST|PUT|PATCH)$/i.test(t.method);$[i]=function(u,c,d,m){var y,_,A,k={};switch(arguments.length){case 4:A=m,_=d;case 3:case 2:if(!v(c)){k=u,y=c,_=d;break}if(v(u)){_=u,A=c;break}_=c,A=d;case 1:v(u)?_=u:l?y=u:k=u;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=this instanceof $,S=T?y:t.isArray?[]:new $(y),C={},M=t.interceptor&&t.interceptor.response||b,E=t.interceptor&&t.interceptor.responseError||n;h(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&(C[e]=g(t))}),l&&(C.data=y),w.setUrlParams(C,p({},x(y,t.params||{}),k),t.url);var D=r(C).then(function(n){var r=n.data,s=S.$promise;if(r){if(e.isArray(r)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",i,t.isArray?"array":"object",e.isArray(r)?"array":"object");t.isArray?(S.length=0,h(r,function(t){S.push("object"==typeof t?new $(t):t)})):(a(r,S),S.$promise=s)}return S.$resolved=!0,n.resource=S,n},function(t){return S.$resolved=!0,(A||f)(t),s.reject(t)});return D=D.then(function(t){var e=M(t);return(_||f)(e,t.headers),e},E),T?D:(S.$promise=D,S.$resolved=!1,S)},$.prototype["$"+i]=function(t,e,n){v(t)&&(n=e,e=t,t={});var r=$[i].call(this,t,this,e,n);return r.$promise||r}}),$.bind=function(t){return d(l,p({},u,t),m)},$}var f=e.noop,h=e.forEach,p=e.extend,g=e.copy,v=e.isFunction;return c.prototype={setUrlParams:function(t,n,r){var i,a,s=this,u=r||s.template,c=s.urlParams={};h(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]=!0)}),u=u.replace(/\\:/g,":"),n=n||{},h(s.urlParams,function(t,r){i=n.hasOwnProperty(r)?n[r]:s.defaults[r],e.isDefined(i)&&null!==i?(a=l(i),u=u.replace(new RegExp(":"+r+"(\\W|$)","g"),function(t,e){return a+e})):u=u.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u.replace(/\/\\\./,"/."),h(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},d}]})}(window,window.angular)},{}],5:[function(){"use strict";angular.module("yaru22.angular-timeago",[]).directive("timeAgo",["timeAgo","nowTime",function(t,e){return{restrict:"EA",link:function(n,r,i){var a;i.$observe("fromTime",function(e){a=t.parse(e)}),n.$watch(function(){return e()-a},function(e){angular.element(r).text(t.inWords(e))})}}}]).factory("nowTime",["$window","$rootScope",function(t,e){var n=Date.now(),r=function(){t.setTimeout(function(){e.$apply(function(){n=Date.now(),r()})},1e3)};return r(),function(){return n}}]).factory("timeAgo",function(){var t={};return t.settings={refreshMillis:6e4,allowFuture:!1,strings:{en_US:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]},de_DE:{prefixAgo:"vor",prefixFromNow:null,suffixAgo:null,suffixFromNow:"from now",seconds:"weniger als einer Minute",minute:"ca. einer Minute",minutes:"%d Minuten",hour:"ca. einer Stunde",hours:"ca. %d Stunden",day:"einem Tag",days:"%d Tagen",month:"ca. einem Monat",months:"%d Monaten",year:"ca. einem Jahr",years:"%d Jahren",numbers:[]},he_IL:{prefixAgo:null,prefixFromNow:null,suffixAgo:"לפני",suffixFromNow:"מעכשיו",seconds:"פחות מדקה",minute:"כדקה",minutes:"%d דקות",hour:"כשעה",hours:"כ %d שעות",day:"יום",days:"%d ימים",month:"כחודש",months:"%d חודשים",year:"כשנה",years:"%d שנים",numbers:[]},pt_BR:{prefixAgo:null,prefixFromNow:"daqui a",suffixAgo:"atrás",suffixFromNow:null,seconds:"menos de um minuto",minute:"cerca de um minuto",minutes:"%d minutos",hour:"cerca de uma hora",hours:"cerca de %d horas",day:"um dia",days:"%d dias",month:"cerca de um mês",months:"%d meses",year:"cerca de um ano",years:"%d anos",numbers:[]},fr_FR:{prefixAgo:"il y a",prefixFromNow:null,suffixAgo:null,suffixFromNow:"from now",seconds:"moins d'une minute",minute:"environ une minute",minutes:"%d minutes",hour:"environ une heure",hours:"environ %d heures",day:"un jour",days:"%d jours",month:"environ un mois",months:"%d mois",year:"environ un an",years:"%d ans",numbers:[]},es_LA:{prefixAgo:"hace",prefixFromNow:null,suffixAgo:null,suffixFromNow:"apartir de ahora",seconds:"menos de un minuto",minute:"un minuto",minutes:"%d minutos",hour:"una hora",hours:"%d horas",day:"un dia",days:"%d dias",month:"un mes",months:"%d meses",year:"un año",years:"%d años",numbers:[]}}},t.inWords=function(e){function n(t,n){var r=angular.isFunction(t)?t(n,e):t,a=i.numbers&&i.numbers[n]||n;return r.replace(/%d/i,a)}var r=document.documentElement.lang,i=t.settings.strings[r];"undefined"==typeof i&&(i=t.settings.strings.en_US);var a=i.prefixAgo,o=i.suffixAgo;t.settings.allowFuture&&0>e&&(a=i.prefixFromNow,o=i.suffixFromNow);var s=Math.abs(e)/1e3,l=s/60,u=l/60,c=u/24,d=c/365,f=45>s&&n(i.seconds,Math.round(s))||90>s&&n(i.minute,1)||45>l&&n(i.minutes,Math.round(l))||90>l&&n(i.hour,1)||24>u&&n(i.hours,Math.round(u))||42>u&&n(i.day,1)||30>c&&n(i.days,Math.round(c))||45>c&&n(i.month,1)||365>c&&n(i.months,Math.round(c/30))||1.5>d&&n(i.year,1)||n(i.years,Math.round(d)),h=void 0===i.wordSeparator?" ":i.wordSeparator;return"he_IL"===r?[a,o,f].join(h).trim():[a,f,o].join(h).trim()},t.parse=function(t){if(angular.isNumber(t))return parseInt(t,10);if(t instanceof Date)return t;var e=(t||"").trim();return e=e.replace(/\.\d+/,""),e=e.replace(/-/,"/").replace(/-/,"/"),e=e.replace(/T/," ").replace(/Z/," UTC"),e=e.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)},t}).filter("timeAgo",["nowTime","timeAgo",function(t,e){return function(n){var r=e.parse(n),i=t()-r;return e.inWords(i)}}])},{}],6:[function(t,e,n){"undefined"!=typeof e&&"undefined"!=typeof n&&e.exports===n&&(e.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return F(new(F(function(){},{prototype:t})),e)}function i(t){return P(arguments,function(e){e!==t&&P(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function a(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function o(t){if(Object.keys)return Object.keys(t);var e=[];return P(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=a(n,r),u={},c=[];for(var d in l)if(l[d].params&&(i=o(l[d].params),i.length))for(var f in i)s(c,i[f])>=0||(c.push(i[f]),u[i[f]]=t[i[f]]);return F({},u,e)}function u(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var a=n[i];if(t[a]!=e[a])return!1}return!0}function c(t,e){var n={};return P(t,function(t){n[t]=e[t]}),n}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function f(t,e){var n=I(t),r=n?[]:{};return P(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function h(t,e){var n=I(t)?[]:{};return P(t,function(t,r){n[r]=e(t,r)}),n}function p(t,e){var r=1,a=2,l={},u=[],c=l,f=F(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(t,n){if(y[n]!==a){if(m.push(n),y[n]===r)throw m.splice(0,s(m,n)),new Error("Cyclic dependency: "+m.join(" -> "));if(y[n]=r,L(t))v.push(n,[function(){return e.get(t)}],u);else{var i=e.annotate(t);P(i,function(t){t!==n&&l.hasOwnProperty(t)&&h(l[t],t)}),v.push(n,t,i)}m.pop(),y[n]=a}}function p(t){return R(t)&&t.then&&t.$$promises}if(!R(l))throw new Error("'invocables' must be an object");var g=o(l||{}),v=[],m=[],y={};return P(l,h),l=m=y=null,function(r,a,o){function s(){--b||($||i(x,a.$$values),m.$$values=x,m.$$promises=m.$$promises||!0,delete m.$$inheritedValues,h.resolve(x))}function l(t){m.$$failure=t,h.reject(t)}function u(n,i,a){function u(t){d.reject(t),l(t)}function c(){if(!O(m.$$failure))try{d.resolve(e.invoke(i,o,x)),d.promise.then(function(t){x[n]=t,s()},u)}catch(t){u(t)}}var d=t.defer(),f=0;P(a,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(f++,y[t].then(function(e){x[t]=e,--f||c()},u))}),f||c(),y[n]=d.promise}if(p(r)&&o===n&&(o=a,a=r,r=null),r){if(!R(r))throw new Error("'locals' must be an object")}else r=c;if(a){if(!p(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=f;var h=t.defer(),m=h.promise,y=m.$$promises={},x=F({},r),b=1+v.length/3,$=!1;if(O(a.$$failure))return l(a.$$failure),m;a.$$inheritedValues&&i(x,d(a.$$inheritedValues,g)),F(y,a.$$promises),a.$$values?($=i(x,d(a.$$values,g)),m.$$inheritedValues=d(a.$$values,g),s()):(a.$$inheritedValues&&(m.$$inheritedValues=d(a.$$inheritedValues,g)),a.then(s,l));for(var w=0,_=v.length;_>w;w+=3)r.hasOwnProperty(v[w])?s():u(v[w],v[w+1],v[w+2]);return m}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function g(t,e,n){this.fromConfig=function(t,e,n){return O(t.template)?this.fromString(t.template,e):O(t.templateUrl)?this.fromUrl(t.templateUrl,e):O(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return j(t)?t(e):t},this.fromUrl=function(n,r){return j(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function v(t,e,i){function a(e,n,r,i){if(v.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new B.Param(e,n,r,i),g[e]}function o(t,e,n,r){var i=["",""],a=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return a;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return a+i[0]+e+i[1]}function s(i,a){var o,s,l,u,c;return o=i[2]||i[3],c=e.params[o],l=t.substring(f,i.index),s=a?i[4]:i[4]||("*"==i[1]?".*":null),u=B.type(s||"string")||r(B.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)}),{id:o,regexp:s,segment:l,type:u,cfg:c}}e=F({params:{}},R(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",f=0,h=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new B.ParamSet,v=[];this.source=t;for(var m,y,x;(l=u.exec(t))&&(m=s(l,!1),!(m.segment.indexOf("?")>=0));)y=a(m.id,m.type,m.cfg,"path"),d+=o(m.segment,y.type.pattern.source,y.squash,y.isOptional),h.push(m.segment),f=u.lastIndex;x=t.substring(f);var b=x.indexOf("?");if(b>=0){var $=this.sourceSearch=x.substring(b);if(x=x.substring(0,b),this.sourcePath=t.substring(0,f+b),$.length>0)for(f=0;l=c.exec($);)m=s(l,!0),y=a(m.id,m.type,m.cfg,"search"),f=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";d+=o(x)+(e.strict===!1?"/?":"")+"$",h.push(x),this.regexp=new RegExp(d,e.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=v}function m(t){F(this,t)}function y(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function a(){return{strict:g,caseInsensitive:p}}function l(t){return j(t)||I(t)&&j(t[t.length-1])}function u(){for(;w.length;){var t=w.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],d.invoke(t.def))}}function c(t){F(this,t||{})}B=this;var d,p=!1,g=!0,x=!1,b={},$=!0,w=[],_={string:{encode:t,decode:i,is:function(t){return"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return O(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,is:e.identity,equals:e.equals,pattern:/.*/}};y.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(t.value)},this.caseInsensitive=function(t){return O(t)&&(p=t),p},this.strictMode=function(t){return O(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!O(t))return x;if(t!==!0&&t!==!1&&!L(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return x=t,t},this.compile=function(t,e){return new v(t,F(a(),e))},this.isMatcher=function(t){if(!R(t))return!1;var e=!0;return P(v.prototype,function(n,r){j(n)&&(e=e&&O(t[r])&&j(t[r]))}),e},this.type=function(t,e,n){if(!O(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new m(F({name:t},e)),n&&(w.push({name:t,def:n}),$||u()),this},P(_,function(t,e){b[e]=new m(F({name:e},t))}),b=r(b,{}),this.$get=["$injector",function(t){return d=t,$=!1,u(),P(_,function(t,e){b[e]||(b[e]=new m(t))}),this}],this.Param=function(t,e,r,i){function a(t){var e=R(t)?o(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function u(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof m?e.type:new m(e.type):"config"===r?b.any:b.string}function c(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return F(e,n,r).array}function p(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!O(n)||null==n)return x;if(n===!0||L(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,r,i){var a,o,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return a=I(t.replace)?t.replace:[],L(i)&&a.push({from:i,to:n}),o=h(a,function(t){return t.from}),f(l,function(t){return-1===s(o,t.from)}).concat(a)}function v(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var t=d.invoke(r.$$fn);if(null!==t&&t!==n&&!w.type.is(t))throw new Error("Default value ("+t+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return t}function y(t){function e(t){return function(e){return e.from===t}}function n(t){var n=h(f(w.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),O(t)?w.type.$normalize(t):v()}function $(){return"{Param:"+t+" "+e+" squash: '"+k+"' optional: "+A+"}"}var w=this;r=a(r),e=u(r,e,i);var _=c();e=_?e.$asArray(_,"search"===i):e,"string"!==e.name||_||"path"!==i||r.value!==n||(r.value="");var A=r.value!==n,k=p(r,A),T=g(r,_,A,k);F(this,{id:t,type:e,location:i,array:_,squash:k,replace:T,isOptional:A,value:y,dynamic:n,config:r,toString:$})},c.prototype={$$new:function(){return r(this,F(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=o(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),P(e,function(e){P(o(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return P(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return P(r.$$keys(),function(i){var a=t&&t[i],o=e&&e[i];r[i].type.equals(a,o)||(n=!1)}),n},$$validates:function(t){var r,i,a,o,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],a=t[l[r]],a!==n&&null!==a||!i.isOptional);r++){if(o=i.type.$normalize(a),!i.type.is(o))return!1;if(s=i.type.encode(o),e.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function x(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function a(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function o(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return O(r)?r:!0}function s(r,i,a,o){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function f(t){function e(t){var e=t(a,r);return e?(L(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){var i=p&&r.url()===p;if(p=n,i)return!0;var o,s=u.length;for(o=0;s>o;o++)if(e(u[o]))return;c&&e(c)}}function h(){return l=l||i.$on("$locationChangeSuccess",f)}var p,g=o.baseHref(),v=r.url();return d||h(),{sync:function(){f()},listen:function(){return h()},update:function(t){return t?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(t,e,i){var a=t.format(e||{});null!==a&&e&&e["#"]&&(a+="#"+e["#"]),r.url(a),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,a){if(!n.validates(i))return null;var o=t.html5Mode();e.isObject(o)&&(o=o.enabled);var l=n.format(i);if(a=a||{},o||null===l||(l="#"+t.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=s(l,o,a.absolute),!a.absolute||!l)return l;var u=!o&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(t){if(!j(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(L(t)){var e=t;t=function(){return e}}else if(!j(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=L(e);if(L(t)&&(t=r.compile(t)),!s&&!j(e)&&!I(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),F(function(n,r){return o(n,e,t.exec(r.path(),r.search()))},{prefix:L(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return a(n,t)}]),F(function(n,r){return o(n,e,t.exec(r.path()))},{prefix:i(t)})}},u={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function b(t,i){function a(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function d(t,e){if(!t)return n;var r=L(t),i=r?t:t.name,o=a(i);if(o){if(!e)throw new Error("No reference point given for path '"+i+"'");e=d(e);for(var s=i.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var f=A[i];return!f||!r&&(r||f!==t&&f.self!==t)?n:f}function f(t,e){k[t]||(k[t]=[]),k[t].push(e)}function p(t){for(var e=k[t]||[];e.length;)g(e.shift())}function g(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!L(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(A.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):L(e.parent)?e.parent:R(e.parent)&&L(e.parent.name)?e.parent.name:"";if(i&&!A[i])return f(i,e.self);for(var a in S)j(S[a])&&(e[a]=S[a](e,S.$delegates[a]));return A[n]=e,!e[T]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){_.$current.navigable==e&&u(t,n)||_.transitionTo(e,t,{inherit:!0,location:!1})}]),p(n),e}function v(t){return t.indexOf("*")>-1}function m(t){for(var e=t.split("."),n=_.$current.name.split("."),r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function y(t,e){return L(t)&&!O(e)?S[t]:j(e)&&L(t)?(S[t]&&!S.$delegates[t]&&(S.$delegates[t]=S[t]),S[t]=e,this):this}function x(t,e){return R(t)?e=t:e.name=t,g(e),this}function b(t,i,a,s,f,p,g){function y(e,n,r,a){var o=t.$broadcast("$stateNotFound",e,n,r);if(o.defaultPrevented)return g.update(),S;if(!o.retry)return null;if(a.$retry)return g.update(),C;var s=_.transition=i.when(o.retry);return s.then(function(){return s!==_.transition?b:(e.options.$retry=!0,_.transitionTo(e.to,e.toParams,e.options))},function(){return S}),g.update(),s}function x(t,n,r,o,l,u){var d=r?n:c(t.params.$$keys(),n),h={$stateParams:d};l.resolve=f.resolve(t.resolve,h,l.resolve,t);var p=[l.resolve.then(function(t){l.globals=t})];return o&&p.push(o),P(t.views,function(n,r){var i=n.resolve&&n.resolve!==t.resolve?n.resolve:{};i.$template=[function(){return a.load(r,{view:n,locals:h,params:d,notify:u.notify})||""}],p.push(f.resolve(i,h,l.resolve,t).then(function(a){if(j(n.controllerProvider)||I(n.controllerProvider)){var o=e.extend({},i,h,a);a.$$controller=s.invoke(n.controllerProvider,null,o)}else a.$$controller=n.controller;a.$$state=t,a.$$controllerAs=n.controllerAs,l[r]=a}))}),i.all(p).then(function(){return l})}var b=i.reject(new Error("transition superseded")),k=i.reject(new Error("transition prevented")),S=i.reject(new Error("transition aborted")),C=i.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:w.self,$current:w,transition:null},_.reload=function(t){return _.transitionTo(_.current,p,{reload:t||!0,inherit:!1,notify:!0})},_.go=function(t,e,n){return _.transitionTo(t,e,F({inherit:!0,relative:_.$current},n))},_.transitionTo=function(e,n,a){n=n||{},a=F({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,u=_.$current,f=_.params,h=u.path,v=d(e,a.relative),m=n["#"];if(!O(v)){var A={to:e,toParams:n,options:a},S=y(A,u.self,f,a);if(S)return S;if(e=A.to,n=A.toParams,a=A.options,v=d(e,a.relative),!O(v)){if(!a.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+a.relative+"'")}}if(v[T])throw new Error("Cannot transition to abstract state '"+e+"'");if(a.inherit&&(n=l(p,n||{},_.$current,v)),!v.params.$$validates(n))return C;n=v.params.$$values(n),e=v;var M=e.path,E=0,D=M[E],j=w.locals,I=[],P=!1;if(a.reload){if(L(a.reload)||R(a.reload)){if(R(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var B=a.reload===!0?h[0]:d(a.reload);if(a.reload&&!B)throw new Error("No such reload state '"+(L(a.reload)?a.reload:a.reload.name)+"'");for(P=!0;D&&D===h[E]&&D!==B;)j=I[E]=D.locals,E++,D=M[E]}}else for(;D&&D===h[E]&&D.ownParams.$$equals(n,f);)j=I[E]=D.locals,E++,D=M[E];if(!P&&$(e,u,j,a))return e.self.reloadOnSearch!==!1&&g.update(),_.transition=null,i.when(_.current);if(n=c(e.params.$$keys(),n||{}),a.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,f).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,f),g.update(),k;for(var q=i.when(j),U=E;U<M.length;U++,D=M[U])j=I[U]=r(j),q=x(D,n,D===e,q,j,a);var V=_.transition=q.then(function(){var r,i,o;if(_.transition!==V)return b;for(r=h.length-1;r>=E;r--)o=h[r],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(r=E;r<M.length;r++)i=M[r],i.locals=I[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return m&&(n["#"]=m),_.transition!==V?b:(_.$current=e,_.current=e.self,_.params=n,N(_.params,p),_.transition=null,a.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,f),g.update(!0),_.current)},function(r){return _.transition!==V?b:(_.transition=null,o=t.$broadcast("$stateChangeError",e.self,n,u.self,f,r),o.defaultPrevented||g.update(),i.reject(r))});return V},_.is=function(t,e,r){r=F({relative:_.$current},r||{});var i=d(t,r.relative);return O(i)?_.$current!==i?!1:e?u(i.params.$$values(e),p):!0:n},_.includes=function(t,e,r){if(r=F({relative:_.$current},r||{}),L(t)&&v(t)){if(!m(t))return!1;t=_.$current.name}var i=d(t,r.relative);return O(i)?O(_.$current.includes[i.name])?e?u(i.params.$$values(e),p,o(e)):!0:!1:n},_.href=function(t,e,r){r=F({lossy:!0,inherit:!0,absolute:!1,relative:_.$current},r||{});
var i=d(t,r.relative);if(!O(i))return null;r.inherit&&(e=l(p,e||{},_.$current,i));var a=i&&r.lossy?i.navigable:i;return a&&a.url!==n&&null!==a.url?g.href(a.url,c(i.params.$$keys().concat("#"),e||{}),{absolute:r.absolute}):null},_.get=function(t,e){if(0===arguments.length)return h(o(A),function(t){return A[t].self});var n=d(t,e||_.$current);return n&&n.self?n.self:null},_}function $(t,e,n,r){return t!==e||(n!==e.locals||r.reload)&&t.self.reloadOnSearch!==!1?void 0:!0}var w,_,A={},k={},T="abstract",S={parent:function(t){if(O(t.parent)&&t.parent)return d(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?d(e[1]):w},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=F({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(L(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||w).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new B.ParamSet;return P(t.params||{},function(t,n){e[n]||(e[n]=new B.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?F(t.parent.params.$$new(),t.ownParams):new B.ParamSet},views:function(t){var e={};return P(O(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?F({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};w=g({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=y,this.state=x,this.$get=b,b.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $(){function t(t,e){return{load:function(n,r){var i,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=F(a,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function w(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function _(t,n,r,i){function a(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function o(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){var r=u.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=u.leave(t,e);n&&n.then&&n.then(e)}};if(l){var r=l&&l(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=a(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,s){return function(n,a,l){function u(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(m.leave(f,function(){d=null}),d=f,f=null)}function c(o){var c,d=k(n,l,a,i),y=d&&t.$current&&t.$current.locals[d];if(o||y!==p){c=n.$new(),p=t.$current.locals[d];var x=s(c,function(t){m.enter(t,a,function(){h&&h.$emit("$viewContentAnimationEnded"),(e.isDefined(v)&&!v||n.$eval(v))&&r(t)}),u()});f=x,h=c,h.$emit("$viewContentLoaded"),h.$eval(g)}}var d,f,h,p,g=l.onload||"",v=l.autoscroll,m=o(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function A(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return function(i,o,s){var l=n.$current,u=k(i,s,o,r),c=l&&l.locals[u];if(c){o.data("$uiView",{name:u,state:c.$$state}),o.html(c.$template?c.$template:a);var d=t(o.contents());if(c.$$controller){c.$scope=i,c.$element=o;var f=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=f),o.data("$ngControllerController",f),o.children().data("$ngControllerController",f)}d(i)}}}}}function k(t,e,n,r){var i=r(e.uiView||e.name||"")(t),a=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(a?a.state.name:"")}function T(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function S(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function C(t,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,a,o,s){var l=T(o.uiSref,t.current.name),u=null,c=S(a)||t.$current,d="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href"))?"xlink:href":"href",f=null,h="A"===a.prop("tagName").toUpperCase(),p="FORM"===a[0].nodeName,g=p?"action":d,v=!0,m={relative:c,inherit:!0},y=i.$eval(o.uiSrefOpts)||{};e.forEach(r,function(t){t in y&&(m[t]=y[t])});var x=function(n){if(n&&(u=e.copy(n)),v){f=t.href(l.state,u,m);var r=s[1]||s[0];return r&&r.$$addStateInfo(l.state,u),null===f?(v=!1,!1):void o.$set(g,f)}};l.paramExpr&&(i.$watch(l.paramExpr,function(t){t!==u&&x(t)},!0),u=e.copy(i.$eval(l.paramExpr))),x(),p||a.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||a.attr("target"))){var i=n(function(){t.go(l.state,u,m)});e.preventDefault();var o=h&&!f?1:0;e.preventDefault=function(){o--<=0&&n.cancel(i)}}})}}}function M(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function a(){o()?r.addClass(l):r.removeClass(l)}function o(){for(var t=0;t<u.length;t++)if(s(u[t].state,u[t].params))return!0;return!1}function s(e,n){return"undefined"!=typeof i.uiSrefActiveEq?t.is(e.name,n):t.includes(e.name,n)}var l,u=[];l=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$addStateInfo=function(e,n){var i=t.get(e,S(r));u.push({state:i||{name:e},params:n}),a()},e.$on("$stateChangeSuccess",a)}]}}function E(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function D(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var O=e.isDefined,j=e.isFunction,L=e.isString,R=e.isObject,I=e.isArray,P=e.forEach,F=e.extend,N=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",p),g.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",g);var B;v.prototype.concat=function(t,e){var n={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,F(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var r=e(t).split(/-(?!\\)/),i=h(r,e);return h(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,a,o,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){o=s[i];var d=this.params[o],f=r[i+1];for(a=0;a<d.replace;a++)d.replace[a].from===f&&(f=d.replace[a].to);f&&d.array===!0&&(f=n(f)),c[o]=d.value(f)}for(;l>i;i++)o=s[i],c[o]=this.params[o].value(e[o]);return c},v.prototype.parameters=function(t){return O(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var a,o=!1,s=n.length-1,l=r.length,u=n[0];for(a=0;l>a;a++){var c=s>a,d=r[a],f=i[d],p=f.value(t[d]),g=f.isOptional&&f.type.equals(f.value(),p),v=g?f.squash:!1,m=f.type.encode(p);if(c){var y=n[a+1];if(v===!1)null!=m&&(u+=I(m)?h(m,e).join("-"):encodeURIComponent(m)),u+=y;else if(v===!0){var x=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(x)[1]}else L(v)&&(u+=v+y)}else{if(null==m||g&&v!==!1)continue;I(m)||(m=[m]),m=h(m,encodeURIComponent).join("&"+d+"="),u+=(o?"&":"?")+(d+"="+m),o=!0}}return u},m.prototype.is=function(){return!0},m.prototype.encode=function(t){return t},m.prototype.decode=function(t){return t},m.prototype.equals=function(t,e){return t==e},m.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},m.prototype.pattern=/.*/,m.prototype.toString=function(){return"{Type:"+this.name+"}"},m.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},m.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return I(t)?t:O(t)?[t]:[]}function a(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function o(t){return!t}function s(t,e){return function(n){n=i(n);var r=h(n,t);return e===!0?0===f(r,o).length:a(r)}}function l(t){return function(e,n){var r=i(e),a=i(n);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!t(r[o],a[o]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$normalize=s(r(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",y),e.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),x.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",x),b.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",b),$.$inject=[],e.module("ui.router.state").provider("$view",$),e.module("ui.router.state").provider("$uiViewScroll",w),_.$inject=["$state","$injector","$uiViewScroll","$interpolate"],A.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",_),e.module("ui.router.state").directive("uiView",A),C.$inject=["$state","$timeout"],M.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",M).directive("uiSrefActiveEq",M),E.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",E).filter("includedByState",D)}(window,window.angular)},{}],7:[function(){!function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],a="["+(t?t+":":"")+i+"] ",o=arguments[1],s=arguments;for(n=a+o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<s.length?fe(s[e+2]):t}),n=n+"\nhttp://errors.angularjs.org/1.3.15/"+(t?t+"/":"")+i,r=2;r<arguments.length;r++)n=n+(2==r?"?":"&")+"p"+(r-2)+"="+encodeURIComponent(fe(arguments[r]));return new e(n)}}function i(t){if(null==t||k(t))return!1;var e=t.length;return t.nodeType===xi&&e?!0:b(t)||fi(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function a(t,e,n){var r,o;if(t)if(_(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(fi(t)||i(t)){var s="object"!=typeof t;for(r=0,o=t.length;o>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==a)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function o(t){return Object.keys(t).sort()}function s(t,e,n){for(var r=o(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function l(t){return function(e,n){t(n,e)}}function u(){return++ci}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function d(t){for(var e=t.$$hashKey,n=1,r=arguments.length;r>n;n++){var i=arguments[n];if(i)for(var a=Object.keys(i),o=0,s=a.length;s>o;o++){var l=a[o];t[l]=i[l]}}return c(t,e),t}function f(t){return parseInt(t,10)}function h(t,e){return d(Object.create(t),e)}function p(){}function g(t){return t}function v(t){return function(){return t}}function m(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function x(t){return null!==t&&"object"==typeof t}function b(t){return"string"==typeof t}function $(t){return"number"==typeof t}function w(t){return"[object Date]"===si.call(t)}function _(t){return"function"==typeof t}function A(t){return"[object RegExp]"===si.call(t)}function k(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function S(t){return"[object File]"===si.call(t)}function C(t){return"[object FormData]"===si.call(t)}function M(t){return"[object Blob]"===si.call(t)}function E(t){return"boolean"==typeof t}function D(t){return t&&_(t.then)}function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function j(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function L(t){return Wr(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),e}function I(t,e,n,r){if(k(t)||T(t))throw li("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(e){if(t===e)throw li("cpi","Can't copy! Source and destination are identical.");if(n=n||[],r=r||[],x(t)){var i=n.indexOf(t);if(-1!==i)return r[i];n.push(t),r.push(e)}var o;if(fi(t)){e.length=0;for(var s=0;s<t.length;s++)o=I(t[s],null,n,r),x(t[s])&&(n.push(t[s]),r.push(o)),e.push(o)}else{var l=e.$$hashKey;fi(e)?e.length=0:a(e,function(t,n){delete e[n]});for(var u in t)t.hasOwnProperty(u)&&(o=I(t[u],null,n,r),x(t[u])&&(n.push(t[u]),r.push(o)),e[u]=o);c(e,l)}}else if(e=t,t)if(fi(t))e=I(t,[],n,r);else if(w(t))e=new Date(t.getTime());else if(A(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else if(x(t)){var d=Object.create(Object.getPrototypeOf(t));e=I(t,d,n,r)}return e}function P(t,e){if(fi(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(x(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function F(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,a,o=typeof t,s=typeof e;if(o==s&&"object"==o){if(!fi(t)){if(w(t))return w(e)?F(t.getTime(),e.getTime()):!1;if(A(t))return A(e)?t.toString()==e.toString():!1;if(T(t)||T(e)||k(t)||k(e)||fi(e)||w(e)||A(e))return!1;a={};for(i in t)if("$"!==i.charAt(0)&&!_(t[i])){if(!F(t[i],e[i]))return!1;a[i]=!0}for(i in e)if(!a.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==n&&!_(e[i]))return!1;return!0}if(!fi(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!F(t[i],e[i]))return!1;return!0}}return!1}function N(t,e,n){return t.concat(ii.call(e,n))}function B(t,e){return ii.call(t,e||0)}function q(t,e){var n=arguments.length>2?B(arguments,2):[];return!_(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,N(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function U(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:k(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":T(r)&&(i="$SCOPE"),i}function V(t,e){return"undefined"==typeof t?n:($(e)||(e=e?2:null),JSON.stringify(t,U,e))}function z(t){return b(t)?JSON.parse(t):t}function X(t){t=ei(t).clone();try{t.empty()}catch(e){}var n=ei("<div>").append(t).html();try{return t[0].nodeType===bi?Wr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Wr(e)})}catch(e){return Wr(n)}}function H(t){try{return decodeURIComponent(t)}catch(e){}}function Y(t){var e,n,r={};return a((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=H(e[0]),y(n))){var i=y(e[1])?H(e[1]):!0;Kr.call(r,n)?fi(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function G(t){var e=[];return a(t,function(t,n){fi(t)?a(t,function(t){e.push(K(n,!0)+(t===!0?"":"="+K(t,!0)))}):e.push(K(n,!0)+(t===!0?"":"="+K(t,!0)))}),e.length?e.join("&"):""}function W(t){return K(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Z(t,e){var n,r,i=vi.length;for(t=ei(t),r=0;i>r;++r)if(n=vi[r]+e,b(n=t.attr(n)))return n;return null}function J(t,e){var n,r,i={};a(vi,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),a(vi,function(e){var i,a=e+"app";!n&&(i=t.querySelector("["+a.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(a))}),n&&(i.strictDi=null!==Z(n,"strict-di"),e(n,r?[r]:[],i))}function Q(n,r,i){x(i)||(i={});var o={strictDi:!1};i=d(o,i);var s=function(){if(n=ei(n),n.injector()){var t=n[0]===e?"document":X(n);throw li("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var a=ze(r,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),a},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),ui.resumeBootstrap=function(t){return a(t,function(t){r.push(t)}),s()},void(_(ui.resumeDeferredBootstrap)&&ui.resumeDeferredBootstrap()))}function te(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ee(t){var e=ui.element(t).injector();if(!e)throw li("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ne(t,e){return e=e||"_",t.replace(mi,function(t,n){return(n?e:"")+t.toLowerCase()})}function re(){var e;yi||(ni=t.jQuery,ni&&ni.fn.on?(ei=ni,d(ni.fn,{scope:Fi.scope,isolateScope:Fi.isolateScope,controller:Fi.controller,injector:Fi.injector,inheritedData:Fi.inheritedData}),e=ni.cleanData,ni.cleanData=function(t){var n;if(di)di=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=ni._data(r,"events"),n&&n.$destroy&&ni(r).triggerHandler("$destroy");e(t)}):ei=be,ui.element=ei,yi=!0)}function ie(t,e,n){if(!t)throw li("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ae(t,e,n){return n&&fi(t)&&(t=t[t.length-1]),ie(_(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function oe(t,e){if("hasOwnProperty"===t)throw li("badname","hasOwnProperty is not a valid {0} name",e)}function se(t,e,n){if(!e)return t;for(var r,i=e.split("."),a=t,o=i.length,s=0;o>s;s++)r=i[s],t&&(t=(a=t)[r]);return!n&&_(t)?q(a,t):t}function le(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return ei(r)}function ue(){return Object.create(null)}function ce(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),a=e(t,"angular",Object);return a.$$minErr=a.$$minErr||r,e(a,"module",function(){var t={};return function(r,a,o){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),a&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),u}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],i=[],s=[],l=t("$injector","invoke","push",i),u={_invokeQueue:e,_configBlocks:i,_runBlocks:s,requires:a,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(t){return s.push(t),this}};return o&&l(o),u})}})}function de(t){var e=[];return JSON.stringify(t,function(t,n){if(n=U(t,n),x(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function fe(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?de(t):t}function he(e){d(e,{bootstrap:Q,copy:I,extend:d,equals:F,element:ei,forEach:a,injector:ze,noop:p,bind:q,toJson:V,fromJson:z,identity:g,isUndefined:m,isDefined:y,isString:b,isFunction:_,isObject:x,isNumber:$,isElement:O,isArray:fi,version:Ai,isDate:w,lowercase:Wr,uppercase:Zr,callbacks:{counter:0},getTestability:ee,$$minErr:r,$$csp:gi,reloadWithDebugInfo:te}),ri=ce(t);try{ri("ngLocale")}catch(n){ri("ngLocale",[]).provider("$locale",mn)}ri("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Wn}),t.provider("$compile",Ze).directive({a:Ea,input:Ya,textarea:Ya,form:Ra,script:Po,select:Bo,style:Uo,option:qo,ngBind:Ka,ngBindHtml:Ja,ngBindTemplate:Za,ngClass:to,ngClassEven:no,ngClassOdd:eo,ngCloak:ro,ngController:io,ngForm:Ia,ngHide:Do,ngIf:so,ngInclude:lo,ngInit:co,ngNonBindable:ko,ngPluralize:To,ngRepeat:So,ngShow:Eo,ngStyle:Oo,ngSwitch:jo,ngSwitchWhen:Lo,ngSwitchDefault:Ro,ngOptions:No,ngTransclude:Io,ngModel:wo,ngList:fo,ngChange:Qa,pattern:zo,ngPattern:zo,required:Vo,ngRequired:Vo,minlength:Ho,ngMinlength:Ho,maxlength:Xo,ngMaxlength:Xo,ngValue:Wa,ngModelOptions:Ao}).directive({ngInclude:uo}).directive(Da).directive(ao),t.provider({$anchorScroll:Xe,$animate:Gi,$browser:Ge,$cacheFactory:We,$controller:en,$document:nn,$exceptionHandler:rn,$filter:sr,$interpolate:gn,$interval:vn,$http:dn,$httpBackend:hn,$location:Dn,$log:On,$parse:Vn,$rootScope:Gn,$q:zn,$$q:Xn,$sce:Qn,$sceDelegate:Jn,$sniffer:tr,$templateCache:Ke,$templateRequest:er,$$testability:nr,$timeout:rr,$window:or,$$rAF:Yn,$$asyncCallback:He,$$jqLite:Ne})}])}function pe(){return++Ti}function ge(t){return t.replace(Mi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Ei,"Moz$1")}function ve(t){return!Li.test(t)}function me(t){var e=t.nodeType;return e===xi||!e||e===wi}function ye(t,e){var n,r,i,o,s=e.createDocumentFragment(),l=[];if(ve(t))l.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(Ri.exec(t)||["",""])[1].toLowerCase(),i=Pi[r]||Pi._default,n.innerHTML=i[1]+t.replace(Ii,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;l=N(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(l,function(t){s.appendChild(t)}),s}function xe(t,n){n=n||e;var r;return(r=ji.exec(t))?[n.createElement(r[1])]:(r=ye(t,n))?r.childNodes:[]}function be(t){if(t instanceof be)return t;var e;if(b(t)&&(t=hi(t),e=!0),!(this instanceof be)){if(e&&"<"!=t.charAt(0))throw Oi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new be(t)}e?Ee(this,xe(t)):Ee(this,t)}function $e(t){return t.cloneNode(!0)}function we(t,e){if(e||Ae(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ae(n[r])}function _e(t,e,n,r){if(y(r))throw Oi("offargs","jqLite#off() does not support the `selector` argument");var i=ke(t),o=i&&i.events,s=i&&i.handle;if(s)if(e)a(e.split(" "),function(e){if(y(n)){var r=o[e];if(R(r||[],n),r&&r.length>0)return}Ci(t,e,s),delete o[e]});else for(e in o)"$destroy"!==e&&Ci(t,e,s),delete o[e]}function Ae(t,e){var r=t.ng339,i=r&&ki[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),_e(t)),delete ki[r],t.ng339=n}}function ke(t,e){var r=t.ng339,i=r&&ki[r];return e&&!i&&(t.ng339=r=pe(),i=ki[r]={events:{},data:{},handle:n}),i}function Te(t,e,n){if(me(t)){var r=y(n),i=!r&&e&&!x(e),a=!e,o=ke(t,!i),s=o&&o.data;if(r)s[e]=n;else{if(a)return s;if(i)return s&&s[e];d(s,e)}}}function Se(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Ce(t,e){e&&t.setAttribute&&a(e.split(" "),function(e){t.setAttribute("class",hi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+hi(e)+" "," ")))})}function Me(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(e.split(" "),function(t){t=hi(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",hi(n))}}function Ee(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function De(t,e){return Oe(t,"$"+(e||"ngController")+"Controller")}function Oe(t,e,r){t.nodeType==wi&&(t=t.documentElement);for(var i=fi(e)?e:[e];t;){for(var a=0,o=i.length;o>a;a++)if((r=ei.data(t,i[a]))!==n)return r;t=t.parentNode||t.nodeType===_i&&t.host}}function je(t){for(we(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Le(t,e){e||we(t);var n=t.parentNode;n&&n.removeChild(t)}function Re(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):ei(n).on("load",e)}function Ie(t,e){var n=Ni[e.toLowerCase()];return n&&Bi[L(t)]&&n}function Pe(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&qi[e]}function Fe(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],a=i?i.length:0;if(a){if(m(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},a>1&&(i=P(i));for(var s=0;a>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Ne(){this.$get=function(){return d(be,{hasClass:function(t,e){return t.attr&&(t=t[0]),Se(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Me(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ce(t,e)}})}}function Be(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function qe(t,e){if(e){var n=0;this.nextUid=function(){return++n}}a(t,this.put,this)}function Ue(t){var e=t.toString().replace(Xi,""),n=e.match(Ui);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ve(t,e,n){var r,i,o,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw b(n)&&n||(n=t.name||Ue(t)),Hi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Xi,""),o=i.match(Ui),a(o[1].split(Vi),function(t){t.replace(zi,function(t,e,n){r.push(n)})})}t.$inject=r}}else fi(t)?(s=t.length-1,ae(t[s],"fn"),r=t.slice(0,s)):ae(t,"fn",!0);return r}function ze(t,e){function r(t){return function(e,n){return x(e)?void a(e,l(t)):t(e,n)}}function i(t,e){if(oe(t,"service"),(_(e)||fi(e))&&(e=T.instantiate(e)),!e.$get)throw Hi("pget","Provider '{0}' must define $get factory method.",t);return k[t+$]=e}function o(t,e){return function(){var n=C.invoke(e,this);if(m(n))throw Hi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?o(t,e):e})}function u(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return s(t,v(e),!1)}function d(t,e){oe(t,"constant"),k[t]=e,S[t]=e}function f(t,e){var n=T.get(t+$),r=n.$get;n.$get=function(){var t=C.invoke(r,n);return C.invoke(e,null,{$delegate:t})}}function h(t){var e,n=[];return a(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=T.get(r[0]);i[r[1]].apply(i,r[2])}}if(!A.get(t)){A.put(t,!0);try{b(t)?(e=ri(t),n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):_(t)?n.push(T.invoke(t)):fi(t)?n.push(T.invoke(t)):ae(t,"module")}catch(i){throw fi(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Hi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function g(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===y)throw Hi("cdep","Circular dependency found: {0}",e+" <- "+w.join(" <- "));return t[e]}try{return w.unshift(e),t[e]=y,t[e]=n(e,r)}catch(i){throw t[e]===y&&delete t[e],i}finally{w.shift()}}function i(t,n,i,a){"string"==typeof i&&(a=i,i=null);var o,s,l,u=[],c=ze.$$annotate(t,e,a);for(s=0,o=c.length;o>s;s++){if(l=c[s],"string"!=typeof l)throw Hi("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,a))}return fi(t)&&(t=t[o]),t.apply(n,u)}function a(t,e,n){var r=Object.create((fi(t)?t[t.length-1]:t).prototype||null),a=i(t,r,e,n);return x(a)||_(a)?a:r}return{invoke:i,instantiate:a,get:r,annotate:ze.$$annotate,has:function(e){return k.hasOwnProperty(e+$)||t.hasOwnProperty(e)}}}e=e===!0;var y={},$="Provider",w=[],A=new qe([],!0),k={$provide:{provider:r(i),factory:r(s),service:r(u),value:r(c),constant:r(d),decorator:f}},T=k.$injector=g(k,function(t,e){throw ui.isString(e)&&w.push(e),Hi("unpr","Unknown provider: {0}",w.join(" <- "))}),S={},C=S.$injector=g(S,function(t,e){var r=T.get(t+$,e);return C.invoke(r.$get,r,n,t)});return a(h(t),function(t){C.invoke(t||p)}),C}function Xe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===L(t)?(e=t,!0):void 0}),e}function a(){var t=s.yOffset;if(_(t))t=t();else if(O(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else $(t)||(t=0);return t}function o(t){if(t){t.scrollIntoView();var n=a();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(){var t,e=n.hash();e?(t=l.getElementById(e))?o(t):(t=i(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&Re(function(){r.$evalAsync(s)})}),s}]}function He(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function Ye(t,e,r,i){function o(t){try{t.apply(null,B(arguments,1))}finally{if(A--,0===A)for(;k.length;)try{k.pop()()}catch(e){r.error(e)}}}function s(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function l(t,e){!function n(){a(S,function(t){t()}),T=e(n,t)}()}function u(){d(),f()}function c(){try{return x.state}catch(t){}}function d(){C=c(),C=m(C)?null:C,F(C,R)&&(C=R),R=C}function f(){(E!==g.url()||M!==C)&&(E=g.url(),M=C,a(j,function(t){t(g.url(),C)}))}function h(t){try{return decodeURIComponent(t)}catch(e){return t}}var g=this,v=e[0],y=t.location,x=t.history,$=t.setTimeout,w=t.clearTimeout,_={};g.isMock=!1;var A=0,k=[];g.$$completeOutstandingRequest=o,g.$$incOutstandingRequestCount=function(){A++},g.notifyWhenNoOutstandingRequests=function(t){a(S,function(t){t()}),0===A?t():k.push(t)};var T,S=[];g.addPollFn=function(t){return m(T)&&l(100,$),S.push(t),t};var C,M,E=y.href,D=e.find("base"),O=null;d(),M=C,g.url=function(e,n,r){if(m(r)&&(r=null),y!==t.location&&(y=t.location),x!==t.history&&(x=t.history),e){var a=M===r;if(E===e&&(!i.history||a))return g;var o=E&&wn(E)===wn(e);return E=e,M=r,!i.history||o&&a?(o||(O=e),n?y.replace(e):o?y.hash=s(e):y.href=e):(x[n?"replaceState":"pushState"](r,"",e),d(),M=C),g}return O||y.href.replace(/%27/g,"'")},g.state=function(){return C};var j=[],L=!1,R=null;g.onUrlChange=function(e){return L||(i.history&&ei(t).on("popstate",u),ei(t).on("hashchange",u),L=!0),j.push(e),e},g.$$checkUrlChange=f,g.baseHref=function(){var t=D.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var I={},P="",N=g.baseHref();
g.cookies=function(t,e){var i,a,o,s,l;if(!t){if(v.cookie!==P)for(P=v.cookie,a=P.split("; "),I={},s=0;s<a.length;s++)o=a[s],l=o.indexOf("="),l>0&&(t=h(o.substring(0,l)),I[t]===n&&(I[t]=h(o.substring(l+1))));return I}e===n?v.cookie=encodeURIComponent(t)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":b(e)&&(i=(v.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+N).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},g.defer=function(t,e){var n;return A++,n=$(function(){delete _[n],o(t)},e||0),_[n]=!0,n},g.defer.cancel=function(t){return _[t]?(delete _[t],w(t),o(p),!0):!1}}function Ge(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ye(t,r,e,n)}]}function We(){this.$get=function(){function t(t,n){function i(t){t!=f&&(h?h==t&&(h=t.n):h=t,a(t.n,t.p),a(t,f),f=t,f.n=null)}function a(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var o=0,s=d({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},f=null,h=null;return e[t]={put:function(t,e){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}if(!m(e))return t in l||o++,l[t]=e,o>u&&this.remove(h.key),e},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==f&&(f=e.p),e==h&&(h=e.n),a(e.n,e.p),delete c[t]}delete l[t],o--},removeAll:function(){l={},o=0,c={},f=h=null},destroy:function(){l=null,s=null,c=null,delete e[t]},info:function(){return d({},s,{size:o})}}}var e={};return t.info=function(){var t={};return a(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ke(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Ze(t,r){function i(t,e){var n=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return a(t,function(t,i){var a=t.match(n);if(!a)throw Wi("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t);r[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),r}var o={},s="Directive",u=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=j("ngSrc,ngSrcset,src,srcset"),m=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,$=/^(on[a-z]+|formaction)$/;this.directive=function A(e,n){return oe(e,"directive"),b(e)?(ie(n,"directiveFactory"),o.hasOwnProperty(e)||(o[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return a(o[e],function(a,o){try{var s=t.invoke(a);_(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA",x(s.scope)&&(s.$$isolateBindings=i(s.scope,s.name)),r.push(s)}catch(l){n(l)}}),r}])),o[e].push(n)):a(e,l(A)),this},this.aHrefSanitizationWhitelist=function(t){return y(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(t){return y(t)?(w=t,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,l,v,y,A,k,S,C,M){function E(t,e){try{t.addClass(e)}catch(n){}}function D(t,e,n,r,i){t instanceof ei||(t=ei(t)),a(t,function(e,n){e.nodeType==bi&&e.nodeValue.match(/\S+/)&&(t[n]=ei(e).wrap("<span></span>").parent()[0])});var o=j(t,e,t,n,r,i);D.$$addScopeClass(t);var s=null;return function(e,n,r){ie(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=O(l));var u;if(u="html"!==s?ei(J(s,ei("<div>").append(t).html())):n?Fi.clone.call(t):t,a)for(var c in a)u.data("$"+c+"Controller",a[c].instance);return D.$$addScopeInfo(u,e),n&&n(u,e),o&&o(e,u,u,i),u}}function O(t){var e=t&&t[0];return e&&"foreignobject"!==L(e)&&e.toString().match(/SVG/)?"svg":"html"}function j(t,e,r,i,a,o){function s(t,r,i,a){var o,s,l,u,c,d,f,h,v;if(p){var m=r.length;for(v=new Array(m),c=0;c<g.length;c+=3)f=g[c],v[f]=r[f]}else v=r;for(c=0,d=g.length;d>c;)l=v[g[c++]],o=g[c++],s=g[c++],o?(o.scope?(u=t.$new(),D.$$addScopeInfo(ei(l),u)):u=t,h=o.transcludeOnThisElement?I(t,o.transclude,a,o.elementTranscludeOnThisElement):!o.templateOnThisElement&&a?a:!a&&e?I(t,e):null,o(s,u,l,i,h)):s&&s(t,l.childNodes,n,a)}for(var l,u,c,d,f,h,p,g=[],v=0;v<t.length;v++)l=new oe,u=P(t[v],[],l,0===v?i:n,a),c=u.length?U(u,t[v],l,e,r,null,[],[],o):null,c&&c.scope&&D.$$addScopeClass(l.$$element),f=c&&c.terminal||!(d=t[v].childNodes)||!d.length?null:j(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(g.push(v,c,f),h=!0,p=p||c),o=null;return h?s:null}function I(t,e,n){var r=function(r,i,a,o,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})};return r}function P(t,e,n,r,i){var a,o,s=t.nodeType,l=n.$attr;switch(s){case xi:z(e,Je(L(t)),"E",r,i);for(var d,f,h,p,g,v,m=t.attributes,y=0,$=m&&m.length;$>y;y++){var w=!1,_=!1;d=m[y],f=d.name,g=hi(d.value),p=Je(f),(v=de.test(p))&&(f=f.replace(Ki,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var A=p.replace(/(Start|End)$/,"");H(A)&&p===A+"Start"&&(w=f,_=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=Je(f.toLowerCase()),l[h]=f,(v||!n.hasOwnProperty(h))&&(n[h]=g,Ie(t,h)&&(n[h]=!0)),te(t,e,g,h,v),z(e,h,"A",r,i,w,_)}if(o=t.className,x(o)&&(o=o.animVal),b(o)&&""!==o)for(;a=c.exec(o);)h=Je(a[2]),z(e,h,"C",r,i)&&(n[h]=hi(a[3])),o=o.substr(a.index+a[0].length);break;case bi:Z(e,t.nodeValue);break;case $i:try{a=u.exec(t.nodeValue),a&&(h=Je(a[1]),z(e,h,"M",r,i)&&(n[h]=hi(a[2])))}catch(k){}}return e.sort(W),e}function N(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Wi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==xi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return ei(r)}function q(t,e,n){return function(r,i,a,o,s){return i=N(i[0],e,n),t(r,i,a,o,s)}}function U(t,o,s,l,u,c,d,f,h){function p(t,e,n,r){t&&(n&&(t=q(t,n,r)),t.require=k.require,t.directiveName=S,(L===k||k.$$isolateScope)&&(t=re(t,{isolateScope:!0})),d.push(t)),e&&(n&&(e=q(e,n,r)),e.require=k.require,e.directiveName=S,(L===k||k.$$isolateScope)&&(e=re(e,{isolateScope:!0})),f.push(e))}function g(t,e,n,r){var i,o,s="data",l=!1,u=n;if(b(e)){if(o=e.match(m),e=e.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?s="inheritedData":"^^"===o[1]&&(s="inheritedData",u=n.parent()),"?"===o[2]&&(l=!0),i=null,r&&"data"===s&&(i=r[e])&&(i=i.instance),i=i||u[s]("$"+e+"Controller"),!i&&!l)throw Wi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",e,t);return i||null}return fi(e)&&(i=[],a(e,function(e){i.push(g(t,e,n,r))})),i}function $(t,e,i,l,u){function c(t,e,r){var i;return T(t)||(r=e,e=t,t=n),H&&(i=$),r||(r=H?_.parent():_),u(t,e,i,r,M)}var h,p,m,x,b,$,w,_,k;if(o===i?(k=s,_=s.$$element):(_=ei(i),k=new oe(_,s)),L&&(b=e.$new(!0)),u&&(w=c,w.$$boundTransclude=u),j&&(A={},$={},a(j,function(t){var n,r={$scope:t===L||t.$$isolateScope?b:e,$element:_,$attrs:k,$transclude:w};x=t.controller,"@"==x&&(x=k[t.name]),n=y(x,r,!0,t.controllerAs),$[t.name]=n,H||_.data("$"+t.name+"Controller",n.instance),A[t.name]=n})),L){D.$$addScopeInfo(_,b,!0,!(R&&(R===L||R===L.$$originalDirective))),D.$$addScopeClass(_,!0);var S=A&&A[L.name],C=b;S&&S.identifier&&L.bindToController===!0&&(C=S.instance),a(b.$$isolateBindings=L.$$isolateBindings,function(t,n){var i,a,o,s,l=t.attrName,u=t.optional,c=t.mode;switch(c){case"@":k.$observe(l,function(t){C[n]=t}),k.$$observers[l].$$scope=e,k[l]&&(C[n]=r(k[l])(e));break;case"=":if(u&&!k[l])return;a=v(k[l]),s=a.literal?F:function(t,e){return t===e||t!==t&&e!==e},o=a.assign||function(){throw i=C[n]=a(e),Wi("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",k[l],L.name)},i=C[n]=a(e);var d=function(t){return s(t,C[n])||(s(t,i)?o(e,t=C[n]):C[n]=t),i=t};d.$stateful=!0;var f;f=t.collection?e.$watchCollection(k[l],d):e.$watch(v(k[l],d),null,a.literal),b.$on("$destroy",f);break;case"&":a=v(k[l]),C[n]=function(t){return a(e,t)}}})}for(A&&(a(A,function(t){t()}),A=null),h=0,p=d.length;p>h;h++)m=d[h],ae(m,m.isolateScope?b:e,_,k,m.require&&g(m.directiveName,m.require,_,$),w);var M=e;for(L&&(L.template||null===L.templateUrl)&&(M=b),t&&t(M,i.childNodes,n,u),h=f.length-1;h>=0;h--)m=f[h],ae(m,m.isolateScope?b:e,_,k,m.require&&g(m.directiveName,m.require,_,$),w)}h=h||{};for(var w,A,k,S,C,M,E,O=-Number.MAX_VALUE,j=h.controllerDirectives,L=h.newIsolateScopeDirective,R=h.templateDirective,I=h.nonTlbTranscludeDirective,U=!1,z=!1,H=h.hasElementTranscludeDirective,W=s.$$element=ei(o),Z=c,Q=l,te=0,ne=t.length;ne>te;te++){k=t[te];var ie=k.$$start,se=k.$$end;if(ie&&(W=N(o,ie,se)),C=n,O>k.priority)break;if((E=k.scope)&&(k.templateUrl||(x(E)?(K("new/isolated scope",L||w,k,W),L=k):K("new/isolated scope",L,k,W)),w=w||k),S=k.name,!k.templateUrl&&k.controller&&(E=k.controller,j=j||{},K("'"+S+"' controller",j[S],k,W),j[S]=k),(E=k.transclude)&&(U=!0,k.$$tlb||(K("transclusion",I,k,W),I=k),"element"==E?(H=!0,O=k.priority,C=W,W=s.$$element=ei(e.createComment(" "+S+": "+s[S]+" ")),o=W[0],ee(u,B(C),o),Q=D(C,l,O,Z&&Z.name,{nonTlbTranscludeDirective:I})):(C=ei($e(o)).contents(),W.empty(),Q=D(C,l))),k.template)if(z=!0,K("template",R,k,W),R=k,E=_(k.template)?k.template(W,s):k.template,E=ce(E),k.replace){if(Z=k,C=ve(E)?[]:tn(J(k.templateNamespace,hi(E))),o=C[0],1!=C.length||o.nodeType!==xi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");ee(u,W,o);var le={$attr:{}},ue=P(o,[],le),de=t.splice(te+1,t.length-(te+1));L&&V(ue),t=t.concat(ue).concat(de),Y(s,le),ne=t.length}else W.html(E);if(k.templateUrl)z=!0,K("template",R,k,W),R=k,k.replace&&(Z=k),$=G(t.splice(te,t.length-te),W,s,u,U&&Q,d,f,{controllerDirectives:j,newIsolateScopeDirective:L,templateDirective:R,nonTlbTranscludeDirective:I}),ne=t.length;else if(k.compile)try{M=k.compile(W,s,Q),_(M)?p(null,M,ie,se):M&&p(M.pre,M.post,ie,se)}catch(fe){i(fe,X(W))}k.terminal&&($.terminal=!0,O=Math.max(O,k.priority))}return $.scope=w&&w.scope===!0,$.transcludeOnThisElement=U,$.elementTranscludeOnThisElement=H,$.templateOnThisElement=z,$.transclude=Q,h.hasElementTranscludeDirective=H,$}function V(t){for(var e=0,n=t.length;n>e;e++)t[e]=h(t[e],{$$isolateScope:!0})}function z(e,r,a,l,u,c,d){if(r===u)return null;var f=null;if(o.hasOwnProperty(r))for(var p,g=t.get(r+s),v=0,m=g.length;m>v;v++)try{p=g[v],(l===n||l>p.priority)&&-1!=p.restrict.indexOf(a)&&(c&&(p=h(p,{$$start:c,$$end:d})),e.push(p),f=p)}catch(y){i(y)}return f}function H(e){if(o.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,a=r.length;a>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function Y(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;a(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),a(e,function(e,a){"class"==a?(E(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==a?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==a.charAt(0)||t.hasOwnProperty(a)||(t[a]=e,r[a]=n[a])})}function G(t,e,n,r,i,o,s,u){var c,d,f=[],p=e[0],g=t.shift(),v=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),m=_(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),l(S.getTrustedResourceUrl(m)).then(function(l){var h,b,$,w;if(l=ce(l),g.replace){if($=ve(l)?[]:tn(J(y,hi(l))),h=$[0],1!=$.length||h.nodeType!==xi)throw Wi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,m);b={$attr:{}},ee(r,e,h);var _=P(h,[],b);x(g.scope)&&V(_),t=_.concat(t),Y(n,b)}else h=p,e.html(l);for(t.unshift(v),c=U(t,h,n,i,e,g,o,s,u),a(r,function(t,n){t==h&&(r[n]=e[0])}),d=j(e[0].childNodes,i);f.length;){var A=f.shift(),k=f.shift(),T=f.shift(),S=f.shift(),C=e[0];if(!A.$$destroyed){if(k!==p){var M=k.className;u.hasElementTranscludeDirective&&g.replace||(C=$e(h)),ee(T,ei(k),C),E(ei(C),M)}w=c.transcludeOnThisElement?I(A,c.transclude,S):S,c(d,A,C,r,w)}}f=null}),function(t,e,n,r,i){var a=i;e.$$destroyed||(f?f.push(e,n,r,a):(c.transcludeOnThisElement&&(a=I(e,c.transclude,i)),c(d,e,n,r,a)))}}function W(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,r){if(e)throw Wi("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,X(r))}function Z(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&D.$$addBindingClass(e),function(t,e){var i=e.parent();r||D.$$addBindingClass(i),D.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function J(t,n){switch(t=Wr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return S.HTML;var n=L(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function te(t,e,n,i,a){var o=Q(t,i);a=f[i]||a;var s=r(n,!0,o,a);if(s){if("multiple"===i&&"select"===L(t))throw Wi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if($.test(i))throw Wi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,o,a),n=c),s&&(l[i]=s(t),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?l.$updateClass(t,e):l.$set(i,t)}))}}}})}}function ee(t,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(i=0,a=t.length;a>i;i++)if(t[i]==o){t[i++]=r;for(var u=i,c=u+s-1,d=t.length;d>u;u++,c++)d>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===o&&(t.context=r);break}l&&l.replaceChild(r,o);var f=e.createDocumentFragment();f.appendChild(o),ei(r).data(ei(o).data()),ni?(di=!0,ni.cleanData([o])):delete ei.cache[o[ei.expando]];for(var h=1,p=n.length;p>h;h++){var g=n[h];ei(g).remove(),f.appendChild(g),delete n[h]}n[0]=r,n.length=1}function re(t,e){return d(function(){return t.apply(null,arguments)},t,e)}function ae(t,e,n,r,a,o){try{t(e,n,r,a,o)}catch(s){i(s,X(n))}}var oe=function(t,e){if(e){var n,r,i,a=Object.keys(e);for(n=0,r=a.length;r>n;n++)i=a[n],this[i]=e[i]}else this.$attr={};this.$$element=t};oe.prototype={$normalize:Je,$addClass:function(t){t&&t.length>0&&C.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&C.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Qe(t,e);n&&n.length&&C.addClass(this.$$element,n);var r=Qe(e,t);r&&r.length&&C.removeClass(this.$$element,r)},$set:function(t,e,r,o){var s,l=this.$$element[0],u=Ie(l,t),c=Pe(l,t),d=t;if(u?(this.$$element.prop(t,e),o=u):c&&(this[c]=e,d=c),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=ne(t,"-"))),s=L(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=M(e,"src"===t);else if("img"===s&&"srcset"===t){for(var f="",h=hi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(h)?p:/(,)/,v=h.split(g),m=Math.floor(v.length/2),y=0;m>y;y++){var x=2*y;f+=M(hi(v[x]),!0),f+=" "+hi(v[x+1])}var b=hi(v[2*y]).split(/\s/);f+=M(hi(b[0]),!0),2===b.length&&(f+=" "+hi(b[1])),this[t]=e=f}r!==!1&&(null===e||e===n?this.$$element.removeAttr(o):this.$$element.attr(o,e));var $=this.$$observers;$&&a($[d],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ue()),i=r[t]||(r[t]=[]);return i.push(e),A.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){R(i,e)}}};var se=r.startSymbol(),le=r.endSymbol(),ce="{{"==se||"}}"==le?g:function(t){return t.replace(/\{\{/g,se).replace(/}}/g,le)},de=/^ngAttr[A-Z]/;return D.$$addBindingInfo=w?function(t,e){var n=t.data("$binding")||[];fi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,D.$$addBindingClass=w?function(t){E(t,"ng-binding")}:p,D.$$addScopeInfo=w?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:p,D.$$addScopeClass=w?function(t,e){E(t,e?"ng-isolate-scope":"ng-scope")}:p,D}]}function Je(t){return ge(t.replace(Ki,""))}function Qe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o==i[s])continue t;n+=(n.length>0?" ":"")+o}return n}function tn(t){t=ei(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===$i&&ai.call(t,e,1)}return t}function en(){var t={},e=!1,i=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(e,n){oe(e,"controller"),x(e)?d(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(a,o){function s(t,e,n,i){if(!t||!x(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,l,u,c){var f,h,p,g;if(u=u===!0,c&&b(c)&&(g=c),b(r)){if(h=r.match(i),!h)throw Zi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);p=h[1],g=g||h[3],r=t.hasOwnProperty(p)?t[p]:se(l.$scope,p,!0)||(e?se(o,p,!0):n),ae(r,p,!0)}if(u){var v=(fi(r)?r[r.length-1]:r).prototype;return f=Object.create(v||null),g&&s(l,g,f,p||r.name),d(function(){return a.invoke(r,f,l,p),f},{instance:f,identifier:g})}return f=a.instantiate(r,l,p),g&&s(l,g,f,p||r.name),f}}]}function nn(){this.$get=["$window",function(t){return ei(t.document)}]}function rn(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function an(t,e){if(b(t)){var n=t.replace(na,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Ji)||on(n))&&(t=z(n))}}return t}function on(t){var e=t.match(ta);return e&&ea[e[0]].test(t)}function sn(t){var e,n,r,i=ue();return t?(a(t.split("\n"),function(t){r=t.indexOf(":"),e=Wr(hi(t.substr(0,r))),n=hi(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i):i}function ln(t){var e=x(t)?t:n;return function(n){if(e||(e=sn(t)),n){var r=e[Wr(n)];return void 0===r&&(r=null),r}return e}}function un(t,e,n,r){return _(r)?r(t,e,n):(a(r,function(r){t=r(t,e,n)}),t)}function cn(t){return t>=200&&300>t}function dn(){var t=this.defaults={transformResponse:[an],transformRequest:[function(t){return!x(t)||S(t)||M(t)||C(t)?t:V(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:P(Qi),put:P(Qi),patch:P(Qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},e=!1;this.useApplyAsync=function(t){return y(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(o,l,u,c,f,h){function p(e){function i(t){var e=d({},t);return e.data=t.data?un(t.data,t.headers,t.status,l.transformResponse):t.data,cn(t.status)?e:f.reject(e)}function o(t){var e,n={};return a(t,function(t,r){_(t)?(e=t(),null!=e&&(n[r]=e)):n[r]=t}),n}function s(e){var n,r,i,a=t.headers,s=d({},e.headers);a=d({},a.common,a[Wr(e.method)]);t:for(n in a){r=Wr(n);for(i in s)if(Wr(i)===r)continue t;s[n]=a[n]}return o(s)}if(!ui.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=d({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse},e);l.headers=s(e),l.method=Zr(l.method);var u=function(e){var r=e.headers,o=un(e.data,ln(r),n,e.transformRequest);return m(o)&&a(r,function(t,e){"content-type"===Wr(e)&&delete r[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),$(e,o).then(i,i)},c=[u,n],h=f.when(l);for(a(T,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){var p=c.shift(),g=c.shift();h=h.then(p,g)}return h.success=function(t){return h.then(function(e){t(e.data,e.status,e.headers,l)}),h},h.error=function(t){return h.then(null,function(e){t(e.data,e.status,e.headers,l)}),h},h}function g(){a(arguments,function(t){p[t]=function(e,n){return p(d(n||{},{method:t,url:e}))}})}function v(){a(arguments,function(t){p[t]=function(e,n,r){return p(d(r||{},{method:t,url:e,data:n}))}})}function $(r,i){function a(t,n,r,i){function a(){s(n,t,r,i)}h&&(cn(t)?h.put(w,[t,n,sn(r),i]):h.remove(w)),e?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function s(t,e,n,i){e=Math.max(e,0),(cn(e)?v.resolve:v.reject)({data:t,status:e,headers:ln(n),config:r,statusText:i})}function u(t){s(t.data,t.status,P(t.headers()),t.statusText)}function d(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var h,g,v=f.defer(),b=v.promise,$=r.headers,w=A(r.url,r.params);if(p.pendingRequests.push(r),b.then(d,d),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(h=x(r.cache)?r.cache:x(t.cache)?t.cache:k),h&&(g=h.get(w),y(g)?D(g)?g.then(u,u):fi(g)?s(g[1],g[0],P(g[2]),g[3]):s(g,200,{},"OK"):h.put(w,b)),m(g)){var _=ar(r.url)?l.cookies()[r.xsrfCookieName||t.xsrfCookieName]:n;_&&($[r.xsrfHeaderName||t.xsrfHeaderName]=_),o(r.method,w,i,a,$,r.timeout,r.withCredentials,r.responseType)}return b}function A(t,e){if(!e)return t;var n=[];return s(e,function(t,e){null===t||m(t)||(fi(t)||(t=[t]),a(t,function(t){x(t)&&(t=w(t)?t.toISOString():V(t)),n.push(K(e)+"="+K(t))}))}),n.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}var k=u("$http"),T=[];return a(i,function(t){T.unshift(b(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),v("post","put","patch"),p.defaults=t,p}]}function fn(){return new t.XMLHttpRequest}function hn(){this.$get=["$browser","$window","$document",function(t,e,n){return pn(t,fn,t.defer,e.angular.callbacks,n[0])}]}function pn(t,e,r,i,o){function s(t,e,n){var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){Ci(r,"load",a),Ci(r,"error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},Si(r,"load",a),Si(r,"error",a),o.body.appendChild(r),a}return function(o,l,u,c,d,f,h,g){function v(){b&&b(),$&&$.abort()}function m(e,i,a,o,s){A!==n&&r.cancel(A),b=$=null,e(i,a,o,s),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==Wr(o)){var x="_"+(i.counter++).toString(36);i[x]=function(t){i[x].data=t,i[x].called=!0};var b=s(l.replace("JSON_CALLBACK","angular.callbacks."+x),x,function(t,e){m(c,t,i[x].data,"",e),i[x]=p})}else{var $=e();$.open(o,l,!0),a(d,function(t,e){y(t)&&$.setRequestHeader(e,t)}),$.onload=function(){var t=$.statusText||"",e="response"in $?$.response:$.responseText,n=1223===$.status?204:$.status;0===n&&(n=e?200:"file"==ir(l).protocol?404:0),m(c,n,e,$.getAllResponseHeaders(),t)};var w=function(){m(c,-1,null,null,"")};if($.onerror=w,$.onabort=w,h&&($.withCredentials=!0),g)try{$.responseType=g}catch(_){if("json"!==g)throw _}$.send(u||null)}if(f>0)var A=r(v,f);else D(f)&&f.then(v)}}function gn(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(t){return"\\\\\\"+t}function o(a,o,f,h){function p(n){return n.replace(u,t).replace(c,e)}function g(t){try{return t=M(t),h&&!y(t)?t:E(t)}catch(e){var n=ra("interr","Can't interpolate: {0}\n{1}",a,e.toString());r(n)}}h=!!h;for(var v,x,b,$=0,w=[],A=[],k=a.length,T=[],S=[];k>$;){if(-1==(v=a.indexOf(t,$))||-1==(x=a.indexOf(e,v+s))){$!==k&&T.push(p(a.substring($)));break}$!==v&&T.push(p(a.substring($,v))),b=a.substring(v+s,x),w.push(b),A.push(n(b,g)),$=x+l,S.push(T.length),T.push("")}if(f&&T.length>1)throw ra("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a);if(!o||w.length){var C=function(t){for(var e=0,n=w.length;n>e;e++){if(h&&m(t[e]))return;T[S[e]]=t[e]}return T.join("")},M=function(t){return f?i.getTrusted(f,t):i.valueOf(t)},E=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=V(t)}return t};return d(function(t){var e=0,n=w.length,i=new Array(n);try{for(;n>e;e++)i[e]=A[e](t);return C(i)}catch(o){var s=ra("interr","Can't interpolate: {0}\n{1}",a,o.toString());r(s)}},{exp:a,expressions:w,$$watchDelegate:function(t,e,n){var r;return t.$watchGroup(A,function(n,i){var a=C(n);_(e)&&e.call(this,a,n!==i?r:a,t),r=a},n)}})}}var s=t.length,l=e.length,u=new RegExp(t.replace(/./g,a),"g"),c=new RegExp(e.replace(/./g,a),"g");return o.startSymbol=function(){return t},o.endSymbol=function(){return e},o}]}function vn(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,o,s,l){var u=e.setInterval,c=e.clearInterval,d=0,f=y(l)&&!l,h=(f?r:n).defer(),p=h.promise;return s=y(s)?s:0,p.then(null,null,i),p.$$intervalId=u(function(){h.notify(d++),s>0&&d>=s&&(h.resolve(d),c(p.$$intervalId),delete a[p.$$intervalId]),f||t.$apply()},o),a[p.$$intervalId]=h,p}var a={};return i.cancel=function(t){return t&&t.$$intervalId in a?(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0):!1},i}]}function mn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function yn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=W(e[n]);return e.join("/")}function xn(t,e){var n=ir(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||aa[n.protocol]||null}function bn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=ir(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=Y(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function $n(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function wn(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function _n(t){return t.replace(/(#.+)|#$/,"$1")}function An(t){return t.substr(0,wn(t).lastIndexOf("/")+1)}function kn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Tn(t,e){this.$$html5=!0,e=e||"";var r=An(t);xn(t,this),this.$$parse=function(t){var e=$n(r,t);if(!b(e))throw oa("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);bn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=G(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=yn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,a){if(a&&"#"===a[0])return this.hash(a.slice(1)),!0;var o,s,l;return(o=$n(t,i))!==n?(s=o,l=(o=$n(e,o))!==n?r+($n("/",o)||o):t+s):(o=$n(r,i))!==n?l=r+o:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Sn(t,e){var n=An(t);xn(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var a,o=$n(t,r)||$n(n,r);"#"===o.charAt(0)?(a=$n(e,o),m(a)&&(a=o)):a=this.$$html5?o:"",bn(a,this),this.$$path=i(this.$$path,a,t),this.$$compose()},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+W(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e){return wn(t)==wn(e)?(this.$$parse(e),!0):!1}}function Cn(t,e){this.$$html5=!0,Sn.apply(this,arguments);var n=An(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,o;return t==wn(r)?a=r:(o=$n(n,r))?a=t+e+o:n===r+"/"&&(a=n),a&&this.$$parse(a),!!a},this.$$compose=function(){var n=G(this.$$search),r=this.$$hash?"#"+W(this.$$hash):"";this.$$url=yn(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function Mn(t){return function(){return this[t]}}function En(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Dn(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return E(t)?(e.enabled=t,this):x(t)?(E(t.enabled)&&(e.enabled=t.enabled),E(t.requireBase)&&(e.requireBase=t.requireBase),E(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,a,o){function s(t,e,n){var i=u.url(),a=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(o){throw u.url(i),u.$$state=a,o}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,d,f=r.baseHref(),h=r.url();if(e.enabled){if(!f&&e.requireBase)throw oa("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=kn(h)+(f||"/"),c=i.history?Tn:Cn}else d=wn(h),c=Sn;u=new c(d,"#"+t),u.$$parseLinkUrl(h,h),u.$$state=r.state();var p=/^\s*(javascript|mailto):/i;a.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=ei(t.target);"a"!==L(i[0]);)if(i[0]===a[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");x(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=ir(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),_n(u.absUrl())!=_n(h)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=u.absUrl(),a=u.$$state;u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,a).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=a,s(i,!1,a)):(g=!1,l(i,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=_n(r.url()),e=_n(u.absUrl()),a=r.state(),o=u.$$replace,c=t!==e||u.$$html5&&i.history&&a!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,a).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=a):(c&&s(e,o,a===u.$$state?null:u.$$state),l(t,a)))})),u.$$replace=!1}),u}]}function On(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||p,o=!1;try{o=!!i.apply}catch(s){}return o?function(){var t=[];return a(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function jn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw la("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);
return t}function Ln(t,e){if(t){if(t.constructor===t)throw la("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw la("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw la("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw la("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Rn(t,e){if(t){if(t.constructor===t)throw la("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ua||t===ca||t===da)throw la("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function In(t){return t.constant}function Pn(t,e,n,r,i){Ln(t,i),Ln(e,i);for(var a,o=n.split("."),s=0;o.length>1;s++){a=jn(o.shift(),i);var l=0===s&&e&&e[a]||t[a];l||(l={},t[a]=l),t=Ln(l,i)}return a=jn(o.shift(),i),Ln(t[a],i),t[a]=r,r}function Fn(t){return"constructor"==t}function Nn(t,e,r,i,a,o,s){jn(t,o),jn(e,o),jn(r,o),jn(i,o),jn(a,o);var l=function(t){return Ln(t,o)},u=s||Fn(t)?l:g,c=s||Fn(e)?l:g,d=s||Fn(r)?l:g,f=s||Fn(i)?l:g,h=s||Fn(a)?l:g;return function(o,s){var l=s&&s.hasOwnProperty(t)?s:o;return null==l?l:(l=u(l[t]),e?null==l?n:(l=c(l[e]),r?null==l?n:(l=d(l[r]),i?null==l?n:(l=f(l[i]),a?null==l?n:l=h(l[a]):l):l):l):l)}}function Bn(t,e){return function(n,r){return t(n,r,Ln,e)}}function qn(t,e,r){var i=e.expensiveChecks,o=i?ya:ma,s=o[t];if(s)return s;var l=t.split("."),u=l.length;if(e.csp)s=6>u?Nn(l[0],l[1],l[2],l[3],l[4],r,i):function(t,e){var a,o=0;do a=Nn(l[o++],l[o++],l[o++],l[o++],l[o++],r,i)(t,e),e=n,t=a;while(u>o);return a};else{var c="";i&&(c+="s = eso(s, fe);\nl = eso(l, fe);\n");var d=i;a(l,function(t,e){jn(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(i||Fn(t))&&(n="eso("+n+", fe)",d=!0),c+="if(s == null) return undefined;\ns="+n+";\n"}),c+="return s;";var f=new Function("s","l","eso","fe",c);f.toString=v(c),d&&(f=Bn(f,r)),s=f}return s.sharedGetter=!0,s.assign=function(e,n,r){return Pn(e,r,t,n,t)},o[t]=s,s}function Un(t){return _(t.valueOf)?t.valueOf():xa.call(t)}function Vn(){var t=ue(),e=ue();this.$get=["$filter","$sniffer",function(n,r){function i(t){var e=t;return t.sharedGetter&&(e=function(e,n){return t(e,n)},e.literal=t.literal,e.constant=t.constant,e.assign=t.assign),e}function o(t,e){for(var n=0,r=t.length;r>n;n++){var i=t[n];i.constant||(i.inputs?o(i.inputs,e):-1===e.indexOf(i)&&e.push(i))}return e}function s(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=Un(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function l(t,e,n,r){var i,a=r.$$inputs||(r.$$inputs=o(r.inputs,[]));if(1===a.length){var l=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,l)||(i=r(t),l=e&&Un(e)),i},e,n)}for(var u=[],c=0,d=a.length;d>c;c++)u[c]=s;return t.$watch(function(t){for(var e=!1,n=0,o=a.length;o>n;n++){var l=a[n](t);(e||(e=!s(l,u[n])))&&(u[n]=l&&Un(l))}return e&&(i=r(t)),i},e,n)}function u(t,e,n,r){var i,a;return i=t.$watch(function(t){return r(t)},function(t,n,r){a=t,_(e)&&e.apply(this,arguments),y(t)&&r.$$postDigest(function(){y(a)&&i()})},n)}function c(t,e,n,r){function i(t){var e=!0;return a(t,function(t){y(t)||(e=!1)}),e}var o,s;return o=t.$watch(function(t){return r(t)},function(t,n,r){s=t,_(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&o()})},n)}function d(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(){_(e)&&e.apply(this,arguments),i()},n)}function f(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==c&&n!==u,i=r?function(n,r){var i=t(n,r);return e(i,n,r)}:function(n,r){var i=t(n,r),a=e(i,n,r);return y(i)?a:i};return t.$$watchDelegate&&t.$$watchDelegate!==l?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=l,i.inputs=[t]),i}var h={csp:r.csp,expensiveChecks:!1},g={csp:r.csp,expensiveChecks:!0};return function(r,a,o){var s,v,m;switch(typeof r){case"string":m=r=r.trim();var y=o?e:t;if(s=y[m],!s){":"===r.charAt(0)&&":"===r.charAt(1)&&(v=!0,r=r.substring(2));var x=o?g:h,b=new ga(x),$=new va(b,n,x);s=$.parse(r),s.constant?s.$$watchDelegate=d:v?(s=i(s),s.$$watchDelegate=s.literal?c:u):s.inputs&&(s.$$watchDelegate=l),y[m]=s}return f(s,a);case"function":return f(r,a);default:return f(p,a)}}}]}function zn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Hn(function(e){t.$evalAsync(e)},e)}]}function Xn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Hn(function(e){t.defer(e)},e)}]}function Hn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function o(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(t){var r,i,a;a=t.pending,t.processScheduled=!1,t.pending=n;for(var o=0,s=a.length;s>o;++o){i=a[o][0],r=a[o][t.status];try{_(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(l){i.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new o,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(t){var e=new c,n=0,r=fi(t)?[]:{};return a(t,function(t,i){n++,m(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var f=r("$q",TypeError),h=function(){return new c};o.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(x(t)||_(t))&&(n=t&&t.then),_(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(a){r[1](a),e(a)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,a=0,o=r.length;o>a;a++){i=r[a][0],t=r[a][3];try{i.notify(_(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var r=null;try{_(n)&&(r=n())}catch(i){return g(i,!1)}return D(r)?r.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},m=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},y=function b(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!_(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof b))return new b(t);var r=new c;return t(e,n),r.promise};return y.defer=h,y.reject=p,y.when=m,y.all=d,y}function Yn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return a.supported=i,a}]}function Gn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),o=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,c,d){function f(t){t.currentScope.$$destroyed=!0}function h(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function g(t){if(A.$$phase)throw n("inprog","{0} already in progress",A.$$phase);A.$$phase=t}function v(){A.$$phase=null}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function $(){for(;S.length;)try{S.shift()()}catch(t){l(t)}s=null}function w(){null===s&&(s=d.defer(function(){A.$apply($)}))}h.prototype={constructor:h,$new:function(e,n){var r;return n=n||this,e?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",f),r},$watch:function(t,e,n){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r);var i=this,a=i.$$watchers,s={fn:e,last:b,get:r,exp:t,eq:!!n};return o=null,_(e)||(s.fn=p),a||(a=i.$$watchers=[]),a.unshift(s),function(){R(a,s),o=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),o=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,a){i[0]=t,r[0]=n,e(i,t===n?i:r,a)}):(a(t,function(t,e){var a=s.$watch(t,function(t,a){i[e]=t,r[e]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(t,e){function n(t){a=t;var e,n,r,s,l;if(!m(a)){if(x(a))if(i(a)){o!==h&&(o=h,v=o.length=0,d++),e=a.length,v!==e&&(d++,o.length=v=e);for(var u=0;e>u;u++)l=o[u],s=a[u],r=l!==l&&s!==s,r||l===s||(d++,o[u]=s)}else{o!==p&&(o=p={},v=0,d++),e=0;for(n in a)a.hasOwnProperty(n)&&(e++,s=a[n],l=o[n],n in o?(r=l!==l&&s!==s,r||l===s||(d++,o[n]=s)):(v++,o[n]=s,d++));if(v>e){d++;for(n in o)a.hasOwnProperty(n)||(v--,delete o[n])}}else o!==a&&(o=a,d++);return d}}function r(){if(g?(g=!1,e(a,a,l)):e(a,s,l),u)if(x(a))if(i(a)){s=new Array(a.length);for(var t=0;t<a.length;t++)s[t]=a[t]}else{s={};for(var n in a)Kr.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,l=this,u=e.length>1,d=0,f=c(t,n),h=[],p={},g=!0,v=0;return this.$watch(f,r)},$digest:function(){var t,r,i,a,u,c,f,h,p,m,y=e,x=this,w=[];g("$digest"),d.$$checkUrlChange(),this===A&&null!==s&&(d.defer.cancel(s),$()),o=null;do{for(c=!1,h=x;k.length;){try{m=k.shift(),m.scope.$eval(m.expression,m.locals)}catch(S){l(S)}o=null}t:do{if(a=h.$$watchers)for(u=a.length;u--;)try{if(t=a[u])if((r=t.get(h))===(i=t.last)||(t.eq?F(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===o){c=!1;break t}}else c=!0,o=t,t.last=t.eq?I(r,null):r,t.fn(r,i===b?r:i,h),5>y&&(p=4-y,w[p]||(w[p]=[]),w[p].push({msg:_(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(S){l(S)}if(!(f=h.$$childHead||h!==x&&h.$$nextSibling))for(;h!==x&&!(f=h.$$nextSibling);)h=h.$parent}while(h=f);if((c||k.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,w)}while(c||k.length);for(v();T.length;)try{T.shift()()}catch(S){l(S)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==A){for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){A.$$phase||k.length||d.defer(function(){k.length&&A.$digest()}),k.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){T.push(t)},$apply:function(t){try{return g("$apply"),this.$eval(t)}catch(e){l(e)}finally{v();try{A.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&S.push(e),w()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,y(i,1,t))}},$emit:function(t){var e,n,r,i=[],a=this,o=!1,s={name:t,targetScope:a,stopPropagation:function(){o=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=N([s],arguments,1);do{for(e=a.$$listeners[t]||i,s.currentScope=a,n=0,r=e.length;r>n;n++)if(e[n])try{e[n].apply(null,u)}catch(c){l(c)}else e.splice(n,1),n--,r--;if(o)return s.currentScope=null,s;a=a.$parent}while(a);return s.currentScope=null,s},$broadcast:function(t){var e=this,n=e,r=e,i={name:t,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!e.$$listenerCount[t])return i;for(var a,o,s,u=N([i],arguments,1);n=r;){for(i.currentScope=n,a=n.$$listeners[t]||[],o=0,s=a.length;s>o;o++)if(a[o])try{a[o].apply(null,u)}catch(c){l(c)}else a.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==e&&n.$$nextSibling))for(;n!==e&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var A=new h,k=A.$$asyncQueue=[],T=A.$$postDigestQueue=[],S=A.$$applyAsyncQueue=[];return A}]}function Wn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,a=r?e:t;return i=ir(n).href,""===i||i.match(a)?n:"unsafe:"+i}}}function Kn(t){if("self"===t)return t;if(b(t)){if(t.indexOf("***")>-1)throw ba("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=pi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(A(t))return new RegExp("^"+t.source+"$");throw ba("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Zn(t){var e=[];return y(t)&&a(t,function(t){e.push(Kn(t))}),e}function Jn(){this.SCE_CONTEXTS=$a;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Zn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Zn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?ar(e):!!t.exec(e.href)}function a(n){var r,a,o=ir(n.toString()),s=!1;for(r=0,a=t.length;a>r;r++)if(i(t[r],o)){s=!0;break}if(s)for(r=0,a=e.length;a>r;r++)if(i(e[r],o)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=f.hasOwnProperty(t)?f[t]:null;if(!r)throw ba("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw ba("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function l(t){return t instanceof d?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var r=f.hasOwnProperty(t)?f[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===$a.RESOURCE_URL){if(a(e))return e;throw ba("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===$a.HTML)return c(e);throw ba("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(){throw ba("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var d=o(),f={};return f[$a.HTML]=o(d),f[$a.CSS]=o(d),f[$a.URL]=o(d),f[$a.JS]=o(d),f[$a.RESOURCE_URL]=o(f[$a.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function Qn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>ti)throw ba("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=P($a);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=g),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,o=r.getTrusted,s=r.trustAs;return a($a,function(t,e){var n=Wr(e);r[ge("parse_as_"+n)]=function(e){return i(t,e)},r[ge("get_trusted_"+n)]=function(e){return o(t,e)},r[ge("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function tr(){this.$get=["$window","$document",function(t,e){var n,r,i={},a=f((/android (\d+)/.exec(Wr((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,d=!1;if(u){for(var h in u)if(r=l.exec(h)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),d=!!("animation"in u||n+"Animation"in u),!a||c&&d||(c=b(s.body.style.webkitTransition),d=b(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>a||o),hasEvent:function(t){if("input"===t&&11>=ti)return!1;if(m(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:gi(),vendorPrefix:n,transitions:c,animations:d,android:a}}]}function er(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,a){function o(t){if(!a)throw Wi("tpload","Failed to load template: {0}",i);return n.reject(t)}r.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;fi(s)?s=s.filter(function(t){return t!==an}):s===an&&(s=null);var l={cache:t,transformResponse:s};return e.get(i,l)["finally"](function(){r.totalPendingRequests--}).then(function(t){return t.data},o)}return r.totalPendingRequests=0,r}]}function nr(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return a(r,function(t){var r=ui.element(t).data("$binding");r&&a(r,function(r){if(n){var a=new RegExp("(^|\\s)"+pi(e)+"(\\s|\\||$)");a.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a=n?"=":"*=",o="["+r[i]+"model"+a+'"'+e+'"]',s=t.querySelectorAll(o);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function rr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function a(a,s,l){var u,c=y(l)&&!l,d=(c?r:n).defer(),f=d.promise;return u=e.defer(function(){try{d.resolve(a())}catch(e){d.reject(e),i(e)}finally{delete o[f.$$timeoutId]}c||t.$apply()},s),f.$$timeoutId=u,o[u]=d,f}var o={};return a.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),delete o[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},a}]}function ir(t){var e=t;return ti&&(wa.setAttribute("href",e),e=wa.href),wa.setAttribute("href",e),{href:wa.href,protocol:wa.protocol?wa.protocol.replace(/:$/,""):"",host:wa.host,search:wa.search?wa.search.replace(/^\?/,""):"",hash:wa.hash?wa.hash.replace(/^#/,""):"",hostname:wa.hostname,port:wa.port,pathname:"/"===wa.pathname.charAt(0)?wa.pathname:"/"+wa.pathname}}function ar(t){var e=b(t)?ir(t):t;return e.protocol===_a.protocol&&e.host===_a.host}function or(){this.$get=v(t)}function sr(t){function e(r,i){if(x(r)){var o={};return a(r,function(t,n){o[n]=e(n,t)}),o}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",dr),e("date",Ar),e("filter",lr),e("json",kr),e("limitTo",Tr),e("lowercase",Ca),e("number",fr),e("orderBy",Sr),e("uppercase",Ma)}function lr(){return function(t,e,n){if(!fi(t))return t;var r,i;switch(typeof e){case"function":r=e;break;case"boolean":case"number":case"string":i=!0;case"object":r=ur(e,n,i);break;default:return t}return t.filter(r)}}function ur(t,e,n){var r,i=x(t)&&"$"in t;return e===!0?e=F:_(e)||(e=function(t,e){return x(t)||x(e)?!1:(t=Wr(""+t),e=Wr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!x(r)?cr(r,t.$,e,!1):cr(r,t,e,n)}}function cr(t,e,n,r,i){var a=null!==t?typeof t:"null",o=null!==e?typeof e:"null";if("string"===o&&"!"===e.charAt(0))return!cr(t,e.substring(1),n,r);if(fi(t))return t.some(function(t){return cr(t,e,n,r)});switch(a){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&cr(t[s],e,n,!0))return!0;return i?!1:cr(t,e,n,!1)}if("object"===o){for(s in e){var l=e[s];if(!_(l)&&!m(l)){var u="$"===s,c=u?t:t[s];if(!cr(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function dr(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:hr(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function fr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:hr(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function hr(t,e,n,r,i){if(!isFinite(t)||x(t))return"";var a=0>t;t=Math.abs(t);var o=t+"",s="",l=[],u=!1;if(-1!==o.indexOf("e")){var c=o.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?t=0:(s=o,u=!0)}if(u)i>0&&1>t&&(s=t.toFixed(i),t=parseFloat(s));else{var d=(o.split(Aa)[1]||"").length;m(i)&&(i=Math.min(Math.max(e.minFrac,d),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var f=(""+t).split(Aa),h=f[0];f=f[1]||"";var p,g=0,v=e.lgSize,y=e.gSize;if(h.length>=v+y)for(g=h.length-v,p=0;g>p;p++)(g-p)%y===0&&0!==p&&(s+=n),s+=h.charAt(p);for(p=g;p<h.length;p++)(h.length-p)%v===0&&0!==p&&(s+=n),s+=h.charAt(p);for(;f.length<i;)f+="0";i&&"0"!==i&&(s+=r+f.substr(0,i))}return 0===t&&(a=!1),l.push(a?e.negPre:e.posPre,s,a?e.negSuf:e.posSuf),l.join("")}function pr(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function gr(t,e,n,r){return n=n||0,function(i){var a=i["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),pr(a,e,r)}}function vr(t,e){return function(n,r){var i=n["get"+t](),a=Zr(e?"SHORT"+t:t);return r[a][i]}}function mr(t){var e=-1*t.getTimezoneOffset(),n=e>=0?"+":"";return n+=pr(Math[e>0?"floor":"ceil"](e/60),2)+pr(Math.abs(e%60),2)}function yr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function xr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function br(t){return function(e){var n=yr(e.getFullYear()),r=xr(e),i=+r-+n,a=1+Math.round(i/6048e5);return pr(a,t)}}function $r(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function wr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function _r(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Ar(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,a=0,o=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),a=f(e[9]+e[11])),o.call(r,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-i,u=f(e[5]||0)-a,c=f(e[6]||0),d=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,d),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var o,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,b(n)&&(n=Sa.test(n)?f(n):e(n)),$(n)&&(n=new Date(n)),!w(n))return n;for(;r;)s=Ta.exec(r),s?(u=N(u,s,1),r=u.pop()):(u.push(r),r=null);return i&&"UTC"===i&&(n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+n.getTimezoneOffset())),a(u,function(e){o=ka[e],l+=o?o(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function kr(){return function(t,e){return m(e)&&(e=2),V(t,e)}}function Tr(){return function(t,e){return $(t)&&(t=t.toString()),fi(t)||b(t)?(e=1/0===Math.abs(Number(e))?Number(e):f(e),e?e>0?t.slice(0,e):t.slice(e):b(t)?"":[]):t}}function Sr(t){return function(e,n,r){function a(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function o(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function l(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function u(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=l(t),e=l(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=fi(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||g;if(b(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return o(u,n);if(r=t(e),r.constant){var i=r();return o(function(t,e){return u(t[i],e[i])},n)}}return o(function(t,e){return u(r(t),r(e))},n)}),ii.call(e).sort(o(a,r))):e}}function Cr(t){return _(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function Mr(t,e){t.$name=e}function Er(t,e,r,i,o){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||Oa;s.$error={},s.$$success={},s.$pending=n,s.$name=o(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){a(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){a(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){oe(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],a(s.$pending,function(e,n){s.$setValidity(n,null,t)}),a(s.$error,function(e,n){s.$setValidity(n,null,t)}),a(s.$$success,function(e,n){s.$setValidity(n,null,t)}),R(l,t)},Xr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(R(r,n),0===r.length&&delete t[e])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(t,go),i.addClass(t,vo),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(t,go,vo+" "+ja),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,a(l,function(t){t.$setPristine()})},s.$setUntouched=function(){a(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,ja),s.$submitted=!0,u.$setSubmitted()}}function Dr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Or(t,e,n,r,i,a){jr(t,e,n,r,i,a),Dr(r)}function jr(t,e,n,r,i,a){var o=Wr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(a.defer.cancel(u),u=null),!s){var i=e.val(),l=t&&t.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(i=hi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=a.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function Lr(t,e){if(w(t))return t;if(b(t)){Va.lastIndex=0;var n=Va.exec(t);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,l=0,u=yr(r),c=7*(i-1);return e&&(a=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,a,o,s,l)}}return 0/0}function Rr(t,e){return function(n,r){var i,o;if(w(n))return n;if(b(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Pa.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(i,function(t,n){n<e.length&&(o[e[n]]=+t)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return 0/0}}function Ir(t,e,r,i){return function(a,o,s,l,u,c,d){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return y(t)?w(t)?t:r(t):n}Pr(a,o,s,l),jr(a,o,s,l,u,c);var p,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return"UTC"===g&&i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i}return n}),l.$formatters.push(function(t){if(t&&!w(t))throw bo("datefmt","Expected `{0}` to be a date",t);if(f(t)){if(p=t,p&&"UTC"===g){var e=6e4*p.getTimezoneOffset();p=new Date(p.getTime()+e)}return d("date")(t,i,g)}return p=null,""}),y(s.min)||s.ngMin){var v;l.$validators.min=function(t){return!f(t)||m(v)||r(t)>=v},s.$observe("min",function(t){v=h(t),l.$validate()})}if(y(s.max)||s.ngMax){var x;l.$validators.max=function(t){return!f(t)||m(x)||r(t)<=x},s.$observe("max",function(t){x=h(t),l.$validate()})}}}function Pr(t,e,r,i){var a=e[0],o=i.$$hasNativeValidators=x(a.validity);o&&i.$parsers.push(function(t){var r=e.prop(Gr)||{};return r.badInput&&!r.typeMismatch?n:t})}function Fr(t,e,r,i,a,o){if(Pr(t,e,r,i),jr(t,e,r,i,a,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:Ba.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!$(t))throw bo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),y(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||m(s)||t>=s},r.$observe("min",function(t){y(t)&&!$(t)&&(t=parseFloat(t,10)),s=$(t)&&!isNaN(t)?t:n,i.$validate()})}if(y(r.max)||r.ngMax){var l;i.$validators.max=function(t){return i.$isEmpty(t)||m(l)||l>=t},r.$observe("max",function(t){y(t)&&!$(t)&&(t=parseFloat(t,10)),l=$(t)&&!isNaN(t)?t:n,i.$validate()})}}function Nr(t,e,n,r,i,a){jr(t,e,n,r,i,a),Dr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Fa.test(n)}}function Br(t,e,n,r,i,a){jr(t,e,n,r,i,a),Dr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Na.test(n)}}function qr(t,e,n,r){m(n.name)&&e.attr("name",u());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function Ur(t,e,n,i,a){var o;if(y(i)){if(o=t(i),!o.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return a}function Vr(t,e,n,r,i,a,o,s){var l=Ur(s,t,"ngTrueValue",n.ngTrueValue,!0),u=Ur(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return F(t,l)}),r.$parsers.push(function(t){return t?l:u})}function zr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],a=0;a<e.length;a++)if(i==e[a])continue t;n.push(i)}return n}function i(t){if(fi(t))return t;
if(b(t))return t.split(" ");if(x(t)){var e=[];return a(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e}return t}return{restrict:"AC",link:function(o,s,l){function u(t){var e=d(t,1);l.$addClass(e)}function c(t){var e=d(t,-1);l.$removeClass(e)}function d(t,e){var n=s.data("$classCounts")||{},r=[];return a(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function f(t,e){var i=r(e,t),a=r(t,e);i=d(i,1),a=d(a,-1),i&&i.length&&n.addClass(s,i),a&&a.length&&n.removeClass(s,a)}function h(t){if(e===!0||o.$index%2===e){var n=i(t||[]);if(p){if(!F(t,p)){var r=i(p);f(r,n)}}else u(n)}p=P(t)}var p;o.$watch(l[t],h,!0),l.$observe("class",function(){h(o.$eval(l[t]))}),"ngClass"!==t&&o.$watch("$index",function(n,r){var a=1&n;if(a!==(1&r)){var s=i(o.$eval(l[t]));a===e?u(s):c(s)}})}}}]}function Xr(t){function e(t,e,l){e===n?r("$pending",t,l):i("$pending",t,l),E(e)?e?(d(s.$error,t,l),c(s.$$success,t,l)):(c(s.$error,t,l),d(s.$$success,t,l)):(d(s.$error,t,l),d(s.$$success,t,l)),s.$pending?(a(xo,!0),s.$valid=s.$invalid=n,o("",null)):(a(xo,!1),s.$valid=Hr(s.$error),s.$invalid=!s.$valid,o("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,o(t,u),f.$setValidity(t,u,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&d(s[t],e,r),Hr(s[t])&&(s[t]=n)}function a(t,e){e&&!u[t]?(h.addClass(l,t),u[t]=!0):!e&&u[t]&&(h.removeClass(l,t),u[t]=!1)}function o(t,e){t=t?"-"+ne(t,"-"):"",a(ho+t,e===!0),a(po+t,e===!1)}var s=t.ctrl,l=t.$element,u={},c=t.set,d=t.unset,f=t.parentForm,h=t.$animate;u[po]=!(u[ho]=l.hasClass(ho)),s.$setValidity=e}function Hr(t){if(t)for(var e in t)return!1;return!0}var Yr=/^\/(.+)\/([a-z]*)$/,Gr="validity",Wr=function(t){return b(t)?t.toLowerCase():t},Kr=Object.prototype.hasOwnProperty,Zr=function(t){return b(t)?t.toUpperCase():t},Jr=function(t){return b(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Qr=function(t){return b(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(Wr=Jr,Zr=Qr);var ti,ei,ni,ri,ii=[].slice,ai=[].splice,oi=[].push,si=Object.prototype.toString,li=r("ng"),ui=t.angular||(t.angular={}),ci=0;ti=e.documentMode,p.$inject=[],g.$inject=[];var di,fi=Array.isArray,hi=function(t){return b(t)?t.trim():t},pi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},gi=function(){if(y(gi.isActive_))return gi.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return gi.isActive_=t},vi=["ng-","data-ng-","ng:","x-ng-"],mi=/[A-Z]/g,yi=!1,xi=1,bi=3,$i=8,wi=9,_i=11,Ai={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};be.expando="ng339";var ki=be.cache={},Ti=1,Si=function(t,e,n){t.addEventListener(e,n,!1)},Ci=function(t,e,n){t.removeEventListener(e,n,!1)};be._data=function(t){return this.cache[t[this.expando]]||{}};var Mi=/([\:\-\_]+(.))/g,Ei=/^moz([A-Z])/,Di={mouseleave:"mouseout",mouseenter:"mouseover"},Oi=r("jqLite"),ji=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Li=/<|&#?\w+;/,Ri=/<([\w:]+)/,Ii=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.optgroup=Pi.option,Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td;var Fi=be.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),be(t).on("load",r))},toString:function(){var t=[];return a(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return ei(t>=0?this[t]:this[this.length+t])},length:0,push:oi,sort:[].sort,splice:[].splice},Ni={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Ni[Wr(t)]=t});var Bi={};a("input,select,option,textarea,button,form,details".split(","),function(t){Bi[t]=!0});var qi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};a({data:Te,removeData:Ae},function(t,e){be[e]=t}),a({data:Te,inheritedData:Oe,scope:function(t){return ei.data(t,"$scope")||Oe(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ei.data(t,"$isolateScope")||ei.data(t,"$isolateScopeNoTemplate")},controller:De,injector:function(t){return Oe(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Se,css:function(t,e,n){return e=ge(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=Wr(e);if(Ni[i]){if(!y(r))return t[e]||(t.attributes.getNamedItem(e)||p).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(y(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===xi||n===bi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===L(t)){var n=[];return a(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(we(t,!0),void(t.innerHTML=e))},empty:je},function(t,e){be.prototype[e]=function(e,r){var i,a,o=this.length;if(t!==je&&(2==t.length&&t!==Se&&t!==De?e:r)===n){if(x(e)){for(i=0;o>i;i++)if(t===Te)t(this[i],e);else for(a in e)t(this[i],a,e[a]);return this}for(var s=t.$dv,l=s===n?Math.min(o,1):o,u=0;l>u;u++){var c=t(this[u],e,r);s=s?s+c:c}return s}for(i=0;o>i;i++)t(this[i],e,r);return this}}),a({removeData:Ae,on:function Yo(t,e,n,r){if(y(r))throw Oi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(me(t)){var i=ke(t,!0),a=i.events,o=i.handle;o||(o=i.handle=Fe(t,a));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length;l--;){e=s[l];var u=a[e];u||(a[e]=[],"mouseenter"===e||"mouseleave"===e?Yo(t,Di[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&o(t,e)}):"$destroy"!==e&&Si(t,e,o),u=a[e]),u.push(n)}}},off:_e,one:function(t,e,n){t=ei(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;we(t),a(new be(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return a(t.childNodes,function(t){t.nodeType===xi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===xi||n===_i){e=new be(e);for(var r=0,i=e.length;i>r;r++){var a=e[r];t.appendChild(a)}}},prepend:function(t,e){if(t.nodeType===xi){var n=t.firstChild;a(new be(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=ei(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Le,detach:function(t){Le(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new be(e);for(var i=0,a=e.length;a>i;i++){var o=e[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Me,removeClass:Ce,toggleClass:function(t,e,n){e&&a(e.split(" "),function(e){var r=n;m(r)&&(r=!Se(t,e)),(r?Me:Ce)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==_i?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:$e,triggerHandler:function(t,e,n){var r,i,o,s=e.type||e,l=ke(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(r=d(r,e)),i=P(c),o=n?[r].concat(n):[r],a(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(t,e){be.prototype[e]=function(e,n,r){for(var i,a=0,o=this.length;o>a;a++)m(i)?(i=t(this[a],e,n,r),y(i)&&(i=ei(i))):Ee(i,t(this[a],e,n,r));return y(i)?i:this},be.prototype.bind=be.prototype.on,be.prototype.unbind=be.prototype.off}),qe.prototype={put:function(t,e){this[Be(t,this.nextUid)]=e},get:function(t){return this[Be(t,this.nextUid)]},remove:function(t){var e=this[t=Be(t,this.nextUid)];return delete this[t],e}};var Ui=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Vi=/,/,zi=/^\s*(_?)(\S+?)\1\s*$/,Xi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Hi=r("$injector");ze.$$annotate=Ve;var Yi=r("$animate"),Gi=["$provide",function(t){this.$$selectors={},this.register=function(e,n){var r=e+"-animation";if(e&&"."!=e.charAt(0))throw Yi("notcsel","Expecting class selector starting with '.' got '{0}'.",e);this.$$selectors[e.substr(1)]=r,t.factory(r,n)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(t,e,n){function r(e){var r,i=t.defer();return i.promise.$$cancelFn=function(){r&&r()},n.$$postDigest(function(){r=e(function(){i.resolve()})}),i.promise}function i(t,e){var n=[],r=[],i=ue();return a((t.attr("class")||"").split(/\s+/),function(t){i[t]=!0}),a(e,function(t,e){var a=i[e];t===!1&&a?r.push(e):t!==!0||a||n.push(e)}),n.length+r.length>0&&[n.length?n:null,r.length?r:null]}function o(t,e,n){for(var r=0,i=e.length;i>r;++r){var a=e[r];t[a]=n}}function s(){return u||(u=t.defer(),e(function(){u.resolve(),u=null})),u.promise}function l(t,e){if(ui.isObject(e)){var n=d(e.from||{},e.to||{});t.css(n)}}var u;return{animate:function(t,e,n){return l(t,{from:e,to:n}),s()},enter:function(t,e,n,r){return l(t,r),n?n.after(t):e.prepend(t),s()},leave:function(t,e){return l(t,e),t.remove(),s()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=ei(t),e=b(e)?e:fi(e)?e.join(" "):"",a(t,function(t){Me(t,e)}),l(t,n),s()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=ei(t),e=b(e)?e:fi(e)?e.join(" "):"",a(t,function(t){Ce(t,e)}),l(t,n),s()},setClass:function(t,e,n,a){var s=this,l="$$animateClasses",u=!1;t=ei(t);var c=t.data(l);c?a&&c.options&&(c.options=ui.extend(c.options||{},a)):(c={classes:{},options:a},u=!0);var d=c.classes;return e=fi(e)?e:e.split(" "),n=fi(n)?n:n.split(" "),o(d,e,!0),o(d,n,!1),u&&(c.promise=r(function(e){var n=t.data(l);if(t.removeData(l),n){var r=i(t,n.classes);r&&s.$$setClassImmediately(t,r[0],r[1],n.options)}e()}),t.data(l,c)),c.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),l(t,r),s()},enabled:p,cancel:p}}]}],Wi=r("$compile");Ze.$inject=["$provide","$$sanitizeUriProvider"];var Ki=/^((?:x|data)[\:\-_])/i,Zi=r("$controller"),Ji="application/json",Qi={"Content-Type":Ji+";charset=utf-8"},ta=/^\[|^\{(?!\{)/,ea={"[":/]$/,"{":/}$/},na=/^\)\]\}',?\n/,ra=r("$interpolate"),ia=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,aa={http:80,https:443,ftp:21},oa=r("$location"),sa={$$html5:!1,$$replace:!1,absUrl:Mn("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=ia.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Mn("$$protocol"),host:Mn("$$host"),port:Mn("$$port"),path:En("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(b(t)||$(t))t=t.toString(),this.$$search=Y(t);else{if(!x(t))throw oa("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=I(t,{}),a(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:En("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};a([Cn,Sn,Tn],function(t){t.prototype=Object.create(sa),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Tn||!this.$$html5)throw oa("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var la=r("$parse"),ua=Function.prototype.call,ca=Function.prototype.apply,da=Function.prototype.bind,fa=ue();a({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,fa[e]=t}),fa["this"]=function(t){return t},fa["this"].sharedGetter=!0;var ha=d(ue(),{"+":function(t,e,r,i){return r=r(t,e),i=i(t,e),y(r)?y(i)?r+i:r:y(i)?i:n},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(y(n)?n:0)-(y(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),pa={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ga=function(t){this.options=t};ga.prototype={constructor:ga,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=ha[e],a=ha[n],o=ha[r];if(i||a||o){var s=o?r:a?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw la("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Wr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{var s=pa[a];n+=s||a}i=!1}else if("\\"===a)i=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var va=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};va.ZERO=d(function(){return 0},{sharedGetter:!0,constant:!0}),va.prototype={constructor:va,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in fa?t=fa[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e,n;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw la("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw la("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===n||o===r||o===i||!e&&!n&&!r&&!i)return a}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},consume:function(t){if(0===this.tokens.length)throw la("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,e){var n=ha[t];return d(function(t,r){return n(t,r,e)},{constant:e.constant,inputs:[e]})},binaryFn:function(t,e,n,r){var i=ha[e];return d(function(e,r){return i(e,r,t,n)},{constant:t.constant&&n.constant,inputs:!r&&[t,n]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return qn(t,this.options,this.text)},constant:function(){var t=this.consume().value;return d(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.filterChain()),!this.expect(";"))return 1===t.length?t[0]:function(e,n){for(var r,i=0,a=t.length;a>i;i++)r=t[i](e,n);return r}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},filter:function(t){var e,r,i=this.$filter(this.consume().text);if(this.peek(":"))for(e=[],r=[];this.expect(":");)e.push(this.expression());var a=[t].concat(e||[]);return d(function(a,o){var s=t(a,o);if(r){r[0]=s;for(var l=e.length;l--;)r[l+1]=e[l](a,o);return i.apply(n,r)}return i(s)},{constant:!i.$stateful&&a.every(In),inputs:!i.$stateful&&a})},expression:function(){return this.assignment()},assignment:function(){var t,e,n=this.ternary();return(e=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,e.index)+"] can not be assigned to",e),t=this.ternary(),d(function(e,r){return n.assign(e,t(e,r),r)},{inputs:[n,t]})):n},ternary:function(){var t,e,n=this.logicalOR();if((e=this.expect("?"))&&(t=this.assignment(),this.consume(":"))){var r=this.assignment();return d(function(e,i){return n(e,i)?t(e,i):r(e,i)},{constant:n.constant&&t.constant&&r.constant})}return n},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(va.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(t){var e=this.identifier();return d(function(r,i,a){var o=a||t(r,i);return null==o?n:e(o)},{assign:function(n,r,i){var a=t(n,i);return a||t.assign(n,a={},i),e.assign(a,r)}})},objectIndex:function(t){var e=this.text,r=this.expression();return this.consume("]"),d(function(i,a){var o,s=t(i,a),l=r(i,a);return jn(l,e),s?o=Ln(s[l],e):n},{assign:function(n,i,a){var o=jn(r(n,a),e),s=Ln(t(n,a),e);return s||t.assign(n,s={},a),s[o]=i}})},functionCall:function(t,e){var r=[];if(")"!==this.peekToken().text)do r.push(this.expression());while(this.expect(","));this.consume(")");var i=this.text,a=r.length?[]:null;return function(o,s){var l=e?e(o,s):y(e)?n:o,u=t(o,s,l)||p;if(a)for(var c=r.length;c--;)a[c]=Ln(r[c](o,s),i);Ln(l,i),Rn(u,i);var d=u.apply?u.apply(l,a):u(a[0],a[1],a[2],a[3],a[4]);return a&&(a.length=0),Ln(d,i)}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),d(function(e,n){for(var r=[],i=0,a=t.length;a>i;i++)r.push(t[i](e,n));return r},{literal:!0,constant:t.every(In),inputs:t})},object:function(){var t=[],e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.consume();n.constant?t.push(n.value):n.identifier?t.push(n.text):this.throwError("invalid key",n),this.consume(":"),e.push(this.expression())}while(this.expect(","));return this.consume("}"),d(function(n,r){for(var i={},a=0,o=e.length;o>a;a++)i[t[a]]=e[a](n,r);return i},{literal:!0,constant:e.every(In),inputs:e})}};var ma=ue(),ya=ue(),xa=Object.prototype.valueOf,ba=r("$sce"),$a={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wi=r("$compile"),wa=e.createElement("a"),_a=ir(t.location.href);sr.$inject=["$provide"],dr.$inject=["$locale"],fr.$inject=["$locale"];var Aa=".",ka={yyyy:gr("FullYear",4),yy:gr("FullYear",2,0,!0),y:gr("FullYear",1),MMMM:vr("Month"),MMM:vr("Month",!0),MM:gr("Month",2,1),M:gr("Month",1,1),dd:gr("Date",2),d:gr("Date",1),HH:gr("Hours",2),H:gr("Hours",1),hh:gr("Hours",2,-12),h:gr("Hours",1,-12),mm:gr("Minutes",2),m:gr("Minutes",1),ss:gr("Seconds",2),s:gr("Seconds",1),sss:gr("Milliseconds",3),EEEE:vr("Day"),EEE:vr("Day",!0),a:$r,Z:mr,ww:br(2),w:br(1),G:wr,GG:wr,GGG:wr,GGGG:_r},Ta=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Sa=/^\-?\d+$/;Ar.$inject=["$locale"];var Ca=v(Wr),Ma=v(Zr);Sr.$inject=["$parse"];var Ea=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref||e.name?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===si.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Da={};a(Ni,function(t,e){if("multiple"!=t){var n=Je("ng-"+e);Da[n]=function(){return{restrict:"A",priority:100,link:function(t,r,i){t.$watch(i[n],function(t){i.$set(e,!!t)})}}}}}),a(qi,function(t,e){Da[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(Yr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),a(["src","srcset","href"],function(t){var e=Je("ng-"+t);Da[e]=function(){return{priority:99,link:function(n,r,i){var a=t,o=t;"href"===t&&"[object SVGAnimatedString]"===si.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(e,function(e){return e?(i.$set(o,e),void(ti&&a&&r.prop(a,i[o]))):void("href"===t&&i.$set(o,null))})}}}});var Oa={$addControl:p,$$renameControl:Mr,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},ja="ng-submitted";Er.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var La=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:Er,compile:function(r,i){r.addClass(go).addClass(ho);var a=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,o){if(!("action"in i)){var s=function(e){t.$apply(function(){o.$commitViewValue(),o.$setSubmitted()}),e.preventDefault()};Si(r[0],"submit",s),r.on("$destroy",function(){e(function(){Ci(r[0],"submit",s)},0,!1)})}var l=o.$$parentForm;a&&(Pn(t,null,o.$name,o,o.$name),i.$observe(a,function(e){o.$name!==e&&(Pn(t,null,o.$name,n,o.$name),l.$$renameControl(o,e),Pn(t,null,o.$name,o,o.$name))})),r.on("$destroy",function(){l.$removeControl(o),a&&Pn(t,null,i[a],n,o.$name),d(o,Oa)})}}}};return r}]},Ra=La(),Ia=La(!0),Pa=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Fa=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Na=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ba=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,qa=/^(\d{4})-(\d{2})-(\d{2})$/,Ua=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Va=/^(\d{4})-W(\d\d)$/,za=/^(\d{4})-(\d\d)$/,Xa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ha={text:Or,date:Ir("date",qa,Rr(qa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Ir("datetimelocal",Ua,Rr(Ua,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Ir("time",Xa,Rr(Xa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Ir("week",Va,Lr,"yyyy-Www"),month:Ir("month",za,Rr(za,["yyyy","MM"]),"yyyy-MM"),number:Fr,url:Nr,email:Br,radio:qr,checkbox:Vr,hidden:p,button:p,submit:p,reset:p,file:p},Ya=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,a,o,s){s[0]&&(Ha[Wr(o.type)]||Ha.text)(i,a,o,s[0],e,t,n,r)}}}}],Ga=/^(true|false|\d+)$/,Wa=function(){return{restrict:"A",priority:100,compile:function(t,e){return Ga.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ka=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Za=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,a){var o=t(i.attr(a.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],a.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Ja=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var a=e(i.ngBindHtml),o=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(o,function(){r.html(t.getTrustedHtml(a(e))||"")})}}}}],Qa=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),to=zr("",!0),eo=zr("Odd",0),no=zr("Even",1),ro=Cr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),io=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ao={},oo={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Je("ng-"+t);ao[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,a){var o=n(a[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){o(e,{$event:n})};oo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var so=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,u;n.$watch(i.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=le(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],lo=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ui.noop,compile:function(i,a){var o=a.ngInclude||a.src,s=a.onload||"",l=a.autoscroll;return function(i,a,u,c,d){var f,h,p,g=0,v=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};i.$watch(r.parseAsResourceUrl(o),function(r){var o=function(){!y(l)||l&&!i.$eval(l)||e()},u=++g;r?(t(r,!0).then(function(t){if(u===g){var e=i.$new();c.template=t;var l=d(e,function(t){v(),n.enter(t,null,a).then(o)});f=e,p=l,f.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){u===g&&(v(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(v(),c.template=null)})}}}}],uo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,a){return/SVG/.test(r[0].toString())?(r.empty(),void t(ye(a.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(a.template),void t(r.contents())(n))}}}],co=Cr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),fo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var o=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?hi(o):o,u=function(t){if(!m(t)){var e=[];return t&&a(t.split(l),function(t){t&&e.push(s?hi(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return fi(t)?t.join(o):n}),i.$isEmpty=function(t){return!t||!t.length}}}},ho="ng-valid",po="ng-invalid",go="ng-pristine",vo="ng-dirty",mo="ng-untouched",yo="ng-touched",xo="ng-pending",bo=new r("ngModel"),$o=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,o,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(t);var f,h=o(r.ngModel),g=h.assign,v=h,x=g,b=null,w=this;this.$$setOptions=function(t){if(w.$options=t,t&&t.getterSetter){var e=o(r.ngModel+"()"),n=o(r.ngModel+"($$$p)");v=function(t){var n=h(t);return _(n)&&(n=e(t)),n},x=function(t){_(h(t))?n(t,{$$$p:w.$modelValue}):g(t,w.$modelValue)}}else if(!h.assign)throw bo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,X(i))},this.$render=p,this.$isEmpty=function(t){return m(t)||""===t||null===t||t!==t};var A=i.inheritedData("$formController")||Oa,k=0;Xr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:A,$animate:s}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,s.removeClass(i,vo),s.addClass(i,go)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,s.removeClass(i,go),s.addClass(i,vo),A.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,s.setClass(i,mo,yo)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,s.setClass(i,yo,mo)},this.$rollbackViewValue=function(){l.cancel(b),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!$(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$lastCommittedViewValue,e=w.$$rawModelValue,r=w.$valid,i=w.$modelValue,a=w.$options&&w.$options.allowInvalid;
w.$$runValidators(e,t,function(t){a||r===t||(w.$modelValue=t?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=w.$$parserName||"parse";return f!==n?(f||(a(w.$validators,function(t,e){l(e,null)}),a(w.$asyncValidators,function(t,e){l(e,null)})),l(t,f),f):(l(t,null),!0)}function o(){var n=!0;return a(w.$validators,function(r,i){var a=r(t,e);n=n&&a,l(i,a)}),n?!0:(a(w.$asyncValidators,function(t,e){l(e,null)}),!1)}function s(){var r=[],i=!0;a(w.$asyncValidators,function(a,o){var s=a(t,e);if(!D(s))throw bo("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(o,n),r.push(s.then(function(){l(o,!0)},function(){i=!1,l(o,!1)}))}),r.length?c.all(r).then(function(){u(i)},p):u(!0)}function l(t,e){d===k&&w.$setValidity(t,e)}function u(t){d===k&&r(t)}k++;var d=k;return i()&&o()?void s():void u(!1)},this.$commitViewValue=function(){var t=w.$viewValue;l.cancel(b),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){w.$modelValue!==o&&w.$$writeModelToScope()}var r=w.$$lastCommittedViewValue,i=r;if(f=m(i)?n:!0)for(var a=0;a<w.$parsers.length;a++)if(i=w.$parsers[a](i),m(i)){f=!1;break}$(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=v(t));var o=w.$modelValue,s=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=i,s&&(w.$modelValue=i,e()),w.$$runValidators(i,w.$$lastCommittedViewValue,function(t){s||(w.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){x(t,w.$modelValue),a(w.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){w.$viewValue=t,(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=w.$options;i&&y(i.debounce)&&(n=i.debounce,$(n)?r=n:$(n[e])?r=n[e]:$(n["default"])&&(r=n["default"])),l.cancel(b),r?b=l(function(){w.$commitViewValue()},r):u.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=v(t);if(e!==w.$modelValue){w.$modelValue=w.$$rawModelValue=e,f=n;for(var r=w.$formatters,i=r.length,a=e;i--;)a=r[i](a);w.$viewValue!==a&&(w.$viewValue=w.$$lastCommittedViewValue=a,w.$render(),w.$$runValidators(e,a,p))}return e})}],wo=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:$o,priority:1,compile:function(e){return e.addClass(go).addClass(mo).addClass(ho),{pre:function(t,e,n,r){var i=r[0],a=r[1]||Oa;i.$$setOptions(r[2]&&r[2].$options),a.$addControl(i),n.$observe("name",function(t){i.$name!==t&&a.$$renameControl(i,t)}),t.$on("$destroy",function(){a.$removeControl(i)})},post:function(e,n,r,i){var a=i[0];a.$options&&a.$options.updateOn&&n.on(a.$options.updateOn,function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(a.$setTouched):e.$apply(a.$setTouched))})}}}}}],_o=/(\s+|^)default(\s+|$)/,Ao=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=hi(this.$options.updateOn.replace(_o,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ko=Cr({terminal:!0,priority:1e3}),To=["$locale","$interpolate",function(t,e){var n=/{}/g,r=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,o,s){function l(t){o.text(t||"")}var u,c=s.count,d=s.$attr.when&&o.attr(s.$attr.when),f=s.offset||0,h=i.$eval(d)||{},p={},g=e.startSymbol(),v=e.endSymbol(),m=g+c+"-"+f+v,y=ui.noop;a(s,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Wr(n[2]);h[i]=o.attr(s.$attr[e])}}),a(h,function(t,r){p[r]=e(t.replace(n,m))}),i.$watch(c,function(e){var n=parseFloat(e),r=isNaN(n);r||n in h||(n=t.pluralCat(n-f)),n===u||r&&isNaN(u)||(y(),y=i.$watch(p[n],l),u=n)})}}}],So=["$parse","$animate",function(t,o){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(t,e,n,r,i,a,o){t[n]=r,i&&(t[i]=a),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},d=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var h=f.ngRepeat,p=e.createComment(" end ngRepeat: "+h+" "),g=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var v=g[1],m=g[2],y=g[3],x=g[4];if(g=v.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",v);var b=g[3]||g[1],$=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var w,_,A,k,T={$id:Be};return x?w=t(x):(A=function(t,e){return Be(e)},k=function(t){return t}),function(t,e,r,f,g){w&&(_=function(e,n,r){return $&&(T[$]=e),T[b]=n,T.$index=r,w(t,T)});var v=ue();t.$watchCollection(m,function(r){var f,m,x,w,T,S,C,M,E,D,O,j,L=e[0],R=ue();if(y&&(t[y]=r),i(r))E=r,M=_||A;else{M=_||k,E=[];for(var I in r)r.hasOwnProperty(I)&&"$"!=I.charAt(0)&&E.push(I);E.sort()}for(w=E.length,O=new Array(w),f=0;w>f;f++)if(T=r===E?f:E[f],S=r[T],C=M(T,S,f),v[C])D=v[C],delete v[C],R[C]=D,O[f]=D;else{if(R[C])throw a(O,function(t){t&&t.scope&&(v[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,C,S);O[f]={id:C,scope:n,clone:n},R[C]=!0}for(var P in v){if(D=v[P],j=le(D.clone),o.leave(j),j[0].parentNode)for(f=0,m=j.length;m>f;f++)j[f][s]=!0;D.scope.$destroy()}for(f=0;w>f;f++)if(T=r===E?f:E[f],S=r[T],D=O[f],D.scope){x=L;do x=x.nextSibling;while(x&&x[s]);c(D)!=x&&o.move(le(D.clone),null,ei(L)),L=d(D),u(D.scope,f,b,S,$,T,w)}else g(function(t,e){D.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,o.enter(t,null,ei(L)),L=n,D.clone=t,R[D.id]=D,u(D.scope,f,b,S,$,T,w)});v=R})}}}}],Co="ng-hide",Mo="ng-hide-animate",Eo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,Co,{tempClasses:Mo})})}}}],Do=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,Co,{tempClasses:Mo})})}}}],Oo=Cr(function(t,e,n){t.$watchCollection(n.ngStyle,function(t,n){n&&t!==n&&a(n,function(t,n){e.css(n,"")}),t&&e.css(t)})}),jo=["$animate",function(t){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=le(u[r].clone);d[r].$destroy();var h=c[r]=t.leave(s);h.then(f(c,r))}u.length=0,d.length=0,(l=o.cases["!"+n]||o.cases["?"])&&a(l,function(n){n.transclude(function(r,i){d.push(i);var a=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var o={clone:r};u.push(o),t.enter(r,a.parent(),a)})})})}}}],Lo=Cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Ro=Cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Io=Cr({restrict:"EAC",link:function(t,e,n,i,a){if(!a)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(e));a(function(t){e.empty(),e.append(t)})}}),Po=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],Fo=r("ngOptions"),No=v({restrict:"A",terminal:!0}),Bo=["$compile","$parse",function(t,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var r,i,a=this,o={},l=s;a.databound=n.ngModel,a.init=function(t,e,n){l=t,r=e,i=n},a.addOption=function(e,n){oe(e,'"option value"'),o[e]=!0,l.$viewValue==e&&(t.val(e),i.parent()&&i.remove()),n&&n[0].hasAttribute("selected")&&(n[0].selected=!0)},a.removeOption=function(t){this.hasOption(t)&&(delete o[t],l.$viewValue===t&&this.renderUnknownOption(t))},a.renderUnknownOption=function(e){var n="? "+Be(e)+" ?";i.val(n),t.prepend(i),t.val(n),i.prop("selected",!0)},a.hasOption=function(t){return o.hasOwnProperty(t)},e.$on("$destroy",function(){a.renderUnknownOption=p})}],link:function(s,l,u,c){function d(t,e,n,r){n.$render=function(){var t=n.$viewValue;r.hasOption(t)?(k.parent()&&k.remove(),e.val(t),""===t&&p.prop("selected",!0)):m(t)&&p?e.val(""):r.renderUnknownOption(t)},e.on("change",function(){t.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(e.val())})})}function f(t,e,n){var r;n.$render=function(){var t=new qe(n.$viewValue);a(e.find("option"),function(e){e.selected=y(t.get(e.value))})},t.$watch(function(){F(r,n.$viewValue)||(r=P(n.$viewValue),n.$render())}),e.on("change",function(){t.$apply(function(){var t=[];a(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function h(e,s,l){function u(t,n,r){return F[S]=r,E&&(F[E]=n),t(e,F)}function c(){e.$apply(function(){var t,n=j(e)||[];if(x)t=[],a(s.val(),function(e){e=R?I[e]:e,t.push(d(e,n[e]))});else{var r=R?I[s.val()]:s.val();t=d(r,n[r])}l.$setViewValue(t),m()})}function d(t,e){if("?"===t)return n;if(""===t)return null;var r=M?M:O;return u(r,t,e)}function f(){var t,n=j(e);if(n&&fi(n)){t=new Array(n.length);for(var r=0,i=n.length;i>r;r++)t[r]=u(T,r,n[r]);return t}if(n){t={};for(var a in n)n.hasOwnProperty(a)&&(t[a]=u(T,a,n[a]))}return t}function h(t){var e;if(x)if(R&&fi(t)){e=new qe([]);for(var n=0;n<t.length;n++)e.put(u(R,null,t[n]),!0)}else e=new qe(t);else R&&(t=u(R,null,t));return function(n,r){var i;return i=R?R:M?M:O,x?y(e.remove(u(i,n,r))):t===u(i,n,r)}}function p(){w||(e.$$postDigest(m),w=!0)}function v(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function m(){w=!1;var t,n,r,i,c,d,f,p,m,b,k,S,C,M,O,L,N,B={"":[]},q=[""],U=l.$viewValue,V=j(e)||[],z=E?o(V):V,X={},H=h(U),Y=!1;for(I={},S=0;b=z.length,b>S;S++)f=S,E&&(f=z[S],"$"===f.charAt(0))||(p=V[f],t=u(D,f,p)||"",(n=B[t])||(n=B[t]=[],q.push(t)),C=H(f,p),Y=Y||C,L=u(T,f,p),L=y(L)?L:"",N=R?R(e,F):E?z[S]:S,R&&(I[N]=f),n.push({id:N,label:L,selected:C}));for(x||($||null===U?B[""].unshift({id:"",label:"",selected:!Y}):Y||B[""].unshift({id:"?",label:"",selected:!0})),k=0,m=q.length;m>k;k++){for(t=q[k],n=B[t],P.length<=k?(i={element:A.clone().attr("label",t),label:n.label},c=[i],P.push(c),s.append(i.element)):(c=P[k],i=c[0],i.label!=t&&i.element.attr("label",i.label=t)),M=null,S=0,b=n.length;b>S;S++)r=n[S],(d=c[S+1])?(M=d.element,d.label!==r.label&&(v(X,d.label,!1),v(X,r.label,!0),M.text(d.label=r.label),M.prop("label",d.label)),d.id!==r.id&&M.val(d.id=r.id),M[0].selected!==r.selected&&(M.prop("selected",d.selected=r.selected),ti&&M.prop("selected",d.selected))):(""===r.id&&$?O=$:(O=_.clone()).val(r.id).prop("selected",r.selected).attr("selected",r.selected).prop("label",r.label).text(r.label),c.push(d={element:O,label:r.label,id:r.id,selected:r.selected}),v(X,r.label,!0),M?M.after(O):i.element.append(O),M=O);for(S++;c.length>S;)r=c.pop(),v(X,r.label,!1),r.element.remove()}for(;P.length>k;){for(n=P.pop(),S=1;S<n.length;++S)v(X,n[S].label,!1);n[0].element.remove()}a(X,function(t,e){t>0?g.addOption(e):0>t&&g.removeOption(e)})}var k;if(!(k=b.match(i)))throw Fo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",b,X(s));var T=r(k[2]||k[1]),S=k[4]||k[6],C=/ as /.test(k[0])&&k[1],M=C?r(C):null,E=k[5],D=r(k[3]||""),O=r(k[2]?k[1]:S),j=r(k[7]),L=k[8],R=L?r(k[8]):null,I={},P=[[{element:s,label:""}]],F={};$&&(t($)(e),$.removeClass("ng-scope"),$.remove()),s.empty(),s.on("change",c),l.$render=m,e.$watchCollection(j,p),e.$watchCollection(f,p),x&&e.$watchCollection(function(){return l.$modelValue},p)}if(c[1]){for(var p,g=c[0],v=c[1],x=u.multiple,b=u.ngOptions,$=!1,w=!1,_=ei(e.createElement("option")),A=ei(e.createElement("optgroup")),k=_.clone(),T=0,S=l.children(),C=S.length;C>T;T++)if(""===S[T].value){p=$=S.eq(T);break}g.init(v,$,k),x&&(v.$isEmpty=function(t){return!t||0===t.length}),b?h(s,l,v):x?f(s,l,v):d(s,l,v,g)}}}}],qo=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(m(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var a="$selectController",o=n.parent(),s=o.data(a)||o.parent().data(a);s&&s.databound||(s=e),i?t.$watch(i,function(t,e){r.$set("value",t),e!==t&&s.removeOption(e),s.addOption(t,n)}):s.addOption(r.value,n),n.on("$destroy",function(){s.removeOption(r.value)})}}}}],Uo=v({restrict:"E",terminal:!1}),Vo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},zo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,a){if(a){var o,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(b(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,X(e));o=t||n,a.$validate()}),a.$validators.pattern=function(t){return a.$isEmpty(t)||m(o)||o.test(t)}}}}},Xo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Ho=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap||(re(),he(ui),ei(e).ready(function(){J(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>')},{}],8:[function(t,e,n){!function(r){"use strict";function i(t){this.owner=t}function a(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function o(t){var e=this.internal=new s(this);e.loadConfig(t),e.init(),function n(t,e,r){Object.keys(t).forEach(function(i){e[i]=t[i].bind(r),Object.keys(t[i]).length>0&&n(t[i],e[i],r)})}(c,this,this)}function s(e){var n=this;n.d3=r.d3?r.d3:"undefined"!=typeof t?t("./../d3/d3.js"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function l(t){i.call(this,t)}function u(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+b)+", 0)"})}function r(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function i(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function a(t){var e,n,r=[];if(t.ticks)return t.ticks.apply(t,h);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function o(){var t,n=g.copy();return e.isCategory&&(t=g.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=f?f(t):t;return"undefined"!=typeof e?e:""}function l(t){if(C)return C;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),r=s(t),i=n.height,a=r?n.width/r.length:void 0;i&&a&&(e.h=i,e.w=a)}).text(""),C=e,e}function u(n){return e.withoutTransition?n:t.transition(n)}function c(f){f.each(function(){function f(t,n){function r(t,e){a=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(a=s),i=e.substr(0,s+1),o=H.w*i.length,o>n)return r(t.concat(e.substr(0,a?a:s)),e.slice(a?a+1:s));return t.concat(e)}var i,a,o,l=s(t),u=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||0>=n)&&(n=W?95:e.isCategory?Math.ceil(D(O[1])-D(O[0]))-12:110),r(u,l+""))}function h(t,e){var n=H.h;return 0===e&&(n="left"===v||"right"===v?-((Y[t.index]-1)*(H.h/2)-3):".71em"),n}function $(t){var e=g(t)+(p?0:b);return P[0]<e&&e<P[1]?m:0}function w(t){return t?t>0?"start":"end":"middle"}function _(t){return t?"rotate("+t+")":""}function A(t){return t?8*Math.sin(Math.PI*(t/180)):0}function k(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):G}var T,S,C,M=c.g=t.select(this),E=this.__chart__||g,D=this.__chart__=o(),O=x?x:a(D),j=M.selectAll(".tick").data(O,D),L=j.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),R=j.exit().remove(),I=u(j).style("opacity",1),P=g.rangeExtent?g.rangeExtent():i(g.range()),F=M.selectAll(".domain").data([0]),N=(F.enter().append("path").attr("class","domain"),u(F));L.append("line"),L.append("text");var B=L.select("line"),q=I.select("line"),U=L.select("text"),V=I.select("text");e.isCategory?(b=Math.ceil((D(1)-D(0))/2),S=p?0:b,C=p?b:0):b=S=0;var z,X,H=l(M.select(".tick")),Y=[],G=Math.max(m,0)+y,W="left"===v||"right"===v;z=j.select("text"),X=z.selectAll("tspan").data(function(t,n){var r=e.tickMultiline?f(t,e.tickWidth):[].concat(s(t));return Y[n]=r.length,r.map(function(t){return{index:n,splitted:t}})}),X.enter().append("tspan"),X.exit().remove(),X.text(function(t){return t.splitted});var K=e.tickTextRotate;switch(v){case"bottom":T=n,B.attr("y2",m),U.attr("y",G),q.attr("x1",S).attr("x2",S).attr("y2",$),V.attr("x",0).attr("y",k(K)).style("text-anchor",w(K)).attr("transform",_(K)),X.attr("x",0).attr("dy",h).attr("dx",A(K)),N.attr("d","M"+P[0]+","+d+"V0H"+P[1]+"V"+d);break;case"top":T=n,B.attr("y2",-m),U.attr("y",-G),q.attr("x2",0).attr("y2",-m),V.attr("x",0).attr("y",-G),z.style("text-anchor","middle"),X.attr("x",0).attr("dy","0em"),N.attr("d","M"+P[0]+","+-d+"V0H"+P[1]+"V"+-d);break;case"left":T=r,B.attr("x2",-m),U.attr("x",-G),q.attr("x2",-m).attr("y1",C).attr("y2",C),V.attr("x",-G).attr("y",b),z.style("text-anchor","end"),X.attr("x",-G).attr("dy",h),N.attr("d","M"+-d+","+P[0]+"H0V"+P[1]+"H"+-d);break;case"right":T=r,B.attr("x2",m),U.attr("x",G),q.attr("x2",m).attr("y2",0),V.attr("x",G).attr("y",0),z.style("text-anchor","start"),X.attr("x",G).attr("dy",h),N.attr("d","M"+d+","+P[0]+"H0V"+P[1]+"H"+d)}if(D.rangeBand){var Z=D,J=Z.rangeBand()/2;E=D=function(t){return Z(t)+J}}else E.rangeBand?E=D:R.call(T,D);L.call(T,E),I.call(T,D)})}var d,f,h,p,g=t.scale.linear(),v="bottom",m=6,y=3,x=null,b=0,$=!0;return e=e||{},d=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(g=t,c):g},c.orient=function(t){return arguments.length?(v=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):v},c.tickFormat=function(t){return arguments.length?(f=t,c):f},c.tickCentered=function(t){return arguments.length?(p=t,c):p},c.tickOffset=function(){return b},c.tickInterval=function(){var t,n;return e.isCategory?t=2*b:(n=c.g.select("path.domain").node().getTotalLength()-2*d,t=n/c.g.selectAll("line").size()),1/0===t?0:t},c.ticks=function(){return arguments.length?(h=arguments,c):h},c.tickCulling=function(t){return arguments.length?($=t,c):$},c.tickValues=function(t){if("function"==typeof t)x=function(){return t(g.domain())};else{if(!arguments.length)return x;x=t}return c},c}var c,d,f,h={version:"0.4.10"};h.generate=function(t){return new o(t)},h.chart={fn:o.prototype,internal:{fn:s.prototype,axis:{fn:l.prototype}}},c=h.chart.fn,d=h.chart.internal.fn,f=h.chart.internal.axis.fn,d.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},d.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},d.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},d.initWithData=function(t){var e,n,i=this,a=i.d3,o=i.config,s=!0;i.axis=new l(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),i.selectChart=o.bindto?"function"==typeof o.bindto.node?o.bindto:a.select(o.bindto):a.selectAll([]),i.selectChart.empty()&&(i.selectChart=a.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),s=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(o.data_hide===!0?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(o.legend_hide===!0?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(a.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),e=i.svg.append("defs"),i.clipChart=i.appendClip(e,i.clipId),i.clipXAxis=i.appendClip(e,i.clipIdForXAxis),i.clipYAxis=i.appendClip(e,i.clipIdForYAxis),i.clipGrid=i.appendClip(e,i.clipIdForGrid),i.clipSubchart=i.appendClip(e,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),n.append("text").attr("class",p.text+" "+p.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",p.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+p.regions).attr("class",p.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),s&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==r.onresize&&(r.onresize=i.generateResize()),r.onresize.add&&(r.onresize.add(function(){o.onresize.call(i)}),r.onresize.add(function(){i.api.flush()}),r.onresize.add(function(){o.onresized.call(i)})),i.api.element=i.selectChart.node()},d.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(a)})})},d.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+i+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:0/0,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-s-i,right:0/0,bottom:o+i,left:t.margin.left},t.margin3={top:0,right:0/0,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},d.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},d.showTargets=function(){var t=this;t.svg.selectAll("."+p.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},d.redraw=function(t,e){var n,r,i,a,o,s,l,u,c,d,f,h,g,v,m,y,x,b,$,w,_,A,T,S,C,M,E,D,O,j=this,L=j.main,R=j.d3,I=j.config,P=j.getShapeIndices(j.isAreaType),F=j.getShapeIndices(j.isBarType),N=j.getShapeIndices(j.isLineType),B=j.hasArcType(),q=j.filterTargetsToShow(j.data.targets),U=j.xv.bind(j);if(t=t||{},n=k(t,"withY",!0),r=k(t,"withSubchart",!0),i=k(t,"withTransition",!0),s=k(t,"withTransform",!1),l=k(t,"withUpdateXDomain",!1),u=k(t,"withUpdateOrgXDomain",!1),c=k(t,"withTrimXDomain",!0),g=k(t,"withUpdateXAxis",l),d=k(t,"withLegend",!1),f=k(t,"withEventRect",!0),h=k(t,"withDimension",!0),a=k(t,"withTransitionForExit",i),o=k(t,"withTransitionForAxis",i),$=i?I.transition_duration:0,w=a?$:0,_=o?$:0,e=e||j.axis.generateTransitions(_),d&&I.legend_show?j.updateLegend(j.mapToIds(j.data.targets),t,e):h&&j.updateDimension(!0),j.isCategorized()&&0===q.length&&j.x.domain([0,j.axes.x.selectAll(".tick").size()]),q.length?(j.updateXDomain(q,l,u,c),I.axis_x_tick_values||(S=j.axis.updateXAxisTickValues(q))):(j.xAxis.tickValues([]),j.subXAxis.tickValues([])),I.zoom_rescale&&!t.flow&&(E=j.x.orgDomain()),j.y.domain(j.getYDomain(q,"y",E)),j.y2.domain(j.getYDomain(q,"y2",E)),!I.axis_y_tick_values&&I.axis_y_tick_count&&j.yAxis.tickValues(j.axis.generateTickValues(j.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&j.y2Axis.tickValues(j.axis.generateTickValues(j.y2.domain(),I.axis_y2_tick_count)),j.axis.redraw(e,B),j.axis.updateLabels(i),(l||g)&&q.length)if(I.axis_x_tick_culling&&S){for(C=1;C<S.length;C++)if(S.length/C<I.axis_x_tick_culling_max){M=C;break}j.svg.selectAll("."+p.axisX+" .tick text").each(function(t){var e=S.indexOf(t);e>=0&&R.select(this).style("display",e%M?"none":"block")})}else j.svg.selectAll("."+p.axisX+" .tick text").style("display","block");v=j.generateDrawArea?j.generateDrawArea(P,!1):void 0,m=j.generateDrawBar?j.generateDrawBar(F):void 0,y=j.generateDrawLine?j.generateDrawLine(N,!1):void 0,x=j.generateXYForText(P,F,N,!0),b=j.generateXYForText(P,F,N,!1),n&&(j.subY.domain(j.getYDomain(q,"y")),j.subY2.domain(j.getYDomain(q,"y2"))),j.tooltip.style("display","none"),j.updateXgridFocus(),L.select("text."+p.text+"."+p.empty).attr("x",j.width/2).attr("y",j.height/2).text(I.data_empty_label_text).transition().style("opacity",q.length?0:1),j.updateGrid($),j.updateRegion($),j.updateBar(w),j.updateLine(w),j.updateArea(w),j.updateCircle(),j.hasDataLabel()&&j.updateText(w),j.redrawArc&&j.redrawArc($,w,s),j.redrawSubchart&&j.redrawSubchart(r,e,$,w,P,F,N),L.selectAll("."+p.selectedCircles).filter(j.isBarType.bind(j)).selectAll("circle").remove(),I.interaction_enabled&&!t.flow&&f&&(j.redrawEventRect(),j.updateZoom&&j.updateZoom()),j.updateCircleY(),D=(j.config.axis_rotated?j.circleY:j.circleX).bind(j),O=(j.config.axis_rotated?j.circleX:j.circleY).bind(j),t.flow&&(T=j.generateFlow({targets:q,flow:t.flow,duration:t.flow.duration,drawBar:m,drawLine:y,drawArea:v,cx:D,cy:O,xv:U,xForText:x,yForText:b})),($||T)&&j.isTabVisible()?R.transition().duration($).each(function(){var e=[];[j.redrawBar(m,!0),j.redrawLine(y,!0),j.redrawArea(v,!0),j.redrawCircle(D,O,!0),j.redrawText(x,b,t.flow,!0),j.redrawRegion(!0),j.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),A=j.generateWait(),e.forEach(function(t){A.add(t)})}).call(A,function(){T&&T(),I.onrendered&&I.onrendered.call(j)}):(j.redrawBar(m),j.redrawLine(y),j.redrawArea(v),j.redrawCircle(D,O),j.redrawText(x,b,t.flow),j.redrawRegion(),j.redrawGrid(),I.onrendered&&I.onrendered.call(j)),j.mapToIds(j.data.targets).forEach(function(t){j.withoutFadeIn[t]=!0})},d.updateAndRedraw=function(t){var e,n=this,r=n.config;t=t||{},t.withTransition=k(t,"withTransition",!0),t.withTransform=k(t,"withTransform",!1),t.withLegend=k(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=k(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)
},d.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},d.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},d.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},d.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||A(e.data_xs))},d.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},d.getTranslate=function(t){var e,n,r=this,i=r.config;return"main"===t?(e=$(r.margin.left),n=$(r.margin.top)):"context"===t?(e=$(r.margin2.left),n=$(r.margin2.top)):"legend"===t?(e=r.margin3.left,n=r.margin3.top):"x"===t?(e=0,n=i.axis_rotated?0:r.height):"y"===t?(e=0,n=i.axis_rotated?r.height:0):"y2"===t?(e=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===t?(e=0,n=i.axis_rotated?0:r.height2):"arc"===t&&(e=r.arcWidth/2,n=r.arcHeight/2),"translate("+e+","+n+")"},d.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},d.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},d.opacityForCircle=function(t){var e=this.config.point_show?1:0;return g(t.value)?this.isScatterType(t)?.5:e:0},d.opacityForText=function(){return this.hasDataLabel()?1:0},d.xx=function(t){return t?this.x(t.x):null},d.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},d.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},d.subxx=function(t){return t?this.subX(t.x):null},d.transformMain=function(t,e){var n,r,i,a=this;e&&e.axisX?n=e.axisX:(n=a.main.select("."+p.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=a.main.select("."+p.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=a.main.select("."+p.axisY2),t&&(i=i.transition())),(t?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),r.attr("transform",a.getTranslate("y")),i.attr("transform",a.getTranslate("y2")),a.main.select("."+p.chartArcs).attr("transform",a.getTranslate("arc"))},d.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},d.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+p.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},d.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},d.observeInserted=function(t){var e,n=this;return"undefined"==typeof MutationObserver?void r.console.error("MutationObserver not defined."):(e=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=r.setInterval(function(){t.node().parentNode&&(r.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})}),void e.observe(t.node(),{attributes:!0,childList:!0,characterData:!0}))},d.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t},d.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},d.generateWait=function(){var t=[],e=function(e,n){var r=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(r),n&&n())},10)};return e.add=function(e){t.push(e)},e},d.parseDate=function(t){var e,n=this;return t instanceof Date?e=t:"string"==typeof t?e=n.dataTimeFormat(n.config.data_xFormat).parse(t):"number"!=typeof t&&isNaN(t)||(e=new Date(+t)),(!e||isNaN(+e))&&r.console.error("Failed to parse x '"+t+"' to Date object"),e},d.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},d.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},d.additionalConfig={},d.loadConfig=function(t){function e(){var t=r.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,r,i,a=this.config;Object.keys(a).forEach(function(o){n=t,r=o.split("_"),i=e(),x(i)&&(a[o]=i)})},d.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},d.getX=function(t,e,n,r){var i,a=this,o=a.getScale(t,e,a.isTimeSeries()),s=n?o.domain(n):o;a.isCategorized()?(r=r||function(){return 0},o=function(t,e){var n=s(t)+r(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(i in s)o[i]=s[i];return o.orgDomain=function(){return s.domain()},a.isCategorized()&&(o.domain=function(t){return arguments.length?(s.domain(t),o):(t=this.orgDomain(),[t[0],t[1]+1])}),o},d.getY=function(t,e,n){var r=this.getScale(t,e,this.isTimeSeriesY());return n&&r.domain(n),r},d.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},d.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},d.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},d.getYDomainMin=function(t){var e,n,r,i,a,o,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(o=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],o&&c[r]&&c[r].forEach(function(t,e){c[r][e]=0>t?t:0}),n=1;n<i.length;n++)a=i[n],c[a]&&c[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(r)||!c[r]||o&&+t>0||(c[r][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},d.getYDomainMax=function(t){var e,n,r,i,a,o,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(o=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],o&&c[r]&&c[r].forEach(function(t,e){c[r][e]=t>0?t:0}),n=1;n<i.length;n++)a=i[n],c[a]&&c[a].forEach(function(t,e){s.axis.getId(a)!==s.axis.getId(r)||!c[r]||o&&0>+t||(c[r][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},d.getYDomain=function(t,e,n){var r,i,a,o,s,l,u,c,d,f,h,p=this,v=p.config,m=t.filter(function(t){return p.axis.getId(t.id)===e}),y=n?p.filterByXDomain(m,n):m,x="y2"===e?v.axis_y2_min:v.axis_y_min,b="y2"===e?v.axis_y2_max:v.axis_y_max,$=p.getYDomainMin(y),_=p.getYDomainMax(y),k="y2"===e?v.axis_y2_center:v.axis_y_center,T=p.hasType("bar",y)&&v.bar_zerobased||p.hasType("area",y)&&v.area_zerobased,S="y2"===e?v.axis_y2_inverted:v.axis_y_inverted,C=p.hasDataLabel()&&v.axis_rotated,M=p.hasDataLabel()&&!v.axis_rotated;return $=g(x)?x:g(b)?b>$?$:b-10:$,_=g(b)?b:g(x)?_>x?_:x+10:_,0===y.length?"y2"===e?p.y2.domain():p.y.domain():(isNaN($)&&($=0),isNaN(_)&&(_=$),$===_&&(0>$?_=0:$=0),f=$>=0&&_>=0,h=0>=$&&0>=_,(g(x)&&f||g(b)&&h)&&(T=!1),T&&(f&&($=0),h&&(_=0)),i=Math.abs(_-$),a=o=s=.1*i,"undefined"!=typeof k&&(l=Math.max(Math.abs($),Math.abs(_)),_=k+l,$=k-l),C?(u=p.getDataLabelLength($,_,"width"),c=w(p.y.range()),d=[u[0]/c,u[1]/c],o+=i*(d[1]/(1-d[0]-d[1])),s+=i*(d[0]/(1-d[0]-d[1]))):M&&(u=p.getDataLabelLength($,_,"height"),o+=p.axis.convertPixelsToAxisPadding(u[1],i),s+=p.axis.convertPixelsToAxisPadding(u[0],i)),"y"===e&&A(v.axis_y_padding)&&(o=p.axis.getPadding(v.axis_y_padding,"top",o,i),s=p.axis.getPadding(v.axis_y_padding,"bottom",s,i)),"y2"===e&&A(v.axis_y2_padding)&&(o=p.axis.getPadding(v.axis_y2_padding,"top",o,i),s=p.axis.getPadding(v.axis_y2_padding,"bottom",s,i)),T&&(f&&(s=$),h&&(o=-_)),r=[$-s,_+o],S?r.reverse():r)},d.getXDomainMin=function(t){var e=this,n=e.config;return x(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},d.getXDomainMax=function(t){var e=this,n=e.config;return x(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},d.getXDomainPadding=function(t){var e,n,r,i,a=this,o=a.config,s=t[1]-t[0];return a.isCategorized()?n=0:a.hasType("bar")?(e=a.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof o.axis_x_padding&&A(o.axis_x_padding)?(r=g(o.axis_x_padding.left)?o.axis_x_padding.left:n,i=g(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=i="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:i}},d.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],a=e.getXDomainPadding(n),o=0,s=0;return r-i!==0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(o=e.isTimeSeries()?new Date(r.getTime()-a.left):r-a.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+a.right):i+a.right),[o,s]},d.updateXDomain=function(t,e,n,r,i){var a=this,o=a.config;return n&&(a.x.domain(i?i:a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),e&&(a.x.domain(i?i:!a.brush||a.brush.empty()?a.orgXDomain:a.brush.extent()),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent()),r&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},d.trimXDomain=function(t){var e=this;return t[0]<=e.orgXDomain[0]&&(t[1]=+t[1]+(e.orgXDomain[0]-t[0]),t[0]=e.orgXDomain[0]),e.orgXDomain[1]<=t[1]&&(t[0]=+t[0]-(t[1]-e.orgXDomain[1]),t[1]=e.orgXDomain[1]),t},d.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||A(n.data_xs)&&T(n.data_xs,t)},d.isNotX=function(t){return!this.isX(t)},d.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:A(n.data_xs)?n.data_xs[t]:null},d.getXValuesOfXKey=function(t,e){var n,r=this,i=e&&A(e)?r.mapToIds(e):[];return i.forEach(function(e){r.getXKey(e)===t&&(n=r.data.xs[e])}),n},d.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},d.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&g(n.data.xs[t][e])?n.data.xs[t][e]:e},d.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},d.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},d.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},d.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},d.isMultipleX=function(){return A(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},d.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=e?e:t.id),t},d.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},d.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(r,i){r.x=n.generateTargetX(e[i],t.id,i)}),n.data.xs[t.id]=e})},d.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},d.generateTargetX=function(t,e,n){var r,i=this;return r=i.isTimeSeries()?i.parseDate(t?t:i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?g(t)?+t:i.getXValue(e,n):n},d.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},d.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},d.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},d.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},d.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},d.getMaxDataCountTarget=function(t){var e,n=t.length,r=0;return n>1?t.forEach(function(t){t.values.length>r&&(e=t,r=t.values.length)}):e=n?t[0]:null,e},d.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},d.mapToIds=function(t){return t.map(function(t){return t.id})},d.mapToTargetIds=function(t){var e=this;return t?m(t)?[t]:t:e.mapToIds(e.data.targets)},d.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},d.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},d.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},d.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},d.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n.map(e.isTimeSeries()?function(t){return new Date(+t)}:function(t){return+t})},d.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},d.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},d.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},d.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},d.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},d.checkValueInTargets=function(t,e){var n,r,i,a=Object.keys(t);for(n=0;n<a.length;n++)for(i=t[a[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},d.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},d.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},d.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},d.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},d.orderTargets=function(t){var e=this,n=e.config,r=e.isOrderAsc(),i=e.isOrderDesc();return r||i?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),a=e.values.reduce(n,0);return r?a-i:i-a}):v(n.data_order)&&t.sort(n.data_order),t},d.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},d.filterRemoveNull=function(t){return t.filter(function(t){return g(t.value)})},d.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},d.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&A(t.data_labels)?!0:!1},d.getDataLabelLength=function(t,e,n){var r=this,i=[0,0],a=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return r.dataLabelFormat(t.id)(t)}).each(function(t,e){i[e]=this.getBoundingClientRect()[n]*a}).remove(),i},d.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},d.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},d.findSameXOfValues=function(t,e){var n,r=t[e].x,i=[];for(n=e-1;n>=0&&r===t[n].x;n--)i.push(t[n]);for(n=e;n<t.length&&r===t[n].x;n++)i.push(t[n]);return i},d.findClosestFromTargets=function(t,e){var n,r=this;return n=t.map(function(t){return r.findClosest(t.values,e)}),r.findClosest(n,e)},d.findClosest=function(t,e){var n,r=this,i=100;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+p.bars+r.getTargetSelectorSuffix(t.id)+" ."+p.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var a=r.dist(t,e);i>a&&(i=a,n=t)}),n},d.dist=function(t,e){var n=this,r=n.config,i=r.axis_rotated?1:0,a=r.axis_rotated?0:1,o=n.circleY(t,t.index),s=n.x(t.x);return Math.pow(s-e[i],2)+Math.pow(o-e[a],2)},d.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},d.updateDataAttributes=function(t,e){var n=this,r=n.config,i=r["data_"+t];return"undefined"==typeof e?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),n.redraw({withLegend:!0}),i)},d.convertUrlToData=function(t,e,n,r){var i=this,a=e?e:"csv";i.d3.xhr(t,function(t,e){var o;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");o="json"===a?i.convertJsonToData(JSON.parse(e.response),n):"tsv"===a?i.convertTsvToData(e.response):i.convertCsvToData(e.response),r.call(i,o)})},d.convertXsvToData=function(t,e){var n,r=e.parseRows(t);return 1===r.length?(n=[{}],r[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},d.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},d.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},d.convertJsonToData=function(t,e){var n,r,i=this,a=[];return e?(e.x?(n=e.value.concat(e.x),i.config.data_x=e.x):n=e.value,a.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var r=y(t[n])?null:t[n];e.push(r)}),a.push(e)}),r=i.convertRowsToData(a)):(Object.keys(t).forEach(function(e){a.push([e].concat(t[e]))}),r=i.convertColumnsToData(a)),r},d.convertRowsToData=function(t){var e,n,r=t[0],i={},a=[];for(e=1;e<t.length;e++){for(i={},n=0;n<t[e].length;n++){if(y(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[r[n]]=t[e][n]}a.push(i)}return a},d.convertColumnsToData=function(t){var e,n,r,i=[];for(e=0;e<t.length;e++)for(r=t[e][0],n=1;n<t[e].length;n++){if(y(i[n-1])&&(i[n-1]={}),y(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[n-1][r]=t[e][n]}return i},d.convertDataToTargets=function(t,e){var n,r=this,i=r.config,a=r.d3.keys(t[0]).filter(r.isNotX,r),o=r.d3.keys(t[0]).filter(r.isX,r);return a.forEach(function(n){var a=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?o.indexOf(a)>=0?r.data.xs[n]=(e&&r.data.xs[n]?r.data.xs[n]:[]).concat(t.map(function(t){return t[a]}).filter(g).map(function(t,e){return r.generateTargetX(t,n,e)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():A(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(a,r.data.targets)):r.data.xs[n]=t.map(function(t,e){return e})}),a.forEach(function(t){if(!r.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=a.map(function(e,n){var a=i.data_idConverter(e);return{id:a,id_org:e,values:t.map(function(t,o){var s=r.getXKey(e),l=t[s],u=r.generateTargetX(l,e,o);return r.isCustomX()&&r.isCategorized()&&0===n&&l&&(0===o&&(i.axis_x_categories=[]),i.axis_x_categories.push(l)),(y(t[e])||r.data.xs[e].length<=o)&&(u=void 0),{x:u,value:null===t[e]||isNaN(t[e])?null:+t[e],id:a}}).filter(function(t){return x(t.x)})}}),n.forEach(function(t){var e;i.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,r=e.x||0===e.x?e.x:1/0;return n-r})),e=0,t.values.forEach(function(t){t.index=e++}),r.data.xs[t.id].sort(function(t,e){return t-e})}),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(t){return!(t in i.data_types)}),i.data_type),n.forEach(function(t){r.addCache(t.id_org,t)}),n},d.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},d.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},d.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+p.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},d.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},d.initEventRect=function(){var t=this;t.main.select("."+p.chart).append("g").attr("class",p.eventRects).style("fill-opacity",0)},d.redrawEventRect=function(){var t,e,n=this,r=n.config,i=n.isMultipleX(),a=n.main.select("."+p.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(p.eventRectsMultiple,i).classed(p.eventRectsSingle,!i);a.selectAll("."+p.eventRect).remove(),n.eventRect=a.selectAll("."+p.eventRect),i?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),a.datum(e?e.values:[]),n.eventRect=a.selectAll("."+p.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},d.updateEventRect=function(t){var e,n,r,i,a,o,s=this,l=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(a=s.getEventRectWidth(),o=function(t){return s.x(t.x)-a/2}):(s.updateXs(),a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?l.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),r=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(r)+s.x(e))/2)}),e=l.axis_rotated?0:o,n=l.axis_rotated?o:0,r=l.axis_rotated?s.width:a,i=l.axis_rotated?a:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",r).attr("height",i)},d.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+p.shape+"-"+n).each(function(t){r.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+p.shape+"-"+n).each(function(t){r.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var i,a=t.index,o=e.svg.select("."+p.eventRect+"-"+a);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,a))&&(a-=1),i=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,a))}),r.tooltip_grouped&&(e.showTooltip(i,this),e.showXGridFocus(i)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+p.shape+"-"+a).each(function(){n.select(this).classed(p.EXPANDED,!0),r.data_selection_enabled&&o.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(a),e.unexpandBars(a)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&o.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(a,t.id,!0),e.expandBars(a,t.id,!0))}))}).on("click",function(t){var i=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,i))&&(i-=1),e.main.selectAll("."+p.shape+"-"+i).each(function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,i),e.config.data_onclick.call(e.api,t,this))})}}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},d.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+p.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",p.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,a,o,s,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(t=r.mouse(this),a=n.findClosestFromTargets(l,t),!n.mouseover||a&&a.id===n.mouseover.id||(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!a)return void e();o=n.isScatterType(a)||!i.tooltip_grouped?[a]:n.filterByX(l,a.x),s=o.map(function(t){return n.addName(t)
}),n.showTooltip(s,this),i.point_focus_expand_enabled&&n.expandCircles(a.index,a.id,!0),n.expandBars(a.index,a.id,!0),n.showXGridFocus(s),(n.isBarType(a.id)||n.dist(a,t)<100)&&(n.svg.select("."+p.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,a),n.mouseover=a))}}).on("click",function(){var t,e,a=n.filterTargetsToShow(n.data.targets);n.hasArcType(a)||(t=r.mouse(this),e=n.findClosestFromTargets(a,t),e&&(n.isBarType(e.id)||n.dist(e,t)<100)&&n.main.selectAll("."+p.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+p.shape+"-"+e.index).each(function(){(i.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},d.dispatchEvent=function(t,e,n){var i=this,a="."+p.eventRect+(i.isMultipleX()?"":"-"+e),o=i.main.select(a).node(),s=o.getBoundingClientRect(),l=s.left+(n?n[0]:0),u=s.top+(n?n[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(t,!0,!0,r,0,l,u,l,u,!1,!1,!1,!1,0,null),o.dispatchEvent(c)},d.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},d.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},d.getCurrentPaddingTop=function(){var t=this.config;return g(t.padding_top)?t.padding_top:0},d.getCurrentPaddingBottom=function(){var t=this.config;return g(t.padding_bottom)?t.padding_bottom:0},d.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return g(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(b(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:b(e.getAxisWidthByAxisId("y",t))},d.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,r=t.isLegendRight?t.getLegendWidth()+20:0;return g(e.padding_right)?e.padding_right+1:e.axis_rotated?n+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):b(t.getAxisWidthByAxisId("y2"))+r},d.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},d.getParentWidth=function(){return this.getParentRectValue("width")},d.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},d.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?p.axisX:p.axisY,a=e.main.select("."+i).node(),o=a&&r?a.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=o.right-s.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},d.getAxisWidthByAxisId=function(t,e){var n=this,r=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(r.isInner?20:40)},d.getHorizontalAxisHeight=function(t){var e=this,n=e.config,r=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},d.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},d.getShapeIndices=function(t){var e,n,r=this,i=r.config,a={},o=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in a){a[t.id]=a[i.data_groups[e][n]];break}y(a[t.id])&&(a[t.id]=o++)}),a.__max__=o-1,a},d.getShapeX=function(t,e,n,r){var i=this,a=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?a(r.x)-t*(e/2-i):0}},d.getShapeY=function(t){var e=this;return function(n){var r=t?e.getSubYScale(n.id):e.getYScale(n.id);return r(n.value)}},d.getShapeOffset=function(t,e,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),a=i.map(function(t){return t.id});return function(t,o){var s=n?r.getSubYScale(t.id):r.getYScale(t.id),l=s(0),u=l;return i.forEach(function(n){var i=r.isStepType(t)?r.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&a.indexOf(n.id)<a.indexOf(t.id)&&i[o].value*t.value>=0&&(u+=s(i[o].value)-l)}),u}},d.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=i.classed(p.bar)?r.isWithinBar(t):!0):n=!1,n},d.getInterpolate=function(t){var e=this;return e.isSplineType(t)?"cardinal":e.isStepType(t)?e.config.line_step_type:"linear"},d.initLine=function(){var t=this;t.main.select("."+p.chart).append("g").attr("class",p.chartLines)},d.updateTargetsForLine=function(t){var e,n,r=this,i=r.config,a=r.classChartLine.bind(r),o=r.classLines.bind(r),s=r.classAreas.bind(r),l=r.classCircles.bind(r),u=r.classFocus.bind(r);e=r.main.select("."+p.chartLines).selectAll("."+p.chartLine).data(t).attr("class",function(t){return a(t)+u(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return r.generateClass(p.selectedCircles,t.id)}),n.append("g").attr("class",l).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){r.main.selectAll("."+p.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+p.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},d.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+p.lines).selectAll("."+p.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},d.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},d.generateDrawLine=function(t,e){var n=this,r=n.config,i=n.d3.svg.line(),a=n.generateGetLinePoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(l).y(s):i.x(s).y(l),r.line_connectNull||(i=i.defined(function(t){return null!=t.value})),function(t){var a,s=r.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.x:n.subX,u=o.call(n,t.id),c=0,d=0;return n.isLineType(t)?r.data_regions[t.id]?a=n.lineWithRegions(s,l,u,r.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),a=i.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=l(s[0].x),d=u(s[0].value)),a=r.axis_rotated?"M "+d+" "+c:"M "+c+" "+d),a?a:"M 0 0"}},d.generateGetLinePoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,a=n.getShapeX(0,i,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=a(t),d=o(t);return r.axis_rotated&&(0<t.value&&i>d||t.value<0&&d>i)&&(d=i),[[c,d-(i-u)],[c,d-(i-u)],[c,d-(i-u)],[c,d-(i-u)]]}},d.lineWithRegions=function(t,e,n,r){function i(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function a(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var o,s,l,u,c,d,f,h,p,g,v,m,b=this,$=b.config,w=-1,_="M",A=b.isCategorized()?.5:0,k=[];if(x(r))for(o=0;o<r.length;o++)k[o]={},k[o].start=y(r[o].start)?t[0].x:b.isTimeSeries()?b.parseDate(r[o].start):r[o].start,k[o].end=y(r[o].end)?t[t.length-1].x:b.isTimeSeries()?b.parseDate(r[o].end):r[o].end;for(v=$.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},m=$.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},l=b.isTimeSeries()?function(t,r,i,o){var s,l=t.x.getTime(),u=r.x-t.x,d=new Date(l+u*i),f=new Date(l+u*(i+o));return s=$.axis_rotated?[[n(c(i)),e(d)],[n(c(i+o)),e(f)]]:[[e(d),n(c(i))],[e(f),n(c(i+o))]],a(s)}:function(t,r,i,o){var s;return s=$.axis_rotated?[[n(c(i),!0),e(u(i))],[n(c(i+o),!0),e(u(i+o))]]:[[e(u(i),!0),n(c(i))],[e(u(i+o),!0),n(c(i+o))]],a(s)},o=0;o<t.length;o++){if(y(k)||!i(t[o].x,k))_+=" "+v(t[o])+" "+m(t[o]);else for(u=b.getScale(t[o-1].x+A,t[o].x+A,b.isTimeSeries()),c=b.getScale(t[o-1].value,t[o].value),d=e(t[o].x)-e(t[o-1].x),f=n(t[o].value)-n(t[o-1].value),h=Math.sqrt(Math.pow(d,2)+Math.pow(f,2)),p=2/h,g=2*p,s=p;1>=s;s+=g)_+=l(t[o-1],t[o],s,p);w=t[o].x}return _},d.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+p.areas).selectAll("."+p.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},d.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},d.generateDrawArea=function(t,e){var n=this,r=n.config,i=n.d3.svg.area(),a=n.generateGetAreaPoints(t,e),o=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return r.data_groups.length>0?a(t,e)[1][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(l).x1(u).y(s):i.x(s).y0(l).y1(u),r.line_connectNull||(i=i.defined(function(t){return null!==t.value})),function(t){var e,a=r.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(a=n.convertValuesToStep(a)),e=i.interpolate(n.getInterpolate(t))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(t.id)(a[0].value)),e=r.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),e?e:"M 0 0"}},d.getAreaBaseValue=function(){return 0},d.generateGetAreaPoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,a=n.getShapeX(0,i,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=a(t),d=o(t);return r.axis_rotated&&(0<t.value&&i>d||t.value<0&&d>i)&&(d=i),[[c,u],[c,d-(i-u)],[c,d-(i-u)],[c,u]]}},d.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+p.circles).selectAll("."+p.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},d.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+p.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition():r).attr("cx",t).attr("cy",e)]},d.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},d.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},d.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+p.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+p.circle+(g(t)?"-"+t:""))},d.expandCircles=function(t,e,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(t,e).classed(p.EXPANDED,!0).attr("r",i)},d.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(p.EXPANDED)}).classed(p.EXPANDED,!1).attr("r",n)},d.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:v(n.point_r)?n.point_r(t):n.point_r},d.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},d.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},d.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),a=+i.attr("cx"),o=+i.attr("cy");return Math.sqrt(Math.pow(a-r[0],2)+Math.pow(o-r[1],2))<e},d.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},d.initBar=function(){var t=this;t.main.select("."+p.chart).append("g").attr("class",p.chartBars)},d.updateTargetsForBar=function(t){var e,n,r=this,i=r.config,a=r.classChartBar.bind(r),o=r.classBars.bind(r),s=r.classFocus.bind(r);e=r.main.select("."+p.chartBars).selectAll("."+p.chartBar).data(t).attr("class",function(t){return a(t)+s(t)}),n=e.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},d.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),a=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+p.bars).selectAll("."+p.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",a).style("fill",a),e.mainBar.style("opacity",i),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},d.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},d.getBarW=function(t,e){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:e?t.tickInterval()*r.bar_width_ratio/e:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},d.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+p.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+p.bar+(g(t)?"-"+t:""))},d.expandBars=function(t,e,n){var r=this;n&&r.unexpandBars(),r.getBars(t,e).classed(p.EXPANDED,!0)},d.unexpandBars=function(t){var e=this;e.getBars(t).classed(p.EXPANDED,!1)},d.generateDrawBar=function(t,e){var n=this,r=n.config,i=n.generateGetBarPoints(t,e);return function(t,e){var n=i(t,e),a=r.axis_rotated?1:0,o=r.axis_rotated?0:1,s="M "+n[0][a]+","+n[0][o]+" L"+n[1][a]+","+n[1][o]+" L"+n[2][a]+","+n[2][o]+" L"+n[3][a]+","+n[3][o]+" z";return s}},d.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,i=t.__max__+1,a=n.getBarW(r,i),o=n.getShapeX(a,i,t,!!e),s=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),i=l(t,e)||r,c=o(t),d=s(t);return n.config.axis_rotated&&(0<t.value&&r>d||t.value<0&&d>r)&&(d=r),[[c,i],[c,d-(r-i)],[c+a,d-(r-i)],[c+a,i]]}},d.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),r=t.pathSegList.getItem(0),i=t.pathSegList.getItem(1),a=Math.min(r.x,i.x),o=Math.min(r.y,i.y),s=n.width,l=n.height,u=2,c=a-u,d=a+s+u,f=o+l+u,h=o-u;return c<e[0]&&e[0]<d&&h<e[1]&&e[1]<f},d.initText=function(){var t=this;t.main.select("."+p.chart).append("g").attr("class",p.chartTexts),t.mainText=t.d3.selectAll([])},d.updateTargetsForText=function(t){var e,n,r=this,i=r.classChartText.bind(r),a=r.classTexts.bind(r),o=r.classFocus.bind(r);e=r.main.select("."+p.chartTexts).selectAll("."+p.chartText).data(t).attr("class",function(t){return i(t)+o(t)}),n=e.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a)},d.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),i=e.classText.bind(e);e.mainText=e.main.selectAll("."+p.texts).selectAll("."+p.text).data(r),e.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,r){return e.dataLabelFormat(t.id)(t.value,t.id,n,r)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},d.redrawText=function(t,e,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},d.getTextRect=function(t,e){var n,r=this.d3.select("body").append("div").classed("c3",!0),i=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return i.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).text(t).each(function(){n=this.getBoundingClientRect()}),r.remove(),n},d.generateXYForText=function(t,e,n,r){var i=this,a=i.generateGetAreaPoints(t,!1),o=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?a:i.isBarType(t)?o:s;return l.call(i,n(t,e),t,this)}},d.getXForText=function(t,e,n){var r,i,a=this,o=n.getBoundingClientRect();return a.config.axis_rotated?(i=a.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>a.width?r=a.width-o.width:0>r&&(r=4)),r},d.getYForText=function(t,e,n){var r,i=this,a=n.getBoundingClientRect();return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*a.height)/2:(r=t[2][1],e.value<0?(r+=a.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<a.height?r=a.height:r>this.height&&(r=this.height-4)),r},d.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e}),t||(r.data_type=e)},d.hasType=function(t,e){var n=this,r=n.config.data_types,i=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=r[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(e){r[e]===t&&(i=!0)}):i=n.config.data_type===t,i},d.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},d.isLineType=function(t){var e=this.config,n=m(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},d.isStepType=function(t){var e=m(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},d.isSplineType=function(t){var e=m(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},d.isAreaType=function(t){var e=m(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},d.isBarType=function(t){var e=m(t)?t:t.id;return"bar"===this.config.data_types[e]},d.isScatterType=function(t){var e=m(t)?t:t.id;return"scatter"===this.config.data_types[e]},d.isPieType=function(t){var e=m(t)?t:t.id;return"pie"===this.config.data_types[e]},d.isGaugeType=function(t){var e=m(t)?t:t.id;return"gauge"===this.config.data_types[e]},d.isDonutType=function(t){var e=m(t)?t:t.id;return"donut"===this.config.data_types[e]},d.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},d.lineData=function(t){return this.isLineType(t)?[t]:[]},d.arcData=function(t){return this.isArcType(t.data)?[t]:[]},d.barData=function(t){return this.isBarType(t)?t.values:[]},d.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},d.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},d.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",p.grid),e.grid_x_show&&t.grid.append("g").attr("class",p.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",p.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",p.xgridFocus).append("line").attr("class",p.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},d.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",p.grid+" "+p.gridLines),t.gridLines.append("g").attr("class",p.xgridLines),t.gridLines.append("g").attr("class",p.ygridLines),t.xgridLines=e.selectAll([])},d.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),a=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-a},y2:function(t){return e.x(t)-a}}:{x1:function(t){return e.x(t)+a},x2:function(t){return e.x(t)+a},y1:0,y2:e.height},e.xgrid=e.main.select("."+p.xgrids).selectAll("."+p.xgrid).data(i),e.xgrid.enter().append("line").attr("class",p.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},d.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+p.ygrids).selectAll("."+p.ygrid).data(n),t.ygrid.enter().append("line").attr("class",p.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},d.gridTextAnchor=function(t){return t.position?t.position:"end"},d.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},d.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},d.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},d.updateGrid=function(t){var e,n,r,i=this,a=i.main,o=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),a.select("line."+p.xgridFocus).style("visibility","hidden"),o.grid_x_show&&i.updateXGrid(),i.xgridLines=a.select("."+p.xgridLines).selectAll("."+p.xgridLine).data(o.grid_x_lines),e=i.xgridLines.enter().append("g").attr("class",function(t){return p.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),o.grid_y_show&&i.updateYGrid(),i.ygridLines=a.select("."+p.ygridLines).selectAll("."+p.ygridLine).data(o.grid_y_lines),n=i.ygridLines.enter().append("g").attr("class",function(t){return p.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(t).attr("x1",o.axis_rotated?r:0).attr("x2",o.axis_rotated?r:i.width).attr("y1",o.axis_rotated?0:r).attr("y2",o.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(t).attr("x",o.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",r).text(function(t){return t.text}).style("opacity",1),i.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},d.redrawGrid=function(t){var e=this,n=e.config,r=e.xv.bind(e),i=e.xgridLines.select("line"),a=e.xgridLines.select("text");return[(t?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?e.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:e.height).style("opacity",1),(t?a.transition():a).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",r).text(function(t){return t.text}).style("opacity",1)]},d.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&g(t.value)}),i=e.main.selectAll("line."+p.xgridFocus),a=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),e.smoothLines(i,"grid")))},d.hideXGridFocus=function(){this.main.select("line."+p.xgridFocus).style("visibility","hidden")},d.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+p.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},d.generateGridData=function(t,e){var n,r,i,a,o=this,s=[],l=o.main.select("."+p.axisX).selectAll(".tick").size();if("year"===t)for(n=o.getXDomain(),r=n[0].getFullYear(),i=n[1].getFullYear(),a=r;i>=a;a++)s.push(new Date(a+"-01-01 00:00:00"));else s=e.ticks(10),s.length>l&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},d.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},d.removeGridLines=function(t,e){var n=this,r=n.config,i=n.getGridFilterToRemove(t),a=function(t){return!i(t)},o=e?p.xgridLines:p.ygridLines,s=e?p.xgridLine:p.ygridLine;n.main.select("."+o).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(a):r.grid_y_lines=r.grid_y_lines.filter(a)},d.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",p.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&m(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},d.getTooltipContent=function(t,e,n,r){var i,a,o,s,l,u,c=this,d=c.config,f=d.tooltip_format_title||e,h=d.tooltip_format_name||function(t){return t},g=d.tooltip_format_value||n;for(a=0;a<t.length;a++)t[a]&&(t[a].value||0===t[a].value)&&(i||(o=f?f(t[a].x):t[a].x,i="<table class='"+p.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),s=g(t[a].value,t[a].ratio,t[a].id,t[a].index),void 0!==s&&(l=h(t[a].name,t[a].ratio,t[a].id,t[a].index),u=c.levelColor?c.levelColor(t[a].value):r(t[a].id),i+="<tr class='"+p.tooltipName+"-"+t[a].id+"'>",i+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>"));return i+"</table>"},d.tooltipPosition=function(t,e,n,r){var i,a,o,s,l,u=this,c=u.config,d=u.d3,f=u.hasArcType(),h=d.mouse(r);return f?(a=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+h[0],s=u.height/2+h[1]+20):(i=u.getSvgLeft(!0),c.axis_rotated?(a=i+h[0]+100,o=a+e,l=u.currentWidth-u.getCurrentPaddingRight(),s=u.x(t[0].x)+20):(a=i+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20,o=a+e,l=i+u.currentWidth-u.getCurrentPaddingRight(),s=h[1]+15),o>l&&(a-=o-l+20),s+n>u.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:a}},d.showTooltip=function(t,e){var n,r,i,a=this,o=a.config,s=a.hasArcType(),l=t.filter(function(t){return t&&g(t.value)}),u=o.tooltip_position||d.tooltipPosition;0!==l.length&&o.tooltip_show&&(a.tooltip.html(o.tooltip_contents.call(a,t,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style("display","block"),n=a.tooltip.property("offsetWidth"),r=a.tooltip.property("offsetHeight"),i=u.call(this,l,n,r,e),a.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},d.hideTooltip=function(){this.tooltip.style("display","none")},d.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},d.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},d.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},d.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},d.updateLegendStep=function(t){this.legendStep=t},d.updateLegendItemWidth=function(t){this.legendItemWidth=t},d.updateLegendItemHeight=function(t){this.legendItemHeight=t},d.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},d.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},d.opacityForLegend=function(t){return t.classed(p.legendItemHidden)?null:1},d.opacityForUnfocusedLegend=function(t){return t.classed(p.legendItemHidden)?null:.3},d.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+p.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(p.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},d.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+p.legendItem).classed(p.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},d.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},d.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&_(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},d.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},d.updateLegend=function(t,e,n){function r(t,e){return b.legendItemTextBox[e]||(b.legendItemTextBox[e]=b.getTextRect(t.textContent,p.legendItem)),b.legendItemTextBox[e]}function i(e,n,i){function a(t,e){e||(o=(p-M-h)/2,S>o&&(o=(p-h)/2,M=0,R++)),L[t]=R,j[R]=b.isLegendInset?10:o,E[t]=M,M+=h}var o,s,l=0===i,u=i===t.length-1,c=r(e,n),d=c.width+C+(!u||b.isLegendRight||b.isLegendInset?_:0),f=c.height+w,h=b.isLegendRight||b.isLegendInset?f:d,p=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();return l&&(M=0,R=0,A=0,T=0),$.legend_show&&!b.isLegendToShow(n)?void(D[n]=O[n]=L[n]=E[n]=0):(D[n]=d,O[n]=f,(!A||d>=A)&&(A=d),(!T||f>=T)&&(T=f),s=b.isLegendRight||b.isLegendInset?T:A,void($.legend_equally?(Object.keys(D).forEach(function(t){D[t]=A}),Object.keys(O).forEach(function(t){O[t]=T}),o=(p-s*t.length)/2,S>o?(M=0,R=0,t.forEach(function(t){a(t)})):a(n,!0)):a(n)))}var a,o,s,l,u,c,d,f,h,g,v,m,y,b=this,$=b.config,w=4,_=10,A=0,T=0,S=10,C=15,M=0,E={},D={},O={},j=[0],L={},R=0;
e=e||{},f=k(e,"withTransition",!0),h=k(e,"withTransitionForTransform",!0),b.isLegendInset&&(R=$.legend_inset_step?$.legend_inset_step:t.length,b.updateLegendStep(R)),b.isLegendRight?(a=function(t){return A*L[t]},l=function(t){return j[L[t]]+E[t]}):b.isLegendInset?(a=function(t){return A*L[t]+10},l=function(t){return j[L[t]]+E[t]}):(a=function(t){return j[L[t]]+E[t]},l=function(t){return T*L[t]}),o=function(t,e){return a(t,e)+14},u=function(t,e){return l(t,e)+9},s=function(t,e){return a(t,e)},c=function(t,e){return l(t,e)-5},d=b.legend.selectAll("."+p.legendItem).data(t).enter().append("g").attr("class",function(t){return b.generateClass(p.legendItem,t)}).style("visibility",function(t){return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){$.legend_item_onclick?$.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}).on("mouseover",function(t){b.d3.select(this).classed(p.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t),$.legend_item_onmouseover&&$.legend_item_onmouseover.call(b,t)}).on("mouseout",function(t){b.d3.select(this).classed(p.legendItemFocused,!1),b.api.revert(),$.legend_item_onmouseout&&$.legend_item_onmouseout.call(b,t)}),d.append("text").text(function(t){return x($.data_names[t])?$.data_names[t]:t}).each(function(t,e){i(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?o:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:u),d.append("rect").attr("class",p.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?s:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:c),d.append("rect").attr("class",p.legendItemTile).style("pointer-events","none").style("fill",b.color).attr("x",b.isLegendRight||b.isLegendInset?o:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:l).attr("width",10).attr("height",10),y=b.legend.select("."+p.legendBackground+" rect"),b.isLegendInset&&A>0&&0===y.size()&&(y=b.legend.insert("g","."+p.legendItem).attr("class",p.legendBackground).append("rect")),g=b.legend.selectAll("text").data(t).text(function(t){return x($.data_names[t])?$.data_names[t]:t}).each(function(t,e){i(this,t,e)}),(f?g.transition():g).attr("x",o).attr("y",u),v=b.legend.selectAll("rect."+p.legendItemEvent).data(t),(f?v.transition():v).attr("width",function(t){return D[t]}).attr("height",function(t){return O[t]}).attr("x",s).attr("y",c),m=b.legend.selectAll("rect."+p.legendItemTile).data(t),(f?m.transition():m).style("fill",b.color).attr("x",a).attr("y",l),y&&(f?y.transition():y).attr("height",b.getLegendHeight()-12).attr("width",A*(R+1)+10),b.legend.selectAll("."+p.legendItem).classed(p.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(A),b.updateLegendItemHeight(T),b.updateLegendStep(R),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(h,n),b.legendHasRendered=!0},a(i,l),l.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",p.axis+" "+p.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",p.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",p.axis+" "+p.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",p.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",p.axis+" "+p.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",p.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},l.prototype.getXAxis=function(t,e,n,r,i,a,o){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:l.axis_x_tick_multiline,tickWidth:l.axis_x_tick_width,tickTextRotate:o?0:l.axis_x_tick_rotate,withoutTransition:a},d=u(s.d3,c).scale(t).orient(e);return s.isTimeSeries()&&r&&(r=r.map(function(t){return s.parseDate(t)})),d.tickFormat(n).tickValues(r),s.isCategorized()&&(d.tickCentered(l.axis_x_tick_centered),_(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),d},l.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},l.prototype.getYAxis=function(t,e,n,r,i,a){var o={withOuterTick:i,withoutTransition:a},s=this.owner,l=s.d3,c=s.config,d=u(l,o).scale(t).orient(e).tickFormat(n);return s.isTimeSeriesY()?d.ticks(l.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval):d.tickValues(r),d},l.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},l.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(v(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),v(n)?function(e){return n.call(t,e)}:n},l.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},l.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},l.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},l.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},l.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,r=n.config;return"y"===t?e=r.axis_y_label:"y2"===t?e=r.axis_y2_label:"x"===t&&(e=r.axis_x_label),e},l.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return m(e)?e:e?e.text:null},l.prototype.setLabelText=function(t,e){var n=this.owner,r=n.config,i=this.getLabelOptionByAxisId(t);m(i)?"y"===t?r.axis_y_label=e:"y2"===t?r.axis_y2_label=e:"x"===t&&(r.axis_x_label=e):i&&(i.text=e)},l.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},l.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},l.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},l.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},l.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},l.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},l.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},l.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},l.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},l.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},l.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},l.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},l.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},l.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},l.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},l.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},l.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},l.prototype.getMaxTickWidth=function(t,e){var n,r,i,a,o,s=this.owner,l=s.config,u=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(r=s.y.copy().domain(s.getYDomain(n,"y")),i=this.getYAxis(r,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===t?(r=s.y2.copy().domain(s.getYDomain(n,"y2")),i=this.getYAxis(r,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(r=s.x.copy().domain(s.getXDomain(n)),i=this.getXAxis(r,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),a=s.d3.select("body").append("div").classed("c3",!0),o=a.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o.append("g").call(i).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),a.remove()})),s.currentMaxTickWidths[t]=0>=u?s.currentMaxTickWidths[t]:u,s.currentMaxTickWidths[t])},l.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+p.axisX+" ."+p.axisXLabel),r=e.main.select("."+p.axisY+" ."+p.axisYLabel),i=e.main.select("."+p.axisY2+" ."+p.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},l.prototype.getPadding=function(t,e,n,r){return g(t[e])?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(t[e],r):n},l.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,r=n.config.axis_rotated?n.width:n.height;return e*(t/r)},l.prototype.generateTickValues=function(t,e,n){var r,i,a,o,s,l,u,c=t;if(e)if(r=v(e)?e():e,1===r)c=[t[0]];else if(2===r)c=[t[0],t[t.length-1]];else if(r>2){for(o=r-2,i=t[0],a=t[t.length-1],s=(a-i)/(o+1),c=[i],l=0;o>l;l++)u=+i+s*(l+1),c.push(n?new Date(u):u);c.push(a)}return n||(c=c.sort(function(t,e){return t-e})),c},l.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},l.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},d.getClipPath=function(t){var e=r.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(e?"":document.URL.split("#")[0])+"#"+t+")"},d.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},d.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},d.getAxisClipY=function(t){return t?-20:-this.margin.top},d.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},d.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},d.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},d.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},d.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},d.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},d.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},d.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},d.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},d.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},d.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},d.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},d.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},d.updateAngle=function(t){var e,n,r=this,i=r.config,a=!1,o=0,s=i.gauge_min,l=i.gauge_max;return r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(e){a||e.data.id!==t.data.id||(a=!0,t=e,t.index=o),o++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),r.isGaugeType(t.data)&&(e=Math.PI/(l-s),n=t.value<s?0:t.value<l?t.value-s:l-s,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),a?t:null},d.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,r){var i;return r?e(n):(i=t.updateAngle(n),i?e(i):"M 0 0")};return n.centroid=e.centroid,n},d.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var r=e.updateAngle(t);return r?n(r):"M 0 0"}},d.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},d.transformForArcLabel=function(t){var e,n,r,i,a,o=this,s=o.updateAngle(t),l="";return s&&!o.hasType("gauge")&&(e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),a=o.radius&&i?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/i:0,l="translate("+n*a+","+r*a+")"),l},d.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},d.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},d.textForArcLabel=function(t){var e,n,r,i,a,o=this;return o.shouldShowArcLabel()?(e=o.updateAngle(t),n=e?e.value:null,r=o.getArcRatio(e),i=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(r)?(a=o.getArcLabelFormat(),a?a(n,r,i):o.defaultArcValueFormat(n,r)):""):""},d.expandArc=function(t){var e,n=this;return n.transiting?void(e=r.setInterval(function(){n.transiting||(r.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))},10)):(t=n.mapToTargetIds(t),void n.svg.selectAll(n.selectorTargets(t,"."+p.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(50).attr("d",n.svgArcExpanded).transition().duration(100).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},d.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+p.chartArc)).selectAll("path").transition().duration(50).attr("d",e.svgArc),e.svg.selectAll("."+p.arc).style("opacity",1))},d.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},d.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},d.meetsArcLabelThreshold=function(t){var e=this,n=e.config,r=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=r},d.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},d.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},d.updateTargetsForArc=function(t){var e,n,r=this,i=r.main,a=r.classChartArc.bind(r),o=r.classArcs.bind(r),s=r.classFocus.bind(r);e=i.select("."+p.chartArcs).selectAll("."+p.chartArc).data(r.pie(t)).attr("class",function(t){return a(t)+s(t.data)}),n=e.enter().append("g").attr("class",a),n.append("g").attr("class",o),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},d.initArc=function(){var t=this;t.arcs=t.main.select("."+p.chart).append("g").attr("class",p.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",p.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},d.redrawArc=function(t,e,n){var r,i=this,a=i.d3,o=i.config,s=i.main;r=s.selectAll("."+p.arcs).selectAll("."+p.arc).data(i.arcData.bind(i)),r.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(t){return i.color(t.data)}).style("cursor",function(t){return o.interaction_enabled&&o.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){i.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),r.attr("transform",function(t){return!i.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",o.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),n=i.convertToArcData(e),i.expandArc(e.data.id),i.api.focus(e.data.id),i.toggleFocusLegend(e.data.id,!0),i.config.data_onmouseover(n,this))}:null).on("mousemove",o.interaction_enabled?function(t){var e=i.updateAngle(t),n=i.convertToArcData(e),r=[n];i.showTooltip(r,this)}:null).on("mouseout",o.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),n=i.convertToArcData(e),i.unexpandArc(e.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this))}:null).on("click",o.interaction_enabled?function(t,e){var n=i.updateAngle(t),r=i.convertToArcData(n);i.toggleShape&&i.toggleShape(this,r,e),i.config.data_onclick.call(i.api,r,this)}:null).each(function(){i.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=i.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=a.interpolate(this._current,n),this._current=e(0),function(n){var r=e(n);return r.data=t.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return i.levelColor?i.levelColor(t.data.values[0].value):i.color(t.data.id)}).style("opacity",1).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+p.chartArc).select("text").style("opacity",0).attr("class",function(t){return i.isGaugeType(t.data)?p.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(t){return i.isGaugeType(t.data)?Math.round(i.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return i.isTargetToShow(t.data.id)&&i.isArcType(t.data)?1:0}),s.select("."+p.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+p.chartArcsBackground).attr("d",function(){var t={data:[{value:o.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return i.getArc(t,!0,!0)}),i.arcs.select("."+p.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),i.arcs.select("."+p.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),i.arcs.select("."+p.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/2+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},d.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",p.chartArcsBackground),t.append("text").attr("class",p.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",p.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",p.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},d.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},d.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",p.regions)},d.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+p.regions).selectAll("."+p.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},d.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),r=e.regionX.bind(e),i=e.regionY.bind(e),a=e.regionWidth.bind(e),o=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",r).attr("y",i).attr("width",a).attr("height",o).style("fill-opacity",function(t){return g(t.opacity)?t.opacity:.1})]},d.regionX=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"start"in t?i(t.start):0:r.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},d.regionY=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?0:"end"in t?i(t.end):0:r.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},d.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?a(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,i>e?0:e-i},d.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),a="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?a(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,i>e?0:e-i},d.isRegionOnX=function(t){return!t.axis||"x"===t.axis},d.drag=function(t){var e,n,r,i,a,o,s,l,u=this,c=u.config,d=u.main,f=u.d3;u.hasArcType()||c.data_selection_enabled&&(!c.zoom_enabled||u.zoom.altDomain)&&c.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],i=t[1],a=Math.min(e,r),o=Math.max(e,r),s=c.data_selection_grouped?u.margin.top:Math.min(n,i),l=c.data_selection_grouped?u.height:Math.max(n,i),d.select("."+p.dragarea).attr("x",a).attr("y",s).attr("width",o-a).attr("height",l-s),d.selectAll("."+p.shapes).selectAll("."+p.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,r,i,c,d,h,g=f.select(this),v=g.classed(p.SELECTED),m=g.classed(p.INCLUDED),y=!1;if(g.classed(p.circle))n=1*g.attr("cx"),r=1*g.attr("cy"),d=u.togglePoint,y=n>a&&o>n&&r>s&&l>r;else{if(!g.classed(p.bar))return;h=S(this),n=h.x,r=h.y,i=h.width,c=h.height,d=u.togglePath,y=!(n>o||a>n+i||r>l||s>r+c)}y^m&&(g.classed(p.INCLUDED,!m),g.classed(p.SELECTED,!v),d.call(u,!v,g,t,e))}))},d.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+p.chart).append("rect").attr("class",p.dragarea).style("opacity",.1),e.dragging=!0)},d.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+p.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+p.shape).classed(p.INCLUDED,!1),t.dragging=!1)},d.selectPoint=function(t,e,n){var r=this,i=r.config,a=(i.axis_rotated?r.circleY:r.circleX).bind(r),o=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+p.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+p.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(p.selectedCircle,n)}).attr("cx",a).attr("cy",o).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",s)},d.unselectPoint=function(t,e,n){var r=this;r.config.data_onunselected(e,t.node()),r.main.select("."+p.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+p.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},d.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},d.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},d.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},d.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},d.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},d.toggleShape=function(t,e,n){var r=this,i=r.d3,a=r.config,o=i.select(t),s=o.classed(p.SELECTED),l=r.getToggle(t,e).bind(r);a.data_selection_enabled&&a.data_selection_isselectable(e)&&(a.data_selection_multiple||r.main.selectAll("."+p.shapes+(a.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+p.shape).each(function(t,e){var n=i.select(this);n.classed(p.SELECTED)&&l(!1,n.classed(p.SELECTED,!1),t,e)}),o.classed(p.SELECTED,!s),l(!s,o,e,n))},d.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+p.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},d.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility",e.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",p.chart),n.select("."+p.chart).append("g").attr("class",p.chartBars),n.select("."+p.chart).append("g").attr("class",p.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",p.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",p.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},d.updateTargetsForSubchart=function(t){var e,n,r,i,a=this,o=a.context,s=a.config,l=a.classChartBar.bind(a),u=a.classBars.bind(a),c=a.classChartLine.bind(a),d=a.classLines.bind(a),f=a.classAreas.bind(a);s.subchart_show&&(i=o.select("."+p.chartBars).selectAll("."+p.chartBar).data(t).attr("class",l),r=i.enter().append("g").style("opacity",0).attr("class",l),r.append("g").attr("class",u),n=o.select("."+p.chartLines).selectAll("."+p.chartLine).data(t).attr("class",c),e=n.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",f),o.selectAll("."+p.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?a.width2:a.height2))},d.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+p.bars).selectAll("."+p.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},d.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},d.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+p.lines).selectAll("."+p.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},d.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},d.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+p.areas).selectAll("."+p.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},d.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},d.redrawSubchart=function(t,e,n,r,i,a,o){var s,l,u,c=this,d=c.d3,f=c.config;c.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(d.event&&"zoom"===d.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(i,!0),l=c.generateDrawBar(a,!0),u=c.generateDrawLine(o,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(l,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(s,n,n)))},d.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},d.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+p.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},d.getDefaultExtent=function(){var t=this,e=t.config,n=v(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;
return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},d.initZoom=function(){var t,e=this,n=e.d3,r=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,r.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&t.clientX===i.clientX&&t.clientY===i.clientY||(e.redrawEventRect(),e.updateZoom(),r.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=w(e.x.orgDomain())/w(e.orgXDomain),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},d.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+p.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+p.eventRect).call(e).on("dblclick.zoom",null)},d.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,i.orgDomain())}},d.generateColor=function(){var t=this,e=t.config,n=t.d3,r=e.data_colors,i=A(e.color_pattern)?e.color_pattern:n.scale.category10().range(),a=e.data_color,o=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return r[n]instanceof Function?e=r[n](t):r[n]?e=r[n]:(o.indexOf(n)<0&&o.push(n),e=i[o.indexOf(n)%i.length],r[n]=e),a instanceof Function?a(e,t):e}},d.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,r=e.color_threshold,i="value"===r.unit,a=r.values&&r.values.length?r.values:[],o=r.max||100;return A(e.color_threshold)?function(t){var e,r,s=n[n.length-1];for(e=0;e<a.length;e++)if(r=i?t:100*t/o,r<a[e]){s=n[e];break}return s}:null},d.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,i,a){var o="y2"===e.axis.getId(a)?r:n;return o.call(e,t,i)}},d.yFormat=function(t){var e=this,n=e.config,r=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return r(t)},d.y2Format=function(t){var e=this,n=e.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return r(t)},d.defaultValueFormat=function(t){return g(t)?+t:""},d.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},d.dataLabelFormat=function(t){var e,n=this,r=n.config.data_labels,i=function(t){return g(t)?+t:""};return e="function"==typeof r.format?r.format:"object"==typeof r.format?r.format[t]?r.format[t]===!0?i:r.format[t]:function(){return""}:i},d.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},d.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},d.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var p=d.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};d.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},d.classText=function(t){return this.generateClass(p.text,t.index)},d.classTexts=function(t){return this.generateClass(p.texts,t.id)},d.classShape=function(t){return this.generateClass(p.shape,t.index)},d.classShapes=function(t){return this.generateClass(p.shapes,t.id)},d.classLine=function(t){return this.classShape(t)+this.generateClass(p.line,t.id)},d.classLines=function(t){return this.classShapes(t)+this.generateClass(p.lines,t.id)},d.classCircle=function(t){return this.classShape(t)+this.generateClass(p.circle,t.index)},d.classCircles=function(t){return this.classShapes(t)+this.generateClass(p.circles,t.id)},d.classBar=function(t){return this.classShape(t)+this.generateClass(p.bar,t.index)},d.classBars=function(t){return this.classShapes(t)+this.generateClass(p.bars,t.id)},d.classArc=function(t){return this.classShape(t.data)+this.generateClass(p.arc,t.data.id)},d.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(p.arcs,t.data.id)},d.classArea=function(t){return this.classShape(t)+this.generateClass(p.area,t.id)},d.classAreas=function(t){return this.classShapes(t)+this.generateClass(p.areas,t.id)},d.classRegion=function(t,e){return this.generateClass(p.region,e)+" "+("class"in t?t["class"]:"")},d.classEvent=function(t){return this.generateClass(p.eventRect,t.index)},d.classTarget=function(t){var e=this,n=e.config.data_classes[t],r="";return n&&(r=" "+p.target+"-"+n),e.generateClass(p.target,t)+r},d.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},d.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?p.focused:"")},d.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?p.defocused:"")},d.classChartText=function(t){return p.chartText+this.classTarget(t.id)},d.classChartLine=function(t){return p.chartLine+this.classTarget(t.id)},d.classChartBar=function(t){return p.chartBar+this.classTarget(t.id)},d.classChartArc=function(t){return p.chartArc+this.classTarget(t.data.id)},d.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},d.selectorTarget=function(t,e){return(e||"")+"."+p.target+this.getTargetSelectorSuffix(t)},d.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},d.selectorLegend=function(t){return"."+p.legendItem+this.getTargetSelectorSuffix(t)},d.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var g=d.isValue=function(t){return t||0===t},v=d.isFunction=function(t){return"function"==typeof t},m=d.isString=function(t){return"string"==typeof t},y=d.isUndefined=function(t){return"undefined"==typeof t},x=d.isDefined=function(t){return"undefined"!=typeof t},b=d.ceil10=function(t){return 10*Math.ceil(t/10)},$=d.asHalfPixel=function(t){return Math.ceil(t)+.5},w=d.diffDomain=function(t){return t[1]-t[0]},_=d.isEmpty=function(t){return!t||m(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},A=d.notEmpty=function(t){return Object.keys(t).length>0},k=d.getOption=function(t,e,n){return x(t[e])?t[e]:n},T=d.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(r){t[r]===e&&(n=!0)}),n},S=d.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:e.width,height:e.height}};c.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(p.focused,!0).classed(p.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},c.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(p.focused,!1).classed(p.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},c.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(p.focused,!1).classed(p.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(p.legendItemFocused)}).classed(p.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},c.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},c.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach(function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},c.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},c.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},c.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},c.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},c.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},c.flow=function(t){var e,n,r,i,a,o,s,l,u=this.internal,c=[],d=u.getMaxDataCount(),f=0,h=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,r,i=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(i=!0,t.values[t.values.length-1]&&(h=t.values[t.values.length-1].index+1),f=e[n].values.length,r=0;f>r;r++)e[n].values[r].index=h+r,u.isTimeSeries()||(e[n].values[r].x=h+r);t.values=t.values.concat(e[n].values),e.splice(n,1);break}i||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(h=t.values[t.values.length-1].index+1,n=0;f>n;n++)t.values.push({id:t.id,index:h+n,x:u.isTimeSeries()?u.getOtherTargetX(h+n):h+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;h>e;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=h,u.isTimeSeries()||(t.x+=h)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),r=u.getMaxDataCount(),a=u.data.targets[0],o=a.values[0],x(t.to)?(f=0,l=u.isTimeSeries()?u.parseDate(t.to):t.to,a.values.forEach(function(t){t.x<l&&f++})):x(t.length)&&(f=t.length),d?1===d&&u.isTimeSeries()&&(s=(a.values[a.values.length-1].x-o.x)/2,i=[new Date(+o.x-s),new Date(+o.x+s)],u.updateXDomain(null,!0,!0,!1,i)):(s=u.isTimeSeries()?a.values.length>1?a.values[a.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,i=[o.x-s,o.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:f,duration:g(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},d.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var i,a,o,s=t.targets,l=t.flow,u=t.drawBar,c=t.drawLine,d=t.drawArea,f=t.cx,h=t.cy,g=t.xv,v=t.xForText,m=t.yForText,y=t.duration,x=1,b=l.index,$=l.length,_=e.getValueOnIndex(e.data.targets[0].values,b),A=e.getValueOnIndex(e.data.targets[0].values,b+$),k=e.x.domain(),T=l.duration||y,S=l.done||function(){},C=e.generateWait(),M=e.xgrid||r.selectAll([]),E=e.xgridLines||r.selectAll([]),D=e.mainRegion||r.selectAll([]),O=e.mainText||r.selectAll([]),j=e.mainBar||r.selectAll([]),L=e.mainLine||r.selectAll([]),R=e.mainArea||r.selectAll([]),I=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,$)}),o=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?i=1===l.orgDataCount||_.x===A.x?e.x(k[0])-e.x(o[0]):e.isTimeSeries()?e.x(k[0])-e.x(o[0]):e.x(_.x)-e.x(A.x):1!==e.data.targets[0].values.length?i=e.x(k[0])-e.x(o[0]):e.isTimeSeries()?(_=e.getValueOnIndex(e.data.targets[0].values,0),A=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),i=e.x(_.x)-e.x(A.x)):i=w(o)/2,x=w(k)/w(o),a="translate("+i+",0) scale("+x+",1)",e.hideXGridFocus(),e.hideTooltip(),r.transition().ease("linear").duration(T).each(function(){C.add(e.axes.x.transition().call(e.xAxis)),C.add(j.transition().attr("transform",a)),C.add(L.transition().attr("transform",a)),C.add(R.transition().attr("transform",a)),C.add(I.transition().attr("transform",a)),C.add(O.transition().attr("transform",a)),C.add(D.filter(e.isRegionOnX).transition().attr("transform",a)),C.add(M.transition().attr("transform",a)),C.add(E.transition().attr("transform",a))}).call(C,function(){var t,r=[],i=[],a=[];if($){for(t=0;$>t;t++)r.push("."+p.shape+"-"+(b+t)),i.push("."+p.text+"-"+(b+t)),a.push("."+p.eventRect+"-"+(b+t));e.svg.selectAll("."+p.shapes).selectAll(r).remove(),e.svg.selectAll("."+p.texts).selectAll(i).remove(),e.svg.selectAll("."+p.eventRects).selectAll(a).remove(),e.svg.select("."+p.xgrid).remove()}M.attr("transform",null).attr(e.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),E.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),j.attr("transform",null).attr("d",u),L.attr("transform",null).attr("d",c),R.attr("transform",null).attr("d",d),I.attr("transform",null).attr("cx",f).attr("cy",h),O.attr("transform",null).attr("x",v).attr("y",m).style("fill-opacity",e.opacityForText.bind(e)),D.attr("transform",null),D.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),S(),e.flowing=!1})}},c.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+p.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+p.shape).filter(function(){return n.select(this).classed(p.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},c.select=function(t,e,n){var r=this.internal,i=r.d3,a=r.config;a.data_selection_enabled&&r.main.selectAll("."+p.shapes).selectAll("."+p.shape).each(function(o,s){var l=i.select(this),u=o.data?o.data.id:o.id,c=r.getToggle(this,o).bind(r),d=a.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(s)>=0,h=l.classed(p.SELECTED);l.classed(p.line)||l.classed(p.area)||(d&&f?a.data_selection_isselectable(o)&&!h&&c(!0,l.classed(p.SELECTED,!0),o,s):x(n)&&n&&h&&c(!1,l.classed(p.SELECTED,!1),o,s))})},c.unselect=function(t,e){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+p.shapes).selectAll("."+p.shape).each(function(a,o){var s=r.select(this),l=a.data?a.data.id:a.id,u=n.getToggle(this,a).bind(n),c=i.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(o)>=0,f=s.classed(p.SELECTED);s.classed(p.line)||s.classed(p.area)||c&&d&&i.data_selection_isselectable(a)&&f&&u(!1,s.classed(p.SELECTED,!1),a,o)})},c.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},d.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),a=n||{withTransitionForAxis:i};a.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(a)},c.groups=function(t){var e=this.internal,n=e.config;return y(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},c.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},c.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},c.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},c.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},c.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},c.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},c.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},c.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},c.regions.remove=function(t){var e,n,r,i=this.internal,a=i.config;return t=t||{},e=i.getOption(t,"duration",a.transition_duration),n=i.getOption(t,"classes",[p.region]),r=i.main.select("."+p.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),a.regions=a.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),a.regions},c.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},c.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},c.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},c.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},c.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},c.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},c.category=function(t,e){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},c.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},c.color=function(t){var e=this.internal;return e.color(t)},c.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},c.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},c.axis=function(){},c.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},c.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(g(t.x)&&(n.axis_x_max=t.x),g(t.y)&&(n.axis_y_max=t.y),g(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},c.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(g(t.x)&&(n.axis_x_min=t.x),g(t.y)&&(n.axis_y_min=t.y),g(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},c.axis.range=function(t){return arguments.length?(x(t.max)&&this.axis.max(t.max),void(x(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},c.legend=function(){},c.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},c.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},c.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},c.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},c.destroy=function(){var t=this.internal;return r.clearInterval(t.intervalForObserveInserted),r.onresize=null,t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},c.tooltip=function(){},c.tooltip.show=function(t){var e,n,r=this.internal;t.mouse&&(n=t.mouse),t.data?r.isMultipleX()?(n=[r.x(t.data.x),r.getYScale(t.data.id)(t.data.value)],e=null):e=g(t.data.index)?t.data.index:r.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=r.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),r.dispatchEvent("mouseover",e,n),r.dispatchEvent("mousemove",e,n)},c.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var C;d.isSafari=function(){var t=r.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},d.isChrome=function(){var t=r.navigator.userAgent;return t.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof define&&define.amd?define("c3",["d3"],h):"undefined"!=typeof n&&"undefined"!=typeof e?e.exports=h:r.c3=h}(window)},{"./../d3/d3.js":9}],9:[function(t,e){!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function n(t){return null===t?0/0:+t}function r(t){return!isNaN(t)}function i(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function a(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function s(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function u(t){return(t+="")===ys||t[0]===xs?xs+t:t}function c(t){return(t+="")[0]===xs?t.slice(1):t}function d(t){return u(t)in this._}function f(t){return(t=u(t))in this._&&delete this._[t]}function h(){var t=[];for(var e in this._)t.push(c(e));return t}function p(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function m(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function y(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=bs.length;r>n;++n){var i=bs[n]+e;if(i in t)return i}}function x(){}function b(){}function $(t){function e(){for(var e,r=n,i=-1,a=r.length;++i<a;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new l;return e.on=function(e,i){var a,o=r.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function w(){rs.event.preventDefault()}function _(){for(var t,e=rs.event;t=e.sourceEvent;)e=t;return e}function A(t){for(var e=new b,n=0,r=arguments.length;++n<r;)e[arguments[n]]=$(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=rs.event;i.target=t,rs.event=i,e[i.type].apply(n,r)}finally{rs.event=a}}},e}function k(t){return ws(t,Ss),t}function T(t){return"function"==typeof t?t:function(){return _s(t,this)}}function S(t){return"function"==typeof t?t:function(){return As(t,this)}}function C(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=rs.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:o:t.local?a:i}function M(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+rs.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function O(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=D(t).map(j);var i=t.length;return"function"==typeof e?r:n}function j(t){var e=E(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",M(i+" "+t))):n.setAttribute("class",M(i.replace(e," ")))}}function L(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function a(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?a:i}function R(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function I(t){return"function"==typeof t?t:(t=rs.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function P(){var t=this.parentNode;t&&t.removeChild(this)}function F(t){return{__data__:t}}function N(t){return function(){return Ts(this,t)}}function B(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function q(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,a=t[n],o=0,s=a.length;s>o;o++)(i=a[o])&&e(i,o,n);return t}function U(t){return ws(t,Ms),t}function V(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}function z(t){var e=t.__transition__;e&&++e.active}function X(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function i(){var i=l(e,as(arguments));r.call(this),this.addEventListener(t,this[o]=i,i.$=n),i._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+rs.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var o="__on"+t,s=t.indexOf("."),l=H;s>0&&(t=t.slice(0,s));var u=Ds.get(t);return u&&(t=u,l=Y),s?e?i:r:e?x:a}function H(t,e){return function(n){var r=rs.event;rs.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{rs.event=r}}}function Y(t,e){var n=H(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function G(){var t=".dragsuppress-"+ ++js,e="click"+t,n=rs.select(ls).on("touchmove"+t,w).on("dragstart"+t,w).on("selectstart"+t,w);if(Os){var r=ss.style,i=r[Os];r[Os]="none"}return function(a){if(n.on(t,null),Os&&(r[Os]=i),a){var o=function(){n.on(e,null)};n.on(e,function(){w(),o()},!0),setTimeout(o,0)}}}function W(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ls&&(ls.scrollX||ls.scrollY)){n=rs.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ls=!(i.f||i.e),n.remove()}return Ls?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function K(){return rs.event.changedTouches[0].identifier}function Z(){return rs.event.target}function J(){return ls}function Q(t){return t>0?1:0>t?-1:0}function te(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function ee(t){return t>1?0:-1>t?Ps:Math.acos(t)}function ne(t){return t>1?Bs:-1>t?-Bs:Math.asin(t)}function re(t){return((t=Math.exp(t))-1/t)/2}function ie(t){return((t=Math.exp(t))+1/t)/2}function ae(t){return((t=Math.exp(2*t))-1)/(t+1)}function oe(t){return(t=Math.sin(t/2))*t}function se(){}function le(t,e,n){return this instanceof le?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof le?new le(t.h,t.s,t.l):we(""+t,_e,le):new le(t,e,n)}function ue(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?a+(o-a)*t/60:180>t?o:240>t?a+(o-a)*(240-t)/60:a}function i(t){return Math.round(255*r(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,a=2*n-o,new ye(i(t+120),i(t),i(t-120))}function ce(t,e,n){return this instanceof ce?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ce?new ce(t.h,t.c,t.l):t instanceof fe?pe(t.l,t.a,t.b):pe((t=Ae((t=rs.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ce(t,e,n)}function de(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new fe(n,Math.cos(t*=qs)*e,Math.sin(t)*e)}function fe(t,e,n){return this instanceof fe?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof fe?new fe(t.l,t.a,t.b):t instanceof ce?de(t.h,t.c,t.l):Ae((t=ye(t)).r,t.g,t.b):new fe(t,e,n)}function he(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return i=ge(i)*Js,r=ge(r)*Qs,a=ge(a)*tl,new ye(me(3.2404542*i-1.5371385*r-.4985314*a),me(-.969266*i+1.8760108*r+.041556*a),me(.0556434*i-.2040259*r+1.0572252*a))}function pe(t,e,n){return t>0?new ce(Math.atan2(n,e)*Us,Math.sqrt(e*e+n*n),t):new ce(0/0,0/0,t)
}function ge(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ve(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function me(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ye(t,e,n){return this instanceof ye?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ye?new ye(t.r,t.g,t.b):we(""+t,ye,ue):new ye(t,e,n)}function xe(t){return new ye(t>>16,t>>8&255,255&t)}function be(t){return xe(t)+""}function $e(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function we(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Te(i[0]),Te(i[1]),Te(i[2]))}return(a=rl.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function _e(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=.5>l?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(n>e?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new le(r,i,l)}function Ae(t,e,n){t=ke(t),e=ke(e),n=ke(n);var r=ve((.4124564*t+.3575761*e+.1804375*n)/Js),i=ve((.2126729*t+.7151522*e+.072175*n)/Qs),a=ve((.0193339*t+.119192*e+.9503041*n)/tl);return fe(116*i-16,500*(r-i),200*(i-a))}function ke(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Te(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Se(t){return"function"==typeof t?t:function(){return t}}function Ce(t){return t}function Me(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ee(e,n,t,r)}}function Ee(t,e,n,r){function i(){var t,e=l.status;if(!e&&Oe(l)||e>=200&&300>e||304===e){try{t=n.call(a,l)}catch(r){return void o.error.call(a,r)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=rs.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!ls.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=rs.event;rs.event=t;try{o.progress.call(a,l)}finally{rs.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(as(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&a.on("error",i).on("load",function(t){i(null,t)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},rs.rebind(a,o,"on"),null==r?a:a.get(De(r))}function De(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Oe(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function je(){var t=Le(),e=Re()-t;e>24?(isFinite(e)&&(clearTimeout(sl),sl=setTimeout(je,e)),ol=0):(ol=1,ul(je))}function Le(){var t=Date.now();for(ll=il;ll;)t>=ll.t&&(ll.f=ll.c(t-ll.t)),ll=ll.n;return t}function Re(){for(var t,e=il,n=1/0;e;)e.f?e=t?t.n=e.n:il=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return al=t,n}function Ie(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pe(t,e){var n=Math.pow(10,3*ms(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Fe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:Ce;return function(t){var n=dl.exec(t),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],f=n[8],h=n[9],p=1,g="",v="",m=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===o)&&(u=r="0",o="="),h){case"n":d=!0,h="g";break;case"%":p=100,v="%",h="f";break;case"p":p=100,v="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":m=!0,f=0;break;case"s":p=-1,h="r"}"$"===l&&(g=i[0],v=i[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):("e"==h||"f"==h)&&(f=Math.max(0,Math.min(20,f)))),h=fl.get(h)||Ne;var x=u&&d;return function(t){var n=v;if(m&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=rs.formatPrefix(t,f);t=l.scale(t),n=l.symbol+v}else t*=p;t=h(t,f);var b,$,w=t.lastIndexOf(".");if(0>w){var _=y?t.lastIndexOf("e"):-1;0>_?(b=t,$=""):(b=t.substring(0,_),$=t.substring(_))}else b=t.substring(0,w),$=e+t.substring(w+1);!u&&d&&(b=a(b,1/0));var A=g.length+b.length+$.length+(x?0:i.length),k=c>A?new Array(A=c-A+1).join(r):"";return x&&(b=a(k+b,k.length?c-$.length:1/0)),i+=g,t=b+$,("<"===o?i+t+k:">"===o?k+i+t:"^"===o?k.substring(0,A>>=1)+i+t+k.substring(A):i+(x?t:k+t))+n}}}function Ne(t){return t+""}function Be(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function qe(t,e,n){function r(e){var n=t(e),r=a(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new pl(n-1)),1),n}function a(t,n){return e(t=new pl(+t),n),t}function o(t,r,a){var o=i(t),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;r>o;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{pl=Be;var r=new Be;return r._=t,o(r,e,n)}finally{pl=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=o;var l=t.utc=Ue(t);return l.floor=l,l.round=Ue(r),l.ceil=Ue(i),l.offset=Ue(a),l.range=s,t}function Ue(t){return function(e,n){try{pl=Be;var r=new Be;return r._=e,t(r,n)._}finally{pl=Date}}}function Ve(t){function e(t){function e(e){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=vl[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=C[n])&&(n=a(e,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&pl!==Be,o=new(a?Be:pl);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,a,o,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(o=e.charAt(s++),a=M[o in vl?e.charAt(s++):o],!a||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=$.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){T.lastIndex=0;var r=T.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){A.lastIndex=0;var r=A.exec(e.slice(n));return r?(t.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,C.c.toString(),e,r)}function l(t,e,r){return n(t,C.x.toString(),e,r)}function u(t,e,r){return n(t,C.X.toString(),e,r)}function c(t,e,n){var r=x.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,f=t.date,h=t.time,p=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{pl=Be;var e=new pl;return e._=t,r(e)}finally{pl=Date}}var r=e(t);return n.parse=function(t){try{pl=Be;var e=r.parse(t);return e&&e._}finally{pl=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=cn;var x=rs.map(),b=Xe(g),$=He(g),w=Xe(v),_=He(v),A=Xe(m),k=He(m),T=Xe(y),S=He(y);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var C={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(d),d:function(t,e){return ze(t.getDate(),e,2)},e:function(t,e){return ze(t.getDate(),e,2)},H:function(t,e){return ze(t.getHours(),e,2)},I:function(t,e){return ze(t.getHours()%12||12,e,2)},j:function(t,e){return ze(1+hl.dayOfYear(t),e,3)},L:function(t,e){return ze(t.getMilliseconds(),e,3)},m:function(t,e){return ze(t.getMonth()+1,e,2)},M:function(t,e){return ze(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return ze(t.getSeconds(),e,2)},U:function(t,e){return ze(hl.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return ze(hl.mondayOfYear(t),e,2)},x:e(f),X:e(h),y:function(t,e){return ze(t.getFullYear()%100,e,2)},Y:function(t,e){return ze(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},M={a:r,A:i,b:a,B:o,c:s,d:en,e:en,H:rn,I:rn,j:nn,L:sn,m:tn,M:an,p:c,S:on,U:Ge,w:Ye,W:We,x:l,X:u,y:Ze,Y:Ke,Z:Je,"%":un};return e}function ze(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(e)+i:i)}function Xe(t){return new RegExp("^(?:"+t.map(rs.requote).join("|")+")","i")}function He(t){for(var e=new l,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ye(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ge(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function We(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ke(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ze(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.y=Qe(+r[0]),n+r[0].length):-1}function Je(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Qe(t){return t+(t>68?1900:2e3)}function tn(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function en(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function nn(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function rn(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function an(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function on(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sn(t,e,n){ml.lastIndex=0;var r=ml.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ms(e)/60|0,i=ms(e)%60;return n+ze(r,"0",2)+ze(i,"0",2)}function un(t,e,n){yl.lastIndex=0;var r=yl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function dn(){}function fn(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function hn(t,e){t&&wl.hasOwnProperty(t.type)&&wl[t.type](t,e)}function pn(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function gn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)pn(t[n],e,1);e.polygonEnd()}function vn(){function t(t,e){t*=qs,e=e*qs/2+Ps/4;var n=t-r,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,d=i*l+c*Math.cos(s),f=c*o*Math.sin(s);Al.add(Math.atan2(f,d)),r=t,i=l,a=u}var e,n,r,i,a;kl.point=function(o,s){kl.point=t,r=(e=o)*qs,i=Math.cos(s=(n=s)*qs/2+Ps/4),a=Math.sin(s)},kl.lineEnd=function(){t(e,n)}}function mn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function yn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function xn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $n(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function wn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function _n(t){return[Math.atan2(t[1],t[0]),ne(t[2])]}function An(t,e){return ms(t[0]-e[0])<Rs&&ms(t[1]-e[1])<Rs}function kn(t,e){t*=qs;var n=Math.cos(e*=qs);Tn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Tn(t,e,n){++Tl,Cl+=(t-Cl)/Tl,Ml+=(e-Ml)/Tl,El+=(n-El)/Tl}function Sn(){function t(t,i){t*=qs;var a=Math.cos(i*=qs),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+r*l);Sl+=u,Dl+=u*(e+(e=o)),Ol+=u*(n+(n=s)),jl+=u*(r+(r=l)),Tn(e,n,r)}var e,n,r;Pl.point=function(i,a){i*=qs;var o=Math.cos(a*=qs);e=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Pl.point=t,Tn(e,n,r)}}function Cn(){Pl.point=kn}function Mn(){function t(t,e){t*=qs;var n=Math.cos(e*=qs),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-a*s,c=a*o-r*l,d=r*s-i*o,f=Math.sqrt(u*u+c*c+d*d),h=r*o+i*s+a*l,p=f&&-ee(h)/f,g=Math.atan2(f,h);Ll+=p*u,Rl+=p*c,Il+=p*d,Sl+=g,Dl+=g*(r+(r=o)),Ol+=g*(i+(i=s)),jl+=g*(a+(a=l)),Tn(r,i,a)}var e,n,r,i,a;Pl.point=function(o,s){e=o,n=s,Pl.point=t,o*=qs;var l=Math.cos(s*=qs);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),Tn(r,i,a)},Pl.lineEnd=function(){t(e,n),Pl.lineEnd=Cn,Pl.point=kn}}function En(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Dn(){return!0}function On(t,e,n,r,i){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(An(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new Ln(n,t,null,!0),u=new Ln(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new Ln(r,t,null,!1),u=new Ln(r,null,l,!0),l.o=u,a.push(l),o.push(u)}}),o.sort(e),jn(a),jn(o),a.length){for(var s=0,l=n,u=o.length;u>s;++s)o[s].e=l=!l;for(var c,d,f=a[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((d=c[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p){c=h.p.z;for(var s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);i.lineEnd()}}}function jn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Ln(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Rn(t,e,n,r){return function(i,a){function o(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function l(){y.point=s,v.lineStart()}function u(){y.point=o,v.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function d(){b.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=x.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,o=-1;if(r>0){for($||(a.polygonStart(),$=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(In))}var h,p,g,v=e(a),m=i.invert(r[0],r[1]),y={point:o,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=d,y.lineEnd=f,h=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=u,h=rs.merge(h);var t=Un(m,p);h.length?($||(a.polygonStart(),$=!0),On(h,Fn,t,n,a)):t&&($||(a.polygonStart(),$=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),$&&(a.polygonEnd(),$=!1),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},x=Pn(),b=e(x),$=!1;return y}}function In(t){return t.length>1}function Pn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fn(t,e){return((t=t.x)[0]<0?t[1]-Bs-Rs:Bs-t[1])-((e=e.x)[0]<0?e[1]-Bs-Rs:Bs-e[1])}function Nn(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Ps:-Ps,l=ms(a-n);ms(l-Ps)<Rs?(t.point(n,r=(r+o)/2>0?Bs:-Bs),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=Ps&&(ms(n-i)<Rs&&(n-=i*Rs),ms(a-s)<Rs&&(a-=s*Rs),r=Bn(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function Bn(t,e,n,r){var i,a,o=Math.sin(t-n);return ms(o)>Rs?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}function qn(t,e,n,r){var i;if(null==t)i=n*Bs,r.point(-Ps,i),r.point(0,i),r.point(Ps,i),r.point(Ps,0),r.point(Ps,-i),r.point(0,-i),r.point(-Ps,-i),r.point(-Ps,0),r.point(-Ps,i);else if(ms(t[0]-e[0])>Rs){var a=t[0]<e[0]?Ps:-Ps;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Un(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Al.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var d=u[0],f=d[0],h=d[1]/2+Ps/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0),t=u[v];var m=t[0],y=t[1]/2+Ps/4,x=Math.sin(y),b=Math.cos(y),$=m-f,w=$>=0?1:-1,_=w*$,A=_>Ps,k=p*x;if(Al.add(Math.atan2(k*w*Math.sin(_),g*b+k*Math.cos(_))),a+=A?$+w*Fs:$,A^f>=n^m>=n){var T=xn(mn(d),mn(t));wn(T);var S=xn(i,T);wn(S);var C=(A^$>=0?-1:1)*ne(S[2]);(r>C||r===C&&(T[0]||T[1]))&&(o+=A^$>=0?1:-1)}if(!v++)break;f=m,p=x,g=b,d=t}}return(-Rs>a||Rs>a&&0>Al)^1&o}function Vn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=e(d,f),v=o?g?0:i(d,f):g?i(d+(0>d?Ps:-Ps),f):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(h=r(n,p),(An(n,h)||An(p,h))&&(p[0]+=Rs,p[1]+=Rs,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=r(p,n),t.point(h[0],h[1])):(h=r(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&o^g){var m;v&a||!(m=r(p,n,!0))||(c=0,o?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&An(n,p)||t.point(p[0],p[1]),n=p,l=g,a=v},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=mn(t),i=mn(e),o=[1,0,0],s=xn(r,i),l=yn(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var d=a*l/c,f=-a*u/c,h=xn(o,s),p=$n(o,d),g=$n(s,f);bn(p,g);var v=h,m=yn(p,v),y=yn(v,v),x=m*m-y*(yn(p,p)-1);if(!(0>x)){var b=Math.sqrt(x),$=$n(v,(-m-b)/y);if(bn($,p),$=_n($),!n)return $;var w,_=t[0],A=e[0],k=t[1],T=e[1];_>A&&(w=_,_=A,A=w);var S=A-_,C=ms(S-Ps)<Rs,M=C||Rs>S;if(!C&&k>T&&(w=k,k=T,T=w),M?C?k+T>0^$[1]<(ms($[0]-_)<Rs?k:T):k<=$[1]&&$[1]<=T:S>Ps^(_<=$[0]&&$[0]<=A)){var E=$n(v,(-m+b)/y);return bn(E,p),[$,_n(E)]}}}function i(e,n){var r=o?t:Ps-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var a=Math.cos(t),o=a>0,s=ms(a)>Rs,l=vr(t,6*qs);return Rn(e,n,l,o?[0,-t]:[-Ps,t-Ps])}function zn(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=s.x,d=s.y,f=0,h=1,p=c-l,g=d-u;if(a=t-l,p||!(a>0)){if(a/=p,0>p){if(f>a)return;h>a&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=n-l,p||!(0>a)){if(a/=p,0>p){if(a>h)return;a>f&&(f=a)}else if(p>0){if(f>a)return;h>a&&(h=a)}if(a=e-u,g||!(a>0)){if(a/=g,0>g){if(f>a)return;h>a&&(h=a)}else if(g>0){if(a>h)return;a>f&&(f=a)}if(a=r-u,g||!(0>a)){if(a/=g,0>g){if(a>h)return;a>f&&(f=a)}else if(g>0){if(f>a)return;h>a&&(h=a)}return f>0&&(i.a={x:l+f*p,y:u+f*g}),1>h&&(i.b={x:l+h*p,y:u+h*g}),i}}}}}}function Xn(t,e,n,r){function i(r,i){return ms(r[0]-t)<Rs?i>0?0:3:ms(r[0]-n)<Rs?i>0?2:1:ms(r[1]-e)<Rs?i>0?1:0:i>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=v.length,r=t[1],i=0;n>i;++i)for(var a,o=1,s=v[i],l=s.length,u=s[0];l>o;++o)a=s[o],u[1]<=r?a[1]>r&&te(u,a,t)>0&&++e:a[1]<=r&&te(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,d=0;if(null==a||(c=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+l+4)%4)!==d)}else u.point(s[0],s[1])}function c(i,a){return i>=t&&n>=i&&a>=e&&r>=a}function d(t,e){c(t,e)&&s.point(t,e)}function f(){M.point=p,v&&v.push(m=[]),A=!0,_=!1,$=w=0/0}function h(){g&&(p(y,x),b&&_&&S.rejoin(),g.push(S.buffer())),M.point=d,_&&s.lineEnd()}function p(t,e){t=Math.max(-Nl,Math.min(Nl,t)),e=Math.max(-Nl,Math.min(Nl,e));var n=c(t,e);if(v&&m.push([t,e]),A)y=t,x=e,b=n,A=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&_)s.point(t,e);else{var r={a:{x:$,y:w},b:{x:t,y:e}};C(r)?(_||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),k=!1):n&&(s.lineStart(),s.point(t,e),k=!1)}$=t,w=e,_=n}var g,v,m,y,x,b,$,w,_,A,k,T=s,S=Pn(),C=zn(t,e,n,r),M={point:d,lineStart:f,lineEnd:h,polygonStart:function(){s=S,g=[],v=[],k=!0},polygonEnd:function(){s=T,g=rs.merge(g);var e=l([t,r]),n=k&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&On(g,a,e,u,s),s.polygonEnd()),g=v=m=null}};return M}}function Hn(t){var e=0,n=Ps/3,r=lr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ps/180,n=t[1]*Ps/180):[e/Ps*180,n/Ps*180]},i}function Yn(t,e){function n(t,e){var n=Math.sqrt(a-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),o-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,ne((a-(t*t+n*n)*i*i)/(2*i))]},n}function Gn(){function t(t,e){ql+=i*t-r*e,r=t,i=e}var e,n,r,i;Hl.point=function(a,o){Hl.point=t,e=r=a,n=i=o},Hl.lineEnd=function(){t(e,n)}}function Wn(t,e){Ul>t&&(Ul=t),t>zl&&(zl=t),Vl>e&&(Vl=e),e>Xl&&(Xl=e)}function Kn(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function r(){s.point=t}function i(){o.push("Z")}var a=Zn(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return a=Zn(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Zn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Jn(t,e){Cl+=t,Ml+=e,++El}function Qn(){function t(t,r){var i=t-e,a=r-n,o=Math.sqrt(i*i+a*a);Dl+=o*(e+t)/2,Ol+=o*(n+r)/2,jl+=o,Jn(e=t,n=r)}var e,n;Gl.point=function(r,i){Gl.point=t,Jn(e=r,n=i)}}function tr(){Gl.point=Jn}function er(){function t(t,e){var n=t-r,a=e-i,o=Math.sqrt(n*n+a*a);Dl+=o*(r+t)/2,Ol+=o*(i+e)/2,jl+=o,o=i*t-r*e,Ll+=o*(r+t),Rl+=o*(i+e),Il+=3*o,Jn(r=t,i=e)}var e,n,r,i;Gl.point=function(a,o){Gl.point=t,Jn(e=r=a,n=i=o)},Gl.lineEnd=function(){t(e,n)}}function nr(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Fs)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return o=t,s},result:x};return s}function rr(t){function e(t){return(s?r:n)(t)}function n(e){return or(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){x=0/0,A.point=a,e.lineStart()}function a(n,r){var a=mn([n,r]),o=t(n,r);i(x,b,y,$,w,_,x=o[0],b=o[1],y=n,$=a[0],w=a[1],_=a[2],s,e),e.point(x,b)}function o(){A.point=n,e.lineEnd()}function l(){r(),A.point=u,A.lineEnd=c}function u(t,e){a(d=t,f=e),h=x,p=b,g=$,v=w,m=_,A.point=a}function c(){i(x,b,y,$,w,_,h,p,d,g,v,m,s,e),A.lineEnd=o,o()}var d,f,h,p,g,v,m,y,x,b,$,w,_,A={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),A.lineStart=l},polygonEnd:function(){e.polygonEnd(),A.lineStart=r}};return A}function i(e,n,r,s,l,u,c,d,f,h,p,g,v,m){var y=c-e,x=d-n,b=y*y+x*x;if(b>4*a&&v--){var $=s+h,w=l+p,_=u+g,A=Math.sqrt($*$+w*w+_*_),k=Math.asin(_/=A),T=ms(ms(_)-1)<Rs||ms(r-f)<Rs?(r+f)/2:Math.atan2(w,$),S=t(T,k),C=S[0],M=S[1],E=C-e,D=M-n,O=x*E-y*D;(O*O/b>a||ms((y*E+x*D)/b-.5)>.3||o>s*h+l*p+u*g)&&(i(e,n,r,s,l,u,C,M,T,$/=A,w/=A,_,v,m),m.point(C,M),i(C,M,T,$,w,_,c,d,f,h,p,g,v,m))}}var a=.5,o=Math.cos(30*qs),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function ir(t){var e=rr(function(e,n){return t([e*Us,n*Us])});return function(t){return ur(e(t))}}function ar(t){this.stream=t}function or(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function sr(t){return lr(function(){return t})()}function lr(t){function e(t){return t=s(t[0]*qs,t[1]*qs),[t[0]*f+l,u-t[1]*f]}function n(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Us,t[1]*Us]}function r(){s=En(o=fr(m,y,x),a);var t=a(g,v);return l=h-t[0]*f,u=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,d=rr(function(t,e){return t=a(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,h=480,p=250,g=0,v=0,m=0,y=0,x=0,b=Fl,$=Ce,w=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=ur(b(o,d($(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,Fl):Vn((w=+t)*qs),i()):w},e.clipExtent=function(t){return arguments.length?(_=t,$=t?Xn(t[0][0],t[0][1],t[1][0],t[1][1]):Ce,i()):_},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*qs,v=t[1]%360*qs,r()):[g*Us,v*Us]},e.rotate=function(t){return arguments.length?(m=t[0]%360*qs,y=t[1]%360*qs,x=t.length>2?t[2]%360*qs:0,r()):[m*Us,y*Us,x*Us]},rs.rebind(e,d,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,r()}}function ur(t){return or(t,function(e,n){t.point(e*qs,n*qs)})}function cr(t,e){return[t,e]}function dr(t,e){return[t>Ps?t-Fs:-Ps>t?t+Fs:t,e]}function fr(t,e,n){return t?e||n?En(pr(t),gr(e,n)):pr(t):e||n?gr(e,n):dr}function hr(t){return function(e,n){return e+=t,[e>Ps?e-Fs:-Ps>e?e+Fs:e,n]}}function pr(t){var e=hr(t);return e.invert=hr(-t),e}function gr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*a-c*o,s*r-u*i),ne(c*a+l*o)]}var r=Math.cos(t),i=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*r+c*i),ne(c*r-s*i)]},n}function vr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=mr(n,i),a=mr(n,a),(o>0?a>i:i>a)&&(i+=o*Fs)):(i=t+o*Fs,a=t-.5*l);for(var u,c=i;o>0?c>a:a>c;c-=l)s.point((u=_n([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mr(t,e){var n=mn(e);n[0]-=t,wn(n);var r=ee(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Rs)%(2*Math.PI)}function yr(t,e,n){var r=rs.range(t,e-Rs,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function xr(t,e,n){var r=rs.range(t,e-Rs,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function br(t){return t.source}function $r(t){return t.target}function wr(t,e,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=o*Math.cos(n),d=o*Math.sin(n),f=2*Math.asin(Math.sqrt(oe(r-e)+i*o*oe(n-t))),h=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*h,n=Math.sin(f-t)*h,r=n*l+e*c,i=n*u+e*d,o=n*a+e*s;return[Math.atan2(i,r)*Us,Math.atan2(o,Math.sqrt(r*r+i*i))*Us]}:function(){return[t*Us,e*Us]};return p.distance=f,p}function _r(){function t(t,i){var a=Math.sin(i*=qs),o=Math.cos(i),s=ms((t*=qs)-e),l=Math.cos(s);Wl+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),e=t,n=a,r=o}var e,n,r;Kl.point=function(i,a){e=i*qs,n=Math.sin(a*=qs),r=Math.cos(a),Kl.point=t},Kl.lineEnd=function(){Kl.point=Kl.lineEnd=x}}function Ar(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},n}function kr(t,e){function n(t,e){o>0?-Bs+Rs>e&&(e=-Bs+Rs):e>Bs-Rs&&(e=Bs-Rs);var n=o/Math.pow(i(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ps/4+t/2)},a=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),o=r*Math.pow(i(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,r=Q(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Bs]},n):Sr}function Tr(t,e){function n(t,e){var n=a-e;return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),a=r/i+t;return ms(i)<Rs?cr:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,a-Q(i)*Math.sqrt(t*t+n*n)]},n)}function Sr(t,e){return[t,Math.log(Math.tan(Ps/4+e/2))]}function Cr(t){var e,n=sr(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Ps*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Mr(t,e){return[Math.log(Math.tan(Ps/4+e/2)),-t]}function Er(t){return t[0]}function Dr(t){return t[1]}function Or(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&te(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function jr(t,e){return t[0]-e[0]||t[1]-e[1]}function Lr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rr(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],u=n[1],c=e[1]-l,d=r[1]-u,f=(s*(l-u)-d*(i-a))/(d*o-s*c);return[i+f*o,l+f*c]}function Ir(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pr(){ii(this),this.edge=this.site=this.circle=null}function Fr(t){var e=lu.pop()||new Pr;return e.site=t,e}function Nr(t){Wr(t),au.remove(t),lu.push(t),ii(t)}function Br(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];Nr(t);for(var l=a;l.circle&&ms(n-l.circle.x)<Rs&&ms(r-l.circle.cy)<Rs;)a=l.P,s.unshift(l),Nr(l),l=a;s.unshift(l),Wr(l);for(var u=o;u.circle&&ms(n-u.circle.x)<Rs&&ms(r-u.circle.cy)<Rs;)o=u.N,s.push(u),Nr(u),u=o;s.push(u),Wr(u);var c,d=s.length;for(c=1;d>c;++c)u=s[c],l=s[c-1],ei(u.edge,l.site,u.site,i);l=s[0],u=s[d-1],u.edge=Qr(l.site,u.site,null,i),Gr(l),Gr(u)}function qr(t){for(var e,n,r,i,a=t.x,o=t.y,s=au._;s;)if(r=Ur(s,o)-a,r>Rs)s=s.L;else{if(i=a-Vr(s,o),!(i>Rs)){r>-Rs?(e=s.P,n=s):i>-Rs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Fr(t);if(au.insert(e,l),e||n){if(e===n)return Wr(e),n=Fr(e.site),au.insert(l,n),l.edge=n.edge=Qr(e.site,l.site),Gr(e),void Gr(n);if(!n)return void(l.edge=Qr(e.site,l.site));Wr(e),Wr(n);var u=e.site,c=u.x,d=u.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,v=p.y-d,m=2*(f*v-h*g),y=f*f+h*h,x=g*g+v*v,b={x:(v*y-h*x)/m+c,y:(f*x-g*y)/m+d};ei(n.edge,u,p,b),l.edge=Qr(u,t,null,b),n.edge=Qr(t,p,null,b),Gr(e),Gr(n)}}function Ur(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,d=1/a-1/u,f=c/u;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function Vr(t,e){var n=t.N;if(n)return Ur(n,e);var r=t.site;return r.y===e?r.x:1/0}function zr(t){this.site=t,this.edges=[]}function Xr(t){for(var e,n,r,i,a,o,s,l,u,c,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],g=iu,v=g.length;v--;)if(a=g[v],a&&a.prepare())for(s=a.edges,l=s.length,o=0;l>o;)c=s[o].end(),r=c.x,i=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(ms(r-e)>Rs||ms(i-n)>Rs)&&(s.splice(o,0,new ni(ti(a.site,c,ms(r-d)<Rs&&p-i>Rs?{x:d,y:ms(e-d)<Rs?n:p}:ms(i-p)<Rs&&f-r>Rs?{x:ms(n-p)<Rs?e:f,y:p}:ms(r-f)<Rs&&i-h>Rs?{x:f,y:ms(e-f)<Rs?n:h}:ms(i-h)<Rs&&r-d>Rs?{x:ms(n-h)<Rs?e:d,y:h}:null),a.site,null)),++l)
}function Hr(t,e){return e.angle-t.angle}function Yr(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,d=a.y-s,f=2*(l*d-u*c);if(!(f>=-Is)){var h=l*l+u*u,p=c*c+d*d,g=(d*h-u*p)/f,v=(l*p-c*h)/f,d=v+s,m=uu.pop()||new Yr;m.arc=t,m.site=i,m.x=g+o,m.y=d+Math.sqrt(g*g+v*v),m.cy=d,t.circle=m;for(var y=null,x=su._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}su.insert(y,m),y||(ou=m)}}}}function Wr(t){var e=t.circle;e&&(e.P||(ou=e.N),su.remove(e),uu.push(e),ii(e),t.circle=null)}function Kr(t){for(var e,n=ru,r=zn(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Zr(e,t)||!r(e)||ms(e.a.x-e.b.x)<Rs&&ms(e.a.y-e.b.y)<Rs)&&(e.a=e.b=null,n.splice(i,1))}function Zr(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,v=(f+p)/2,m=(h+g)/2;if(g===h){if(o>v||v>=s)return;if(f>p){if(a){if(a.y>=u)return}else a={x:v,y:l};n={x:v,y:u}}else{if(a){if(a.y<l)return}else a={x:v,y:u};n={x:v,y:l}}}else if(r=(f-p)/(g-h),i=m-r*v,-1>r||r>1)if(f>p){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(g>h){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Jr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Qr(t,e,n,r){var i=new Jr(t,e);return ru.push(i),n&&ei(i,t,e,n),r&&ei(i,e,t,r),iu[t.i].edges.push(new ni(i,t,e)),iu[e.i].edges.push(new ni(i,e,t)),i}function ti(t,e,n){var r=new Jr(t,null);return r.a=e,r.b=n,ru.push(r),r}function ei(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ni(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ri(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ai(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function oi(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function si(t){for(;t.L;)t=t.L;return t}function li(t,e){var n,r,i,a=t.sort(ui).pop();for(ru=[],iu=new Array(t.length),au=new ri,su=new ri;;)if(i=ou,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(iu[a.i]=new zr(a),qr(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;Br(i.arc)}e&&(Kr(e),Xr(e));var o={cells:iu,edges:ru};return au=su=ru=iu=null,o}function ui(t,e){return e.y-t.y||e.x-t.x}function ci(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function di(t){return t.x}function fi(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&pi(t,l[0],n,r,o,s),l[1]&&pi(t,l[1],o,r,i,s),l[2]&&pi(t,l[2],n,s,o,a),l[3]&&pi(t,l[3],o,s,i,a)}}function gi(t,e,n,r,i,a,o){var s,l=1/0;return function u(t,c,d,f,h){if(!(c>a||d>o||r>f||i>h)){if(p=t.point){var p,g=e-p[0],v=n-p[1],m=g*g+v*v;if(l>m){var y=Math.sqrt(l=m);r=e-y,i=n-y,a=e+y,o=n+y,s=p}}for(var x=t.nodes,b=.5*(c+f),$=.5*(d+h),w=e>=b,_=n>=$,A=_<<1|w,k=A+4;k>A;++A)if(t=x[3&A])switch(3&A){case 0:u(t,c,d,b,$);break;case 1:u(t,b,d,f,$);break;case 2:u(t,c,$,b,h);break;case 3:u(t,b,$,f,h)}}}(t,r,i,a,o),s}function vi(t,e){t=rs.rgb(t),e=rs.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,o=e.g-r,s=e.b-i;return function(t){return"#"+$e(Math.round(n+a*t))+$e(Math.round(r+o*t))+$e(Math.round(i+s*t))}}function mi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=bi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function yi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xi(t,e){var n,r,i,a=du.lastIndex=fu.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=du.exec(t))&&(r=fu.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:yi(n,r)})),a=fu.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function bi(t,e){for(var n,r=rs.interpolators.length;--r>=0&&!(n=rs.interpolators[r](t,e)););return n}function $i(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(bi(t[n],e[n]));for(;a>n;++n)i[n]=t[n];for(;o>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function wi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function _i(t){return function(e){return 1-t(1-e)}}function Ai(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function Ti(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ci(t){return function(e){return Math.pow(e,t)}}function Mi(t){return 1-Math.cos(t*Bs)}function Ei(t){return Math.pow(2,10*(t-1))}function Di(t){return 1-Math.sqrt(1-t*t)}function Oi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fs*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Fs/e)}}function ji(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Li(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=rs.hcl(t),e=rs.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,o=e.c-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return de(n+a*t,r+o*t,i+s*t)+""}}function Ii(t,e){t=rs.hsl(t),e=rs.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,o=e.s-r,s=e.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:-180>a&&(a+=360),function(t){return ue(n+a*t,r+o*t,i+s*t)+""}}function Pi(t,e){t=rs.lab(t),e=rs.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,o=e.a-r,s=e.b-i;return function(t){return he(n+a*t,r+o*t,i+s*t)+""}}function Fi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ni(t){var e=[t.a,t.b],n=[t.c,t.d],r=qi(e),i=Bi(e,n),a=qi(Ui(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Us,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Us:0}function Bi(t,e){return t[0]*e[0]+t[1]*e[1]}function qi(t){var e=Math.sqrt(Bi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ui(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vi(t,e){var n,r=[],i=[],a=rs.transform(t),o=rs.transform(e),s=a.translate,l=o.translate,u=a.rotate,c=o.rotate,d=a.skew,f=o.skew,h=a.scale,p=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:yi(s[0],l[0])},{i:3,x:yi(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:yi(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),d!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:yi(d,f)}):f&&r.push(r.pop()+"skewX("+f+")"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:yi(h[0],p[0])},{i:n-2,x:yi(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,a=-1;++a<n;)r[(e=i[a]).i]=e.x(t);return r.join("")}}function zi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Xi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Hi(t){for(var e=t.source,n=t.target,r=Gi(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Yi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Gi(t,e){if(t===e)return t;for(var n=Yi(t),r=Yi(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function Wi(t){t.fixed|=2}function Ki(t){t.fixed&=-7}function Zi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ji(t){t.fixed&=-5}function Qi(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(Qi(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ta(t,e){return rs.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=oa,t}function ea(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function na(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function ra(t){return t.children}function ia(t){return t.value}function aa(t,e){return e.value-t.value}function oa(t){return rs.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function sa(t){return t.x}function la(t){return t.y}function ua(t,e,n){t.y0=e,t.y=n}function ca(t){return rs.range(t.length)}function da(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function fa(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;a>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function ha(t){return t.reduce(pa,0)}function pa(t,e){return t+e[1]}function ga(t,e){return va(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function va(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function ma(t){return[rs.min(t),rs.max(t)]}function ya(t,e){return t.value-e.value}function xa(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ba(t,e){t._pack_next=e,e._pack_prev=t}function $a(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function wa(t){function e(t){c=Math.min(t.x-t.r,c),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,i,a,o,s,l,u,c=1/0,d=-1/0,f=1/0,h=-1/0;if(n.forEach(_a),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(a=n[2],Ta(r,i,a),e(a),xa(r,a),r._pack_prev=a,xa(a,i),i=r._pack_next,o=3;u>o;o++){Ta(r,i,a=n[o]);var p=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if($a(s,a)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!$a(l,a);l=l._pack_prev,v++);p?(v>g||g==v&&i.r<r.r?ba(r,i=s):ba(r=l,i),o--):(xa(r,a),i=a,e(a))}var m=(c+d)/2,y=(f+h)/2,x=0;for(o=0;u>o;o++)a=n[o],a.x-=m,a.y-=y,x=Math.max(x,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=x,n.forEach(Aa)}}function _a(t){t._pack_next=t._pack_prev=t}function Aa(t){delete t._pack_next,delete t._pack_prev}function ka(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)ka(i[a],e,n,r)}function Ta(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+u*a,n.y=t.y+l*a-u*i}else n.x=t.x+r,n.y=t.y}function Sa(t,e){return t.parent==e.parent?1:2}function Ca(t){var e=t.children;return e.length?e[0]:t.t}function Ma(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ea(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Da(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)e=i[a],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Oa(t,e,n){return t.a.parent===e.parent?t.a:n}function ja(t){return 1+rs.max(t,function(t){return t.y})}function La(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ra(t){var e=t.children;return e&&e.length?Ra(e[0]):t}function Ia(t){var e,n=t.children;return n&&(e=n.length)?Ia(n[e-1]):t}function Pa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Fa(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Na(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ba(t){return t.rangeExtent?t.rangeExtent():Na(t.range())}function qa(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Ua(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return a>o&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Va(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:_u}function za(t,e,n,r){var i=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)i.push(n(t[o-1],t[o])),a.push(r(e[o-1],e[o]));return function(e){var n=rs.bisect(t,e,1,s)-1;return a[n](i[n](e))}}function Xa(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?za:qa,l=r?Xi:zi;return o=i(t,e,l,n),s=i(e,t,l,bi),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},a.range=function(t){return arguments.length?(e=t,i()):e},a.rangeRound=function(t){return a.range(t).interpolate(Fi)},a.clamp=function(t){return arguments.length?(r=t,i()):r},a.interpolate=function(t){return arguments.length?(n=t,i()):n},a.ticks=function(e){return Wa(t,e)},a.tickFormat=function(e,n){return Ka(t,e,n)},a.nice=function(e){return Ya(t,e),i()},a.copy=function(){return Xa(t,e,n,r)},i()}function Ha(t,e){return rs.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ya(t,e){return Ua(t,Va(Ga(t,e)[2]))}function Ga(t,e){null==e&&(e=10);var n=Na(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Wa(t,e){return rs.range.apply(rs,Ga(t,e))}function Ka(t,e,n){var r=Ga(t,e);if(n){var i=dl.exec(n);if(i.shift(),"s"===i[8]){var a=rs.formatPrefix(Math.max(ms(r[0]),ms(r[1])));return i[7]||(i[7]="."+Za(a.scale(r[2]))),i[8]="f",n=rs.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+Ja(i[8],r)),n=i.join("")}else n=",."+Za(r[2])+"f";return rs.format(n)}function Za(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Ja(t,e){var n=Za(e[2]);return t in Au?Math.abs(n-Za(Math.max(ms(e[0]),ms(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Qa(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=Ua(r.map(i),n?Math:Tu);return t.domain(e),r=e.map(a),o},o.ticks=function(){var t=Na(r),o=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;d>f;f++)o.push(a(u)*f);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var f=d-1;f>0;f--)o.push(a(u)*f);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,e){if(!arguments.length)return ku;arguments.length<2?e=ku:"function"!=typeof e&&(e=rs.format(e));var r,s=Math.max(.1,t/o.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/a(l(i(t)+r))<=s?e(t):""}},o.copy=function(){return Qa(t.copy(),e,n,r)},Ha(o,t)}function to(t,e,n){function r(e){return t(i(e))}var i=eo(e),a=eo(1/e);return r.invert=function(e){return a(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Wa(n,t)},r.tickFormat=function(t,e){return Ka(n,t,e)},r.nice=function(t){return r.domain(Ya(n,t))},r.exponent=function(o){return arguments.length?(i=eo(e=o),a=eo(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return to(t.copy(),e,n)},Ha(r,t)}function eo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function no(t,e){function n(n){return a[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%a.length]}function r(e,n){return rs.range(t.length).map(function(t){return e+n*t})}var i,a,o;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new l;for(var a,o=-1,s=r.length;++o<s;)i.has(a=r[o])||i.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return a=r(l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return a=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=(d-c)/(t.length-s+2*l);return a=r(c+f*l,f),u&&a.reverse(),o=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],f=Math.floor((d-c)/(t.length-s+2*l));return a=r(c+Math.round((d-c-(t.length-s)*f)/2),f),u&&a.reverse(),o=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Na(e.a[0])},n.copy=function(){return no(t,e)},n.domain(t)}function ro(e,i){function a(){var t=0,n=i.length;for(s=[];++t<n;)s[t-1]=rs.quantile(e,t/n);return o}function o(t){return isNaN(t=+t)?void 0:i[rs.bisect(s,t)]}var s;return o.domain=function(i){return arguments.length?(e=i.map(n).filter(r).sort(t),a()):e},o.range=function(t){return arguments.length?(i=t,a()):i},o.quantiles=function(){return s},o.invertExtent=function(t){return t=i.indexOf(t),0>t?[0/0,0/0]:[t>0?s[t-1]:e[0],t<s.length?s[t]:e[e.length-1]]},o.copy=function(){return ro(e,i)},a()}function io(t,e,n){function r(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function i(){return a=n.length/(e-t),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/a+t,[e,e+1/a]},r.copy=function(){return io(t,e,n)},i()}function ao(t,e){function n(n){return n>=n?e[rs.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ao(t,e)},n}function oo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Wa(t,e)},e.tickFormat=function(e,n){return Ka(t,e,n)},e.copy=function(){return oo(t)},e}function so(){return 0}function lo(t){return t.innerRadius}function uo(t){return t.outerRadius}function co(t){return t.startAngle}function fo(t){return t.endAngle}function ho(t){return t&&t.padAngle}function po(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function go(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,d=t[1]+u,f=e[0]+l,h=e[1]+u,p=(c+f)/2,g=(d+h)/2,v=f-c,m=h-d,y=v*v+m*m,x=n-r,b=c*h-f*d,$=(0>m?-1:1)*Math.sqrt(x*x*y-b*b),w=(b*m-v*$)/y,_=(-b*v-m*$)/y,A=(b*m+v*$)/y,k=(-b*v+m*$)/y,T=w-p,S=_-g,C=A-p,M=k-g;return T*T+S*S>C*C+M*M&&(w=A,_=k),[[w-l,_-u],[w*n/x,_*n/x]]}function vo(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],d=-1,f=e.length,h=Se(n),p=Se(r);++d<f;)i.call(this,l=e[d],d)?c.push([+h.call(this,l,d),+p.call(this,l,d)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Er,r=Dr,i=Dn,a=mo,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Ou.get(t)||mo).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function mo(t){return t.join("L")}function yo(t){return mo(t)+"Z"}function xo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function $o(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function wo(t,e){return t.length<4?mo(t):t[1]+ko(t.slice(1,-1),To(t,e))}function _o(t,e){return t.length<3?mo(t):t[0]+ko((t.push(t[0]),t),To([t[t.length-2]].concat(t,[t[1]]),e))}function Ao(t,e){return t.length<3?mo(t):t[0]+ko(t,To(t,e))}function ko(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mo(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function To(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function So(t){if(t.length<3)return mo(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",Do(Ru,o),",",Do(Ru,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Oo(l,o,s);return t.pop(),l.push("L",r),l.join("")}function Co(t){if(t.length<4)return mo(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(Do(Ru,a)+","+Do(Ru,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Oo(n,a,o);return n.join("")}function Mo(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[Do(Ru,o),",",Do(Ru,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Oo(e,o,s);return e.join("")}function Eo(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return So(t)}function Do(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Oo(t,e,n){t.push("C",Do(ju,e),",",Do(ju,n),",",Do(Lu,e),",",Do(Lu,n),",",Do(Ru,e),",",Do(Ru,n))}function jo(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Lo(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=jo(i,a);++e<n;)r[e]=(o+(o=jo(i=a,a=t[e+1])))/2;return r[e]=o,r}function Ro(t){for(var e,n,r,i,a=[],o=Lo(t),s=-1,l=t.length-1;++s<l;)e=jo(t[s],t[s+1]),ms(e)<Rs?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function Io(t){return t.length<3?mo(t):t[0]+ko(t,Ro(t))}function Po(t){for(var e,n,r,i=-1,a=t.length;++i<a;)e=t[i],n=e[0],r=e[1]-Bs,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Fo(t){function e(e){function l(){g.push("M",s(t(m),d),c,u(t(v.reverse()),d),"Z")}for(var f,h,p,g=[],v=[],m=[],y=-1,x=e.length,b=Se(n),$=Se(i),w=n===r?function(){return h}:Se(r),_=i===a?function(){return p}:Se(a);++y<x;)o.call(this,f=e[y],y)?(v.push([h=+b.call(this,f,y),p=+$.call(this,f,y)]),m.push([+w.call(this,f,y),+_.call(this,f,y)])):v.length&&(l(),v=[],m=[]);return v.length&&l(),g.length?g.join(""):null}var n=Er,r=Er,i=0,a=Dr,o=Dn,s=mo,l=s.key,u=s,c="L",d=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=a=t,e):a},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ou.get(t)||mo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function No(t){return t.radius}function Bo(t){return[t.x,t.y]}function qo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Bs;return[n*Math.cos(r),n*Math.sin(r)]}}function Uo(){return 64}function Vo(){return"circle"}function zo(t){var e=Math.sqrt(t/Ps);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Xo(t,e,n){return ws(t,qu),t.namespace=e,t.id=n,t}function Ho(t,e,n,r){var i=t.id,a=t.namespace;return q(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function Yo(t){return null==t&&(t=""),function(){this.textContent=t}}function Go(t){return null==t?"__transition__":"__transition_"+t+"__"}function Wo(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),o=a[r];if(!o){var s=i.time;o=a[r]={tween:new l,time:s,delay:i.delay,duration:i.duration,ease:i.ease},i=null,++a.count,rs.timer(function(i){function l(n){return a.active>r?c(!1):(a.active=r,o.event&&o.event.start.call(t,h,e),o.tween.forEach(function(n,r){(r=r.call(t,h,e))&&v.push(r)}),f=o.ease,d=o.duration,void rs.timer(function(){return g.c=u(n||1)?Dn:u,1},0,s))}function u(e){if(a.active!==r)return c(!1);for(var n=e/d,i=f(n),o=v.length;o>0;)v[--o].call(t,i);return n>=1?c(!0):void 0}function c(i){return o.event&&o.event[i?"end":"interrupt"].call(t,h,e),--a.count?delete a[r]:delete t[n],1}var d,f,h=t.__data__,p=o.delay,g=ll,v=[];return g.t=p+s,i>=p?l(i-p):void(g.c=l)},0,s)}}function Ko(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Zo(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Jo(t){return t.toISOString()}function Qo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,a=rs.bisect(Ku,i);return a==Ku.length?[e.year,Ga(t.map(function(t){return t/31536e6}),n)[2]]:a?e[i/Ku[a-1]<Ku[a]/i?a-1:a]:[Qu,Ga(t,n)[2]]}return r.invert=function(e){return ts(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ts)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ts(+n+1),e).length}var a=r.domain(),o=Na(a),s=null==t?i(o,10):"number"==typeof t&&i(o,t);return s&&(t=s[0],e=s[1]),r.domain(Ua(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ts(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ts(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Na(r.domain()),a=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],ts(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Qo(t.copy(),e,n)},Ha(r,t)}function ts(t){return new Date(t)}function es(t){return JSON.parse(t.responseText)}function ns(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var rs={version:"3.5.0"};Date.now||(Date.now=function(){return+new Date});var is=[].slice,as=function(t){return is.call(t)},os=document,ss=os.documentElement,ls=window;try{as(ss.childNodes)[0].nodeType}catch(us){as=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{os.createElement("div").style.setProperty("opacity",0,"")}catch(cs){var ds=ls.Element.prototype,fs=ds.setAttribute,hs=ds.setAttributeNS,ps=ls.CSSStyleDeclaration.prototype,gs=ps.setProperty;ds.setAttribute=function(t,e){fs.call(this,t,e+"")},ds.setAttributeNS=function(t,e,n){hs.call(this,t,e,n+"")},ps.setProperty=function(t,e,n){gs.call(this,t,e+"",n)}}rs.ascending=t,rs.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},rs.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},rs.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},rs.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},rs.sum=function(t,e){var n,i=0,a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)r(n=+t[o])&&(i+=n);else for(;++o<a;)r(n=+e.call(t,t[o],o))&&(i+=n);return i},rs.mean=function(t,e){var i,a=0,o=t.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)r(i=n(t[s]))?a+=i:--l;else for(;++s<o;)r(i=n(e.call(t,t[s],s)))?a+=i:--l;return l?a/l:void 0},rs.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},rs.median=function(e,i){var a,o=[],s=e.length,l=-1;if(1===arguments.length)for(;++l<s;)r(a=n(e[l]))&&o.push(a);else for(;++l<s;)r(a=n(i.call(e,e[l],l)))&&o.push(a);return o.length?rs.quantile(o.sort(t),.5):void 0};var vs=i(t);rs.bisectLeft=vs.left,rs.bisect=rs.bisectRight=vs.right,rs.bisector=function(e){return i(1===e.length?function(n,r){return t(e(n),r)}:e)},rs.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,2>a&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},rs.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},rs.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],a=new Array(0>r?0:r);r>n;)a[n]=[e=i,i=t[++n]];return a},rs.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=rs.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},rs.transpose=function(t){return rs.zip.apply(rs,t)},rs.keys=function(t){var e=[];for(var n in t)e.push(n);return e},rs.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},rs.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},rs.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--o]=r[e];return n};var ms=Math.abs;rs.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=o(ms(n)),s=-1;if(t*=a,e*=a,n*=a,0>n)for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},rs.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n};var ys="__proto__",xs="\x00";s(l,{has:d,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:f,keys:h,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:c(e),value:this._[e]});return t},size:p,empty:g,forEach:function(t){for(var e in this._)t.call(this,c(e),this._[e])}}),rs.nest=function(){function t(e,o,s){if(s>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var u,c,d,f,h=-1,p=o.length,g=a[s++],v=new l;++h<p;)(f=v.get(u=g(c=o[h])))?f.push(c):v.set(u,[c]);return e?(c=e(),d=function(n,r){c.set(n,t(e,r,s))}):(c={},d=function(n,r){c[n]=t(e,r,s)}),v.forEach(d),c}function e(t,n){if(n>=a.length)return t;var r=[],i=o[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(rs.map,n,0),0)
},i.key=function(t){return a.push(t),i},i.sortKeys=function(t){return o[a.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},rs.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},s(v,{has:d,add:function(t){return this._[u(t+="")]=!0,t},remove:f,values:h,size:p,empty:g,forEach:function(t){for(var e in this._)t.call(this,c(e))}}),rs.behavior={},rs.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=m(t,e,e[n]);return t};var bs=["webkit","ms","moz","Moz","o","O"];rs.dispatch=function(){for(var t=new b,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=$(t);return t},b.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},rs.event=null,rs.requote=function(t){return t.replace($s,"\\$&")};var $s=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ws={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},_s=function(t,e){return e.querySelector(t)},As=function(t,e){return e.querySelectorAll(t)},ks=ss.matches||ss[y(ss,"matchesSelector")],Ts=function(t,e){return ks.call(t,e)};"function"==typeof Sizzle&&(_s=function(t,e){return Sizzle(t,e)[0]||null},As=Sizzle,Ts=Sizzle.matchesSelector),rs.selection=function(){return Es};var Ss=rs.selection.prototype=[];Ss.select=function(t){var e,n,r,i,a=[];t=T(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return k(a)},Ss.selectAll=function(t){var e,n,r=[];t=S(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(e=as(t.call(n,n.__data__,s,i))),e.parentNode=n);return k(r)};var Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};rs.ns={prefix:Cs,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Cs.hasOwnProperty(n)?{space:Cs[n],local:t}:t}},Ss.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=rs.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},Ss.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=D(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!E(t[i]).test(e))return!1;return!0}for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},Ss.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(L(n,t[n],e));return this}if(2>r)return ls.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(L(t,e,n))},Ss.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Ss.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ss.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ss.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ss.insert=function(t,e){return t=I(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ss.remove=function(){return this.each(P)},Ss.data=function(t,e){function n(t,n){var r,i,a,o=t.length,d=n.length,f=Math.min(o,d),h=new Array(d),p=new Array(d),g=new Array(o);if(e){var v,m=new l,y=new Array(o);for(r=-1;++r<o;)m.has(v=e.call(i=t[r],i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v;for(r=-1;++r<d;)(i=m.get(v=e.call(n,a=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=a):p[r]=F(a),m.set(v,!0);for(r=-1;++r<o;)m.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],a=n[r],i?(i.__data__=a,h[r]=i):p[r]=F(a);for(;d>r;++r)p[r]=F(n[r]);for(;o>r;++r)g[r]=t[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(h),c.push(g)}var r,i,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(t[a]=i.__data__);return t}var s=U([]),u=k([]),c=k([]);if("function"==typeof t)for(;++a<o;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],t);return u.enter=function(){return s},u.exit=function(){return c},u},Ss.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ss.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=N(t));for(var a=0,o=this.length;o>a;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return k(i)},Ss.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Ss.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ss.each=function(t){return q(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Ss.call=function(t){var e=as(arguments);return t.apply(e[0]=this,e),this},Ss.empty=function(){return!this.node()},Ss.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},Ss.size=function(){var t=0;return q(this,function(){++t}),t};var Ms=[];rs.selection.enter=U,rs.selection.enter.prototype=Ms,Ms.append=Ss.append,Ms.empty=Ss.empty,Ms.node=Ss.node,Ms.call=Ss.call,Ms.size=Ss.size,Ms.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(e.push(r[u]=n=t.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return k(o)},Ms.insert=function(t,e){return arguments.length<2&&(e=V(this)),Ss.insert.call(this,t,e)},Ss.transition=function(t){for(var e,n,r=Pu||++Uu,i=Go(t),a=[],o=Fu||{time:Date.now(),ease:Si,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Wo(n,c,i,r,o),e.push(n)}return Xo(a,i,r)},Ss.interrupt=function(t){var e=Go(t);return this.each(function(){var t=this[e];t&&++t.active})},rs.select=function(t){var e=["string"==typeof t?_s(t,os):t];return e.parentNode=ss,k([e])},rs.selectAll=function(t){var e=as("string"==typeof t?As(t,os):t);return e.parentNode=ss,k([e])};var Es=rs.select(ss);Ss.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(X(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(X(t,e,n))};var Ds=rs.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ds.forEach(function(t){"on"+t in os&&Ds.remove(t)});var Os="onselectstart"in os?null:y(ss.style,"userSelect"),js=0;rs.mouse=function(t){return W(t,_())};var Ls=/WebKit/.test(ls.navigator.userAgent)?-1:0;rs.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=_().changedTouches),e)for(var r,i=0,a=e.length;a>i;++i)if((r=e[i]).identifier===n)return W(t,r)},rs.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function e(t,e,i,a,o){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-x[0],n=r[1]-x[1],p|=t|n,x=r,h({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(f,g)&&(m.on(a+v,null).on(o+v,null),y(p&&rs.event.target===d),h({type:"dragend"}))}var u,c=this,d=rs.event.target,f=c.parentNode,h=n.of(c,arguments),p=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=rs.select(i()).on(a+v,s).on(o+v,l),y=G(),x=e(f,g);r?(u=r.apply(c,arguments),u=[u.x-x[0],u.y-x[1]]):u=[0,0],h({type:"dragstart"})}}var n=A(t,"drag","dragstart","dragend"),r=null,i=e(x,rs.mouse,J,"mousemove","mouseup"),a=e(K,rs.touch,Z,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},rs.rebind(t,n,"on")},rs.touches=function(t,e){return arguments.length<2&&(e=_().touches),e?as(e).map(function(e){var n=W(t,e);return n.identifier=e.identifier,n}):[]};var Rs=1e-6,Is=Rs*Rs,Ps=Math.PI,Fs=2*Ps,Ns=Fs-Rs,Bs=Ps/2,qs=Ps/180,Us=180/Ps,Vs=Math.SQRT2,zs=2,Xs=4;rs.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=ie(g),o=a/(zs*f)*(n*ae(Vs*e+g)-re(g));return[r+o*u,i+o*c,a*n/ie(Vs*e+g)]}return[r+t*u,i+t*c,a*Math.exp(Vs*e)]}var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1],l=e[2],u=o-r,c=s-i,d=u*u+c*c,f=Math.sqrt(d),h=(l*l-a*a+Xs*d)/(2*a*zs*f),p=(l*l-a*a-Xs*d)/(2*l*zs*f),g=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p),m=v-g,y=(m||Math.log(l/a))/Vs;return n.duration=1e3*y,n},rs.behavior.zoom=function(){function t(t){t.on(E,c).on(Gs+".zoom",f).on("dblclick.zoom",h).on(j,d)}function e(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function r(t){k.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function a(e,n,a,o){e.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,o)),i(g=n,a),e=rs.select(e),C>0&&(e=e.transition().duration(C)),e.call(t.event)}function o(){b&&b.domain(x.range().map(function(t){return(t-k.x)/k.k}).map(x.invert)),_&&_.domain($.range().map(function(t){return(t-k.y)/k.k}).map($.invert))}function s(t){M++||t({type:"zoomstart"})}function l(t){o(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function u(t){--M||t({type:"zoomend"}),g=null}function c(){function t(){c=1,i(rs.mouse(r),f),l(o)}function n(){d.on(D,null).on(O,null),h(c&&rs.event.target===a),u(o)}var r=this,a=rs.event.target,o=L.of(r,arguments),c=0,d=rs.select(ls).on(D,t).on(O,n),f=e(rs.mouse(r)),h=G();z(r),s(o)}function d(){function t(){var t=rs.touches(p);return h=k.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=e(t))}),t}function n(){var e=rs.event.target;rs.select(e).on(b,o).on($,f),_.push(e);for(var n=rs.event.changedTouches,r=0,i=n.length;i>r;++r)v[n[r].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-y){var u=s[0];a(p,u,v[u.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),w()}y=l}else if(s.length>1){var u=s[0],c=s[1],d=u[0]-c[0],h=u[1]-c[1];m=d*d+h*h}}function o(){var t,e,n,a,o=rs.touches(p);z(p);for(var s=0,u=o.length;u>s;++s,a=null)if(n=o[s],a=v[n.identifier]){if(e)break;t=n,e=a}if(a){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,d=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],r(d*h)}y=null,i(t,e),l(g)}function f(){if(rs.event.touches.length){for(var e=rs.event.changedTouches,n=0,r=e.length;r>n;++n)delete v[e[n].identifier];for(var i in v)return void t()}rs.selectAll(_).on(x,null),A.on(E,c).on(j,d),T(),u(g)}var h,p=this,g=L.of(p,arguments),v={},m=0,x=".zoom-"+rs.event.changedTouches[0].identifier,b="touchmove"+x,$="touchend"+x,_=[],A=rs.select(p),T=G();n(),s(g),A.on(E,null).on(j,n)}function f(){var t=L.of(this,arguments);m?clearTimeout(m):(p=e(g=v||rs.mouse(this)),z(this),s(t)),m=setTimeout(function(){m=null,u(t)},50),w(),r(Math.pow(2,.002*Hs())*k.k),i(g,p),l(t)}function h(){var t=rs.mouse(this),n=Math.log(k.k)/Math.LN2;a(this,t,e(t),rs.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,g,v,m,y,x,b,$,_,k={x:0,y:0,k:1},T=[960,500],S=Ys,C=250,M=0,E="mousedown.zoom",D="mousemove.zoom",O="mouseup.zoom",j="touchstart.zoom",L=A(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=k;Pu?rs.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=g?g[0]:n/2,a=g?g[1]:r/2,o=rs.interpolateZoom([(i-k.x)/k.k,(a-k.y)/k.k,n/k.k],[(i-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var r=o(e),s=n/r[2];this.__chart__=k={x:i-r[0]*s,y:a-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=k,s(t),l(t),u(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},o(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:+e},o(),t):k.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Ys:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.duration=function(e){return arguments.length?(C=+e,t):C},t.x=function(e){return arguments.length?(b=e,x=e.copy(),k={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(_=e,$=e.copy(),k={x:0,y:0,k:1},t):_},rs.rebind(t,L,"on")};var Hs,Ys=[0,1/0],Gs="onwheel"in os?(Hs=function(){return-rs.event.deltaY*(rs.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(Hs=function(){return rs.event.wheelDelta},"mousewheel"):(Hs=function(){return-rs.event.detail},"MozMousePixelScroll");rs.color=se,se.prototype.toString=function(){return this.rgb()+""},rs.hsl=le;var Ws=le.prototype=new se;Ws.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new le(this.h,this.s,this.l/t)},Ws.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new le(this.h,this.s,t*this.l)},Ws.rgb=function(){return ue(this.h,this.s,this.l)},rs.hcl=ce;var Ks=ce.prototype=new se;Ks.brighter=function(t){return new ce(this.h,this.c,Math.min(100,this.l+Zs*(arguments.length?t:1)))},Ks.darker=function(t){return new ce(this.h,this.c,Math.max(0,this.l-Zs*(arguments.length?t:1)))},Ks.rgb=function(){return de(this.h,this.c,this.l).rgb()},rs.lab=fe;var Zs=18,Js=.95047,Qs=1,tl=1.08883,el=fe.prototype=new se;el.brighter=function(t){return new fe(Math.min(100,this.l+Zs*(arguments.length?t:1)),this.a,this.b)},el.darker=function(t){return new fe(Math.max(0,this.l-Zs*(arguments.length?t:1)),this.a,this.b)},el.rgb=function(){return he(this.l,this.a,this.b)},rs.rgb=ye;var nl=ye.prototype=new se;nl.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ye(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ye(i,i,i)},nl.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ye(t*this.r,t*this.g,t*this.b)},nl.hsl=function(){return _e(this.r,this.g,this.b)},nl.toString=function(){return"#"+$e(this.r)+$e(this.g)+$e(this.b)};var rl=rs.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rl.forEach(function(t,e){rl.set(t,xe(e))}),rs.functor=Se,rs.xhr=Me(Ce),rs.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Ee(t,e,null==n?r:i(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?r:i(t)):n},o}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,a={},o={},s=[],u=t.length,c=0,d=0;(r=n())!==o;){for(var f=[];r!==a&&r!==o;)f.push(r),r=n();e&&null==(f=e(f,d++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(o).join(t)].concat(e.map(function(e){return i.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},rs.csv=rs.dsv(",","text/csv"),rs.tsv=rs.dsv("	","text/tab-separated-values");var il,al,ol,sl,ll,ul=ls[y(ls,"requestAnimationFrame")]||function(t){setTimeout(t,17)};rs.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,a={c:t,t:i,f:!1,n:null};al?al.n=a:il=a,al=a,ol||(sl=clearTimeout(sl),ol=1,ul(je))},rs.timer.flush=function(){Le(),Re()},rs.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pe);rs.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=rs.round(t,Ie(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cl[8+n/3]};var dl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fl=rs.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=rs.round(t,Ie(t,e))).toFixed(Math.max(0,Math.min(20,Ie(t*(1+1e-15),e))))}}),hl=rs.time={},pl=Date;Be.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gl.setUTCDate.apply(this._,arguments)},setDay:function(){gl.setUTCDay.apply(this._,arguments)},setFullYear:function(){gl.setUTCFullYear.apply(this._,arguments)},setHours:function(){gl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gl.setUTCSeconds.apply(this._,arguments)},setTime:function(){gl.setTime.apply(this._,arguments)}};var gl=Date.prototype;hl.year=qe(function(t){return t=hl.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),hl.years=hl.year.range,hl.years.utc=hl.year.utc.range,hl.day=qe(function(t){var e=new pl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),hl.days=hl.day.range,hl.days.utc=hl.day.utc.range,hl.dayOfYear=function(t){var e=hl.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=hl[t]=qe(function(t){return(t=hl.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=hl.year(t).getDay();return Math.floor((hl.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});hl[t+"s"]=n.range,hl[t+"s"].utc=n.utc.range,hl[t+"OfYear"]=function(t){var n=hl.year(t).getDay();return Math.floor((hl.dayOfYear(t)+(n+e)%7)/7)}}),hl.week=hl.sunday,hl.weeks=hl.sunday.range,hl.weeks.utc=hl.sunday.utc.range,hl.weekOfYear=hl.sundayOfYear;var vl={"-":"",_:" ",0:"0"},ml=/^\s*\d+/,yl=/^%/;rs.locale=function(t){return{numberFormat:Fe(t),timeFormat:Ve(t)}};var xl=rs.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});rs.format=xl.numberFormat,rs.geo={},dn.prototype={s:0,t:0,add:function(t){fn(t,this.t,bl),fn(bl.s,this.s,this),this.s?this.t+=bl.t:this.s=bl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bl=new dn;rs.geo.stream=function(t,e){t&&$l.hasOwnProperty(t.type)?$l[t.type](t,e):hn(t,e)};var $l={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)hn(n[r].geometry,e)}},wl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],e,0)},Polygon:function(t,e){gn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)hn(n[r],e)}};rs.geo.area=function(t){return _l=0,rs.geo.stream(t,kl),_l};var _l,Al=new dn,kl={sphere:function(){_l+=4*Ps},point:x,lineStart:x,lineEnd:x,polygonStart:function(){Al.reset(),kl.lineStart=vn},polygonEnd:function(){var t=2*Al;_l+=0>t?4*Ps+t:t,kl.lineStart=kl.lineEnd=kl.point=x}};rs.geo.bounds=function(){function t(t,e){x.push(b=[c=t,f=t]),d>e&&(d=e),e>h&&(h=e)}function e(e,n){var r=mn([e*qs,n*qs]);if(m){var i=xn(m,r),a=[i[1],-i[0],0],o=xn(a,i);wn(o),o=_n(o);var l=e-p,u=l>0?1:-1,g=o[0]*Us*u,v=ms(l)>180;if(v^(g>u*p&&u*e>g)){var y=o[1]*Us;y>h&&(h=y)}else if(g=(g+360)%360-180,v^(g>u*p&&u*e>g)){var y=-o[1]*Us;d>y&&(d=y)}else d>n&&(d=n),n>h&&(h=n);v?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);m=r,p=e}function n(){$.point=e}function r(){b[0]=c,b[1]=f,$.point=t,m=null}function i(t,n){if(m){var r=t-p;y+=ms(r)>180?r+(r>0?360:-360):r}else g=t,v=n;kl.point(t,n),e(t,n)}function a(){kl.lineStart()}function o(){i(g,v),kl.lineEnd(),ms(y)>Rs&&(c=-(f=180)),b[0]=c,b[1]=f,m=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,d,f,h,p,g,v,m,y,x,b,$={point:t,lineStart:n,lineEnd:r,polygonStart:function(){$.point=i,$.lineStart=a,$.lineEnd=o,y=0,kl.polygonStart()},polygonEnd:function(){kl.polygonEnd(),$.point=t,$.lineStart=n,$.lineEnd=r,0>Al?(c=-(f=180),d=-(h=90)):y>Rs?h=90:-Rs>y&&(d=-90),b[0]=c,b[1]=f}};return function(t){h=f=-(c=d=1/0),x=[],rs.geo.stream(t,$);var e=x.length;if(e){x.sort(l);for(var n,r=1,i=x[0],a=[i];e>r;++r)n=x[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,p=-1/0,e=a.length-1,r=0,i=a[e];e>=r;i=n,++r)n=a[r],(o=s(i[1],n[0]))>p&&(p=o,c=n[0],f=i[1])}return x=b=null,1/0===c||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[c,d],[f,h]]}}(),rs.geo.centroid=function(t){Tl=Sl=Cl=Ml=El=Dl=Ol=jl=Ll=Rl=Il=0,rs.geo.stream(t,Pl);var e=Ll,n=Rl,r=Il,i=e*e+n*n+r*r;return Is>i&&(e=Dl,n=Ol,r=jl,Rs>Sl&&(e=Cl,n=Ml,r=El),i=e*e+n*n+r*r,Is>i)?[0/0,0/0]:[Math.atan2(n,e)*Us,ne(r/Math.sqrt(i))*Us]};var Tl,Sl,Cl,Ml,El,Dl,Ol,jl,Ll,Rl,Il,Pl={sphere:x,point:kn,lineStart:Sn,lineEnd:Cn,polygonStart:function(){Pl.lineStart=Mn},polygonEnd:function(){Pl.lineStart=Sn}},Fl=Rn(Dn,Nn,qn,[-Ps,-Ps/2]),Nl=1e9;rs.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),i=a(t),i.valid=!0,i},extent:function(s){return arguments.length?(a=Xn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(rs.geo.conicEqualArea=function(){return Hn(Yn)}).raw=Yn,rs.geo.albers=function(){return rs.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},rs.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(r(a,o),e)||i(a,o),e}var e,n,r,i,a=rs.geo.albers(),o=rs.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=rs.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],d=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,r=o.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Rs,d+.12*u+Rs],[c-.214*u-Rs,d+.234*u-Rs]]).stream(l).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Rs,d+.166*u+Rs],[c-.115*u-Rs,d+.234*u-Rs]]).stream(l).point,t},t.scale(1070)};var Bl,ql,Ul,Vl,zl,Xl,Hl={point:x,lineStart:x,lineEnd:x,polygonStart:function(){ql=0,Hl.lineStart=Gn},polygonEnd:function(){Hl.lineStart=Hl.lineEnd=Hl.point=x,Bl+=ms(ql/2)}},Yl={point:Wn,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Gl={point:Jn,lineStart:Qn,lineEnd:tr,polygonStart:function(){Gl.lineStart=er},polygonEnd:function(){Gl.point=Jn,Gl.lineStart=Qn,Gl.lineEnd=tr}};rs.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),rs.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,r,i,a,o,s=4.5;return t.area=function(t){return Bl=0,rs.geo.stream(t,i(Hl)),Bl},t.centroid=function(t){return Cl=Ml=El=Dl=Ol=jl=Ll=Rl=Il=0,rs.geo.stream(t,i(Gl)),Il?[Ll/Il,Rl/Il]:jl?[Dl/jl,Ol/jl]:El?[Cl/El,Ml/El]:[0/0,0/0]},t.bounds=function(t){return zl=Xl=-(Ul=Vl=1/0),rs.geo.stream(t,i(Yl)),[[Ul,Vl],[zl,Xl]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||ir(t):Ce,e()):n},t.context=function(t){return arguments.length?(a=null==(r=t)?new Kn:new nr(t),"function"!=typeof s&&a.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(rs.geo.albersUsa()).context(null)},rs.geo.transform=function(t){return{stream:function(e){var n=new ar(e);for(var r in t)n[r]=t[r];return n}}},ar.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},rs.geo.projection=sr,rs.geo.projectionMutator=lr,(rs.geo.equirectangular=function(){return sr(cr)}).raw=cr.invert=cr,rs.geo.rotation=function(t){function e(e){return e=t(e[0]*qs,e[1]*qs),e[0]*=Us,e[1]*=Us,e}return t=fr(t[0]%360*qs,t[1]*qs,t.length>2?t[2]*qs:0),e.invert=function(e){return e=t.invert(e[0]*qs,e[1]*qs),e[0]*=Us,e[1]*=Us,e},e},dr.invert=cr,rs.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=fr(-t[0]*qs,-t[1]*qs,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Us,t[1]*=Us}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=vr((e=+r)*qs,i*qs),t):e},t.precision=function(r){return arguments.length?(n=vr(e*qs,(i=+r)*qs),t):i},t.angle(90)},rs.geo.distance=function(t,e){var n,r=(e[0]-t[0])*qs,i=t[1]*qs,a=e[1]*qs,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},rs.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return rs.range(Math.ceil(a/v)*v,i,v).map(f).concat(rs.range(Math.ceil(u/m)*m,l,m).map(h)).concat(rs.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ms(t%v)>Rs}).map(c)).concat(rs.range(Math.ceil(s/g)*g,o,g).filter(function(t){return ms(t%m)>Rs}).map(d))}var n,r,i,a,o,s,l,u,c,d,f,h,p=10,g=p,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(a).concat(h(l).slice(1),f(i).reverse().slice(1),h(u).reverse().slice(1))]}
},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],a>i&&(e=a,a=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[a,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[r,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=yr(s,o,90),d=xr(r,n,y),f=yr(u,l,90),h=xr(a,i,y),t):y},t.majorExtent([[-180,-90+Rs],[180,90-Rs]]).minorExtent([[-180,-80-Rs],[180,80+Rs]])},rs.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=br,i=$r;return t.distance=function(){return rs.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},rs.geo.interpolate=function(t,e){return wr(t[0]*qs,t[1]*qs,e[0]*qs,e[1]*qs)},rs.geo.length=function(t){return Wl=0,rs.geo.stream(t,Kl),Wl};var Wl,Kl={sphere:x,point:x,lineStart:_r,lineEnd:x,polygonStart:x,polygonEnd:x},Zl=Ar(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(rs.geo.azimuthalEqualArea=function(){return sr(Zl)}).raw=Zl;var Jl=Ar(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},Ce);(rs.geo.azimuthalEquidistant=function(){return sr(Jl)}).raw=Jl,(rs.geo.conicConformal=function(){return Hn(kr)}).raw=kr,(rs.geo.conicEquidistant=function(){return Hn(Tr)}).raw=Tr;var Ql=Ar(function(t){return 1/t},Math.atan);(rs.geo.gnomonic=function(){return sr(Ql)}).raw=Ql,Sr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Bs]},(rs.geo.mercator=function(){return Cr(Sr)}).raw=Sr;var tu=Ar(function(){return 1},Math.asin);(rs.geo.orthographic=function(){return sr(tu)}).raw=tu;var eu=Ar(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(rs.geo.stereographic=function(){return sr(eu)}).raw=eu,Mr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Bs]},(rs.geo.transverseMercator=function(){var t=Cr(Mr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Mr,rs.geom={},rs.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Se(n),a=Se(r),o=t.length,s=[],l=[];for(e=0;o>e;e++)s.push([+i.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(jr),e=0;o>e;e++)l.push([s[e][0],-s[e][1]]);var u=Or(s),c=Or(l),d=c[0]===u[0],f=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+d;e<c.length-f;++e)h.push(t[s[c[e]][2]]);return h}var n=Er,r=Dr;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},rs.geom.polygon=function(t){return ws(t,nu),t};var nu=rs.geom.polygon.prototype=[];nu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},nu.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},nu.clip=function(t){for(var e,n,r,i,a,o,s=Ir(t),l=-1,u=this.length-Ir(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],Lr(o,c,i)?(Lr(a,c,i)||t.push(Rr(a,o,c,i)),t.push(o)):Lr(a,c,i)&&t.push(Rr(a,o,c,i)),a=o;s&&t.push(t[0]),c=i}return t};var ru,iu,au,ou,su,lu=[],uu=[];zr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Hr),e.length},ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ri.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=si(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ai(this,n),t=n,n=t.U),n.C=!1,r.C=!0,oi(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ai(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?si(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ai(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ai(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,oi(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ai(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,oi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},rs.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return li(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=a&&u.y>=i&&u.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Rs)*Rs,y:Math.round(o(t,e)/Rs)*Rs,i:e}})}var r=Er,i=Dr,a=r,o=i,s=cu;return t?e(t):(e.links=function(t){return li(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return li(n(t)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(Hr),l=-1,u=s.length,c=s[u-1].edge,d=c.l===o?c.r:c.l;++l<u;)i=c,a=d,c=s[l].edge,d=c.l===o?c.r:c.l,r<a.i&&r<d.i&&ci(o,a,d)<0&&e.push([t[r],t[a.i],t[d.i]])}),e},e.x=function(t){return arguments.length?(a=Se(r=t),e):r},e.y=function(t){return arguments.length?(o=Se(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?cu:t,e):s===cu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===cu?null:s&&s[1]},e)};var cu=[[-1e6,-1e6],[1e6,1e6]];rs.geom.delaunay=function(t){return rs.geom.voronoi().triangles(t)},rs.geom.quadtree=function(t,e,n,r,i){function a(t){function a(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ms(l-n)+ms(c-r)<.01)u(t,e,n,r,i,a,o,s);else{var d=t.point;t.x=t.y=t.point=null,u(t,d,l,c,i,a,o,s),u(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,a,o,s)}function u(t,e,n,r,i,o,s,l){var u=.5*(i+s),c=.5*(o+l),d=n>=u,f=r>=c,h=f<<1|d;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=hi()),d?i=u:s=u,f?o=c:l=c,a(t,e,n,r,i,o,s,l)}var c,d,f,h,p,g,v,m,y,x=Se(s),b=Se(l);if(null!=e)g=e,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),d=[],f=[],p=t.length,o)for(h=0;p>h;++h)c=t[h],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),d.push(c.x),f.push(c.y);else for(h=0;p>h;++h){var $=+x(c=t[h],h),w=+b(c,h);g>$&&(g=$),v>w&&(v=w),$>m&&(m=$),w>y&&(y=w),d.push($),f.push(w)}var _=m-g,A=y-v;_>A?y=v+_:m=g+A;var k=hi();if(k.add=function(t){a(k,t,+x(t,++h),+b(t,h),g,v,m,y)},k.visit=function(t){pi(t,k,g,v,m,y)},k.find=function(t){return gi(k,t[0],t[1],g,v,m,y)},h=-1,null==e){for(;++h<p;)a(k,t[h],d[h],f[h],g,v,m,y);--h}else t.forEach(k.add);return d=f=t=c=null,k}var o,s=Er,l=Dr;return(o=arguments.length)?(s=di,l=fi,3===o&&(i=n,r=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),a):null==e?null:[[e,n],[r,i]]},a.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),a):null==e?null:[r-e,i-n]},a)},rs.interpolateRgb=vi,rs.interpolateObject=mi,rs.interpolateNumber=yi,rs.interpolateString=xi;var du=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fu=new RegExp(du.source,"g");rs.interpolate=bi,rs.interpolators=[function(t,e){var n=typeof e;return("string"===n?rl.has(e)||/^(#|rgb\(|hsl\()/.test(e)?vi:xi:e instanceof se?vi:Array.isArray(e)?$i:"object"===n&&isNaN(e)?mi:yi)(t,e)}],rs.interpolateArray=$i;var hu=function(){return Ce},pu=rs.map({linear:hu,poly:Ci,quad:function(){return ki},cubic:function(){return Ti},sin:function(){return Mi},exp:function(){return Ei},circle:function(){return Di},elastic:Oi,back:ji,bounce:function(){return Li}}),gu=rs.map({"in":Ce,out:_i,"in-out":Ai,"out-in":function(t){return Ai(_i(t))}});rs.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=pu.get(n)||hu,r=gu.get(r)||Ce,wi(r(n.apply(null,is.call(arguments,1))))},rs.interpolateHcl=Ri,rs.interpolateHsl=Ii,rs.interpolateLab=Pi,rs.interpolateRound=Fi,rs.transform=function(t){var e=os.createElementNS(rs.ns.prefix.svg,"g");return(rs.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ni(n?n.matrix:vu)})(t)},Ni.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vu={a:1,b:0,c:0,d:1,e:0,f:0};rs.interpolateTransform=Vi,rs.layout={},rs.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Hi(t[n]));return e}},rs.layout.chord=function(){function t(){var t,u,d,f,h,p={},g=[],v=rs.range(a),m=[];for(n=[],r=[],t=0,f=-1;++f<a;){for(u=0,h=-1;++h<a;)u+=i[f][h];g.push(u),m.push(rs.range(a)),t+=u}for(o&&v.sort(function(t,e){return o(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Fs-c*a)/t,u=0,f=-1;++f<a;){for(d=u,h=-1;++h<a;){var y=v[f],x=m[y][h],b=i[y][x],$=u,w=u+=b*t;p[y+"-"+x]={index:y,subindex:x,startAngle:$,endAngle:w,value:b}}r[y]={index:y,startAngle:d,endAngle:u,value:(u-d)/t},u+=c}for(f=-1;++f<a;)for(h=f-1;++h<a;){var _=p[f+"-"+h],A=p[h+"-"+f];(_.value||A.value)&&n.push(_.value<A.value?{source:A,target:_}:{source:_,target:A})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=r=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},rs.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(l>s*s/v){if(p>l){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=rs.event.x,t.py=rs.event.y,s.resume()}var n,r,i,a,o,s={},l=rs.dispatch("start","tick","end"),u=[1,1],c=.9,d=mu,f=yu,h=-30,p=xu,g=.1,v=.64,m=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,d,f,p,v,x,b,$=m.length,w=y.length;for(n=0;w>n;++n)s=y[n],d=s.source,f=s.target,x=f.x-d.x,b=f.y-d.y,(p=x*x+b*b)&&(p=r*a[n]*((p=Math.sqrt(p))-i[n])/p,x*=p,b*=p,f.x-=x*(v=d.weight/(f.weight+d.weight)),f.y-=b*v,d.x+=x*(v=1-v),d.y+=b*v);if((v=r*g)&&(x=u[0]/2,b=u[1]/2,n=-1,v))for(;++n<$;)s=m[n],s.x+=(x-s.x)*v,s.y+=(b-s.y)*v;if(h)for(Qi(e=rs.geom.quadtree(m),r,o),n=-1;++n<$;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<$;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),rs.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,o=n[e],s=-1,u=o.length;++s<u;)if(!isNaN(a=o[s][t]))return a;return Math.random()*r}var e,n,r,l=m.length,c=y.length,p=u[0],g=u[1];for(e=0;l>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(e=0;c>e;++e)i[e]=+d.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=d;if(a=[],"function"==typeof f)for(e=0;c>e;++e)a[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)a[e]=f;if(o=[],"function"==typeof h)for(e=0;l>e;++e)o[e]=+h.call(this,m[e],e);else for(e=0;l>e;++e)o[e]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=rs.behavior.drag().origin(Ce).on("dragstart.force",Wi).on("drag.force",e).on("dragend.force",Ki)),arguments.length?void this.on("mouseover.force",Zi).on("mouseout.force",Ji).call(n):n},rs.rebind(s,l,"on")};var mu=20,yu=1,xu=1/0;rs.layout.hierarchy=function(){function t(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;r&&(a.value=0),a.children=u}else r&&(a.value=+r.call(t,a,a.depth)||0),delete a.children;return na(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=aa,n=ra,r=ia;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ea(e,function(t){t.children&&(t.value=0)}),na(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},rs.layout.partition=function(){function t(e,n,r,i){var a=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(r=e.value?r/e.value:0;++u<o;)t(s=a[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,e(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return t(o[0],0,i[0],i[1]/e(o[0])),o}var r=rs.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},ta(n,r)},rs.layout.pie=function(){function t(o){var s,l=o.length,u=o.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),h=f*(0>d?-1:1),p=(d-l*h)/rs.sum(u),g=rs.range(l),v=[];return null!=n&&g.sort(n===bu?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),g.forEach(function(t){v[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*p+h,padAngle:f}}),v}var e=Number,n=bu,r=0,i=Fs,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var bu={};rs.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,c,l);u=rs.permute(u,d),c=rs.permute(c,d);var f,h,p,g,v=r.call(t,c,l),m=u[0].length;for(p=0;m>p;++p)for(i.call(t,u[0][p],g=v[p],c[0][p][1]),h=1;f>h;++h)i.call(t,u[h][p],g+=c[h-1][p][1],c[h][p][1]);return s}var e=Ce,n=ca,r=da,i=ua,a=sa,o=la;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:$u.get(e)||ca,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:wu.get(e)||da,t):r},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(i=e,t):i},t};var $u=rs.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(fa),a=t.map(ha),o=rs.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=o[e],l>s?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return rs.range(t.length).reverse()},"default":ca}),wu=rs.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;a>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;a>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,u,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=u=0,n=1;f>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,a=0,s=d[n][0]-d[n-1][0];c>e;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}h[n]=l-=i?a/i*s:0,u>l&&(u=l)}for(n=0;f>n;++n)h[n]-=u;return h},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;a>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:da});rs.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=r.call(this,u,a),d=i.call(this,c,u,a),a=-1,f=u.length,h=d.length-1,p=e?1:1/f;++a<h;)o=l[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(h>0)for(a=-1;++a<f;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[rs.bisect(d,s,1,h)-1],o.y+=p,o.push(t[a]));return l}var e=!0,n=Number,r=ma,i=ga;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Se(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return va(t,e)}:Se(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},rs.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,na(s,function(t){t.r=+c(t.value)}),na(s,wa),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;na(s,function(t){t.r+=d}),na(s,wa),na(s,function(t){t.r-=d})}return ka(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=rs.layout.hierarchy().sort(ya),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},ta(t,n)},rs.layout.tree=function(){function t(t,i){var c=o.call(this,t,i),d=c[0],f=e(d);if(na(f,n),f.parent.m=-f.z,ea(f,r),u)ea(d,a);else{var h=d,p=d,g=d;ea(d,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var v=s(h,p)/2-h.x,m=l[0]/(p.x+s(p,h)/2+v),y=l[1]/(g.depth||1);ea(d,function(t){t.x=(t.x+v)*m,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;s>o;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Da(t);var a=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-a):t.z=a}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,a=t,o=e,l=i.parent.children[0],u=i.m,c=a.m,d=o.m,f=l.m;o=Ma(o),i=Ca(i),o&&i;)l=Ca(l),a=Ma(a),a.a=t,r=o.z+d-i.z-u+s(o._,i._),r>0&&(Ea(Oa(o,t,n),t,r),u+=r,c+=r),d+=o.m,u+=i.m,f+=l.m,c+=a.m;o&&!Ma(a)&&(a.t=o,a.m+=d-c),i&&!Ca(l)&&(l.t=i,l.m+=u-f,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=rs.layout.hierarchy().sort(null).value(null),s=Sa,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},ta(t,o)},rs.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;na(l,function(t){var e=t.children;e&&e.length?(t.x=La(e),t.y=ja(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=Ra(l),d=Ia(l),f=c.x-n(c,d)/2,h=d.x+n(d,c)/2;return na(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(h-f)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=rs.layout.hierarchy().sort(null).value(null),n=Sa,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},ta(t,e)},rs.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=d(n),c=[],f=a.slice(),p=1/0,g="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(o=f[l-1]),c.area+=o.area,"squarify"!==h||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var a,o=d(e),s=r.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*a*p)):1/0}function i(t,e,n,r){var i,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)i=t[a],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)i=t[a],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(r){var i=o||s(r),a=i[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),f&&(o=i),i}var o,s=rs.layout.hierarchy(),l=Math.round,u=[1,1],c=null,d=Pa,f=!1,h="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Pa(e):Fa(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Fa(e,t)}if(!arguments.length)return c;var r;return d=null==(c=t)?Pa:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(f=t,o=null,a):f},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(h=t+"",a):h},ta(a,s)},rs.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=rs.random.normal.apply(rs,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=rs.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},rs.scale={};var _u={floor:Ce,ceil:Ce};rs.scale.linear=function(){return Xa([0,1],[0,1],bi,!1)};var Au={s:1,g:1,p:1,r:1,e:1};rs.scale.log=function(){return Qa(rs.scale.linear().domain([0,1]),10,!0,[1,10])};var ku=rs.format(".0e"),Tu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};rs.scale.pow=function(){return to(rs.scale.linear(),1,[0,1])},rs.scale.sqrt=function(){return rs.scale.pow().exponent(.5)},rs.scale.ordinal=function(){return no([],{t:"range",a:[[]]})},rs.scale.category10=function(){return rs.scale.ordinal().range(Su)},rs.scale.category20=function(){return rs.scale.ordinal().range(Cu)},rs.scale.category20b=function(){return rs.scale.ordinal().range(Mu)},rs.scale.category20c=function(){return rs.scale.ordinal().range(Eu)};var Su=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),Cu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Mu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Eu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);rs.scale.quantile=function(){return ro([],[])},rs.scale.quantize=function(){return io(0,1,[0,1])},rs.scale.threshold=function(){return ao([.5],[0,1])},rs.scale.identity=function(){return oo([0,1])},rs.svg={},rs.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=o.apply(this,arguments)-Bs,d=s.apply(this,arguments)-Bs,f=Math.abs(d-c),h=c>d?0:1;if(t>u&&(p=u,u=t,t=p),f>=Ns)return e(u,h)+(t?e(t,1-h):"")+"Z";var p,g,v,m,y,x,b,$,w,_,A,k,T=0,S=0,C=[];if((m=(+l.apply(this,arguments)||0)/2)&&(v=a===Du?Math.sqrt(t*t+u*u):+a.apply(this,arguments),h||(S*=-1),u&&(S=ne(v/u*Math.sin(m))),t&&(T=ne(v/t*Math.sin(m)))),u){y=u*Math.cos(c+S),x=u*Math.sin(c+S),b=u*Math.cos(d-S),$=u*Math.sin(d-S);var M=Math.abs(d-c-2*S)<=Ps?0:1;if(S&&po(y,x,b,$)===h^M){var E=(c+d)/2;y=u*Math.cos(E),x=u*Math.sin(E),b=$=null}}else y=x=0;if(t){w=t*Math.cos(d-T),_=t*Math.sin(d-T),A=t*Math.cos(c+T),k=t*Math.sin(c+T);var D=Math.abs(c-d+2*T)<=Ps?0:1;if(T&&po(w,_,A,k)===1-h^D){var O=(c+d)/2;w=t*Math.cos(O),_=t*Math.sin(O),A=k=null}}else w=_=0;if((p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=u>t^h?0:1;var j=null==A?[w,_]:null==b?[y,x]:Rr([y,x],[A,k],[b,$],[w,_]),L=y-j[0],R=x-j[1],I=b-j[0],P=$-j[1],F=1/Math.sin(Math.acos((L*I+R*P)/(Math.sqrt(L*L+R*R)*Math.sqrt(I*I+P*P)))/2),N=Math.sqrt(j[0]*j[0]+j[1]*j[1]);if(null!=b){var B=Math.min(p,(u-N)/(F+1)),q=go(null==A?[w,_]:[A,k],[y,x],u,B,h),U=go([b,$],[w,_],u,B,h);p===B?C.push("M",q[0],"A",B,",",B," 0 0,",g," ",q[1],"A",u,",",u," 0 ",1-h^po(q[1][0],q[1][1],U[1][0],U[1][1]),",",h," ",U[1],"A",B,",",B," 0 0,",g," ",U[0]):C.push("M",q[0],"A",B,",",B," 0 1,",g," ",U[0])}else C.push("M",y,",",x);if(null!=A){var V=Math.min(p,(t-N)/(F-1)),z=go([y,x],[A,k],t,-V,h),X=go([w,_],null==b?[y,x]:[b,$],t,-V,h);p===V?C.push("L",X[0],"A",V,",",V," 0 0,",g," ",X[1],"A",t,",",t," 0 ",h^po(X[1][0],X[1][1],z[1][0],z[1][1]),",",1-h," ",z[1],"A",V,",",V," 0 0,",g," ",z[0]):C.push("L",X[0],"A",V,",",V," 0 0,",g," ",z[0])}else C.push("L",w,",",_)}else C.push("M",y,",",x),null!=b&&C.push("A",u,",",u," 0 ",M,",",h," ",b,",",$),C.push("L",w,",",_),null!=A&&C.push("A",t,",",t," 0 ",D,",",1-h," ",A,",",k);return C.push("Z"),C.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=lo,r=uo,i=so,a=Du,o=co,s=fo,l=ho;return t.innerRadius=function(e){return arguments.length?(n=Se(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Se(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Se(e),t):i},t.padRadius=function(e){return arguments.length?(a=e==Du?Du:Se(e),t):a},t.startAngle=function(e){return arguments.length?(o=Se(e),t):o},t.endAngle=function(e){return arguments.length?(s=Se(e),t):s},t.padAngle=function(e){return arguments.length?(l=Se(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Bs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Du="auto";rs.svg.line=function(){return vo(Ce)};var Ou=rs.map({linear:mo,"linear-closed":yo,step:xo,"step-before":bo,"step-after":$o,basis:So,"basis-open":Co,"basis-closed":Mo,bundle:Eo,cardinal:Ao,"cardinal-open":wo,"cardinal-closed":_o,monotone:Io});Ou.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var ju=[0,2/3,1/3,0],Lu=[0,1/3,2/3,0],Ru=[0,1/6,2/3,1/6];rs.svg.line.radial=function(){var t=vo(Po);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},bo.reverse=$o,$o.reverse=bo,rs.svg.area=function(){return Fo(Ce)},rs.svg.area.radial=function(){var t=Fo(Po);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},rs.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),a=s.call(t,i,r),o=l.call(t,i,r)-Bs,c=u.call(t,i,r)-Bs;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ps)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var a=br,o=$r,s=No,l=co,u=fo;return t.radius=function(e){return arguments.length?(s=Se(e),t):s},t.source=function(e){return arguments.length?(a=Se(e),t):a},t.target=function(e){return arguments.length?(o=Se(e),t):o},t.startAngle=function(e){return arguments.length?(l=Se(e),t):l},t.endAngle=function(e){return arguments.length?(u=Se(e),t):u},t},rs.svg.diagonal=function(){function t(t,i){var a=e.call(this,t,i),o=n.call(this,t,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=br,n=$r,r=Bo;return t.source=function(n){return arguments.length?(e=Se(n),t):e},t.target=function(e){return arguments.length?(n=Se(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},rs.svg.diagonal.radial=function(){var t=rs.svg.diagonal(),e=Bo,n=t.projection;return t.projection=function(t){return arguments.length?n(qo(e=t)):e},t},rs.svg.symbol=function(){function t(t,r){return(Iu.get(e.call(this,t,r))||zo)(n.call(this,t,r))}var e=Vo,n=Uo;return t.type=function(n){return arguments.length?(e=Se(n),t):e},t.size=function(e){return arguments.length?(n=Se(e),t):n},t};var Iu=rs.map({circle:zo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Bu)),n=e*Bu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Nu),n=e*Nu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});rs.svg.symbolTypes=Iu.keys();var Pu,Fu,Nu=Math.sqrt(3),Bu=Math.tan(30*qs),qu=[],Uu=0;
qu.call=Ss.call,qu.empty=Ss.empty,qu.node=Ss.node,qu.size=Ss.size,rs.transition=function(t){return arguments.length?Pu?t.transition():t:Es.transition()},rs.transition.prototype=qu,qu.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=T(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Wo(n,c,a,i,r[a][i]),e.push(n)):e.push(null)}return Xo(o,a,i)},qu.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=S(t);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],f=-1,h=d.length;++f<h;)if(r=d[f]){a=r[s][o],n=t.call(r,r.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Wo(i,p,s,o,a),e.push(i)}return Xo(l,s,o)},qu.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=N(t));for(var a=0,o=this.length;o>a;a++){i.push(e=[]);for(var n=this[a],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return Xo(i,this.namespace,this.id)},qu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):q(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},qu.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Vi:bi,s=rs.ns.qualify(t);return Ho(this,"attr."+t,e,s.local?a:i)},qu.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=rs.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},qu.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=ls.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=bi(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Ho(this,"style."+t,e,i)},qu.styleTween=function(t,e,n){function r(r,i){var a=e.call(this,r,i,ls.getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},qu.text=function(t){return Ho(this,"text",t,Yo)},qu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},qu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=rs.ease.apply(rs,arguments)),q(this,function(r){r[n][e].ease=t}))},qu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:q(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},qu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:q(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},qu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Fu,a=Pu;Pu=n,q(this,function(e,i,a){Fu=e[r][n],t.call(e,e.__data__,i,a)}),Fu=i,Pu=a}else q(this,function(i){var a=i[r][n];(a.event||(a.event=rs.dispatch("start","end","interrupt"))).on(t,e)});return this},qu.transition=function(){for(var t,e,n,r,i=this.id,a=++Uu,o=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,d=e.length;d>c;c++)(n=e[c])&&(r=n[o][i],Wo(n,c,o,a,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Xo(s,o,a)},rs.svg.axis=function(){function t(t){t.each(function(){var t,u=rs.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==e?d.tickFormat?d.tickFormat.apply(d,s):Ce:e,p=u.selectAll(".tick").data(f,d),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Rs),v=rs.transition(p.exit()).style("opacity",Rs).remove(),m=rs.transition(p.order()).style("opacity",1),y=Math.max(i,0)+o,x=Ba(d),b=u.selectAll(".domain").data([0]),$=(b.enter().append("path").attr("class","domain"),rs.transition(b));g.append("line"),g.append("text");var w,_,A,k,T=g.select("line"),S=m.select("line"),C=p.select("text").text(h),M=g.select("text"),E=m.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ko,w="x",A="y",_="x2",k="y2",C.attr("dy",0>D?"0em":".71em").style("text-anchor","middle"),$.attr("d","M"+x[0]+","+D*a+"V0H"+x[1]+"V"+D*a)):(t=Zo,w="y",A="x",_="y2",k="x2",C.attr("dy",".32em").style("text-anchor",0>D?"end":"start"),$.attr("d","M"+D*a+","+x[0]+"H0V"+x[1]+"H"+D*a)),T.attr(k,D*i),M.attr(A,D*y),S.attr(_,0).attr(k,D*i),E.attr(w,0).attr(A,D*y),d.rangeBand){var O=d,j=O.rangeBand()/2;c=d=function(t){return O(t)+j}}else c.rangeBand?c=d:v.call(t,d,c);g.call(t,c,d),m.call(t,d,d)})}var e,n=rs.scale.linear(),r=Vu,i=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in zu?e+"":Vu,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,a=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Vu="bottom",zu={top:1,right:1,bottom:1,left:1};rs.svg.brush=function(){function t(a){a.each(function(){var a=rs.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(p,Ce);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Xu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,d=rs.transition(a),f=rs.transition(o);l&&(c=Ba(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(d)),u&&(c=Ba(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(d)),e(d)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function i(){function i(){32==rs.event.keyCode&&(C||(y=null,E[0]-=c[1],E[1]-=d[1],C=2),w())}function p(){32==rs.event.keyCode&&2==C&&(E[0]+=c[1],E[1]+=d[1],C=0,w())}function g(){var t=rs.mouse(b),i=!1;x&&(t[0]+=x[0],t[1]+=x[1]),C||(rs.event.altKey?(y||(y=[(c[0]+c[1])/2,(d[0]+d[1])/2]),E[0]=c[+(t[0]<y[0])],E[1]=d[+(t[1]<y[1])]):y=null),T&&v(t,l,0)&&(n(A),i=!0),S&&v(t,u,1)&&(r(A),i=!0),i&&(e(A),_({type:"brush",mode:C?"move":"resize"}))}function v(t,e,n){var r,i,s=Ba(e),l=s[0],u=s[1],p=E[n],g=n?d:c,v=g[1]-g[0];return C&&(l-=p,u-=v+p),r=(n?h:f)?Math.max(l,Math.min(u,t[n])):t[n],C?i=(r+=p)+v:(y&&(p=Math.max(l,Math.min(u,2*y[n]-r))),r>p?(i=r,r=p):i=p),g[0]!=r||g[1]!=i?(n?o=null:a=null,g[0]=r,g[1]=i,!0):void 0}function m(){g(),A.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),rs.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),_({type:"brushend"})}var y,x,b=this,$=rs.select(rs.event.target),_=s.of(b,arguments),A=rs.select(b),k=$.datum(),T=!/^(n|s)$/.test(k)&&l,S=!/^(e|w)$/.test(k)&&u,C=$.classed("extent"),M=G(),E=rs.mouse(b),D=rs.select(ls).on("keydown.brush",i).on("keyup.brush",p);if(rs.event.changedTouches?D.on("touchmove.brush",g).on("touchend.brush",m):D.on("mousemove.brush",g).on("mouseup.brush",m),A.interrupt().selectAll("*").interrupt(),C)E[0]=c[0]-E[0],E[1]=d[0]-E[1];else if(k){var O=+/w$/.test(k),j=+/^n/.test(k);x=[c[1-O]-E[0],d[1-j]-E[1]],E[0]=c[O],E[1]=d[j]}else rs.event.altKey&&(y=E.slice());A.style("pointer-events","none").selectAll(".resize").style("display",null),rs.select("body").style("cursor",$.style("cursor")),_({type:"brushstart"}),g()}var a,o,s=A(t,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],d=[0,0],f=!0,h=!0,p=Hu[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:d,i:a,j:o},n=this.__chart__||e;this.__chart__=e,Pu?rs.select(this).transition().each("start.brush",function(){a=n.i,o=n.j,c=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=$i(c,e.x),r=$i(d,e.y);return a=o=null,function(i){c=e.x=n(i),d=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,o=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Hu[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Hu[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(f=!!e[0],h=!!e[1]):l?f=!!e:u&&(h=!!e),t):l&&u?[f,h]:l?f:u?h:null},t.extent=function(e){var n,r,i,s,f;return arguments.length?(l&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(f=n,n=r,r=f),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(i=e[0],s=e[1],l&&(i=i[1],s=s[1]),o=[i,s],u.invert&&(i=u(i),s=u(s)),i>s&&(f=i,i=s,s=f),(i!=d[0]||s!=d[1])&&(d=[i,s])),t):(l&&(a?(n=a[0],r=a[1]):(n=c[0],r=c[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(f=n,n=r,r=f))),u&&(o?(i=o[0],s=o[1]):(i=d[0],s=d[1],u.invert&&(i=u.invert(i),s=u.invert(s)),i>s&&(f=i,i=s,s=f))),l&&u?[[n,i],[r,s]]:l?[n,r]:u&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],a=o=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!u&&d[0]==d[1]},rs.rebind(t,s,"on")};var Xu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Hu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Yu=hl.format=xl.timeFormat,Gu=Yu.utc,Wu=Gu("%Y-%m-%dT%H:%M:%S.%LZ");Yu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Wu,Jo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Jo.toString=Wu.toString,hl.second=qe(function(t){return new pl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),hl.seconds=hl.second.range,hl.seconds.utc=hl.second.utc.range,hl.minute=qe(function(t){return new pl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),hl.minutes=hl.minute.range,hl.minutes.utc=hl.minute.utc.range,hl.hour=qe(function(t){var e=t.getTimezoneOffset()/60;return new pl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),hl.hours=hl.hour.range,hl.hours.utc=hl.hour.utc.range,hl.month=qe(function(t){return t=hl.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),hl.months=hl.month.range,hl.months.utc=hl.month.utc.range;var Ku=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zu=[[hl.second,1],[hl.second,5],[hl.second,15],[hl.second,30],[hl.minute,1],[hl.minute,5],[hl.minute,15],[hl.minute,30],[hl.hour,1],[hl.hour,3],[hl.hour,6],[hl.hour,12],[hl.day,1],[hl.day,2],[hl.week,1],[hl.month,1],[hl.month,3],[hl.year,1]],Ju=Yu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Dn]]),Qu={range:function(t,e,n){return rs.range(Math.ceil(t/n)*n,+e,n).map(ts)},floor:Ce,ceil:Ce};Zu.year=hl.year,hl.scale=function(){return Qo(rs.scale.linear(),Zu,Ju)};var tc=Zu.map(function(t){return[t[0].utc,t[1]]}),ec=Gu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Dn]]);tc.year=hl.year.utc,hl.scale.utc=function(){return Qo(rs.scale.linear(),tc,ec)},rs.text=Me(function(t){return t.responseText}),rs.json=function(t,e){return Ee(t,"application/json",es,e)},rs.html=function(t,e){return Ee(t,"text/html",ns,e)},rs.xml=Me(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(rs):"object"==typeof e&&e.exports&&(e.exports=rs),this.d3=rs}()},{}],10:[function(){!function(t,e){"use strict";return"function"==typeof define&&define.amd?void define(["angular"],function(t){return e(t)}):e(t)}(angular||null,function(t){"use strict";var e=t.module("ngTable",[]);return e.value("ngTableDefaults",{params:{},settings:{}}),e.factory("NgTableParams",["$q","$log","ngTableDefaults",function(e,n,r){var i=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},a=function(a,o){var s=this,l=function(){c.debugMode&&n.debug&&n.debug.apply(this,arguments)};this.data=[],this.parameters=function(e,n){if(n=n||!1,t.isDefined(e)){for(var r in e){var a=e[r];if(n&&r.indexOf("[")>=0){for(var o=r.split(/\[(.*)\]/).reverse(),s="",c=0,d=o.length;d>c;c++){var f=o[c];if(""!==f){var h=a;a={},a[s=f]=i(h)?parseFloat(h):h}}"sorting"===s&&(u[s]={}),u[s]=t.extend(u[s]||{},a[s])}else u[r]=i(e[r])?parseFloat(e[r]):e[r]}return l("ngTable: set parameters",u),this}return u},this.settings=function(e){return t.isDefined(e)?(t.isArray(e.data)&&(e.total=e.data.length),c=t.extend(c,e),l("ngTable: set settings",c),this):c},this.page=function(e){return t.isDefined(e)?this.parameters({page:e}):u.page},this.total=function(e){return t.isDefined(e)?this.settings({total:e}):c.total},this.count=function(e){return t.isDefined(e)?this.parameters({count:e,page:1}):u.count},this.filter=function(e){return t.isDefined(e)?this.parameters({filter:e,page:1}):u.filter},this.sorting=function(e){if(2==arguments.length){var n={};return n[e]=arguments[1],this.parameters({sorting:n}),this}return t.isDefined(e)?this.parameters({sorting:e}):u.sorting},this.isSortBy=function(e,n){return t.isDefined(u.sorting[e])&&t.equals(u.sorting[e],n)},this.orderBy=function(){var t=[];for(var e in u.sorting)t.push(("asc"===u.sorting[e]?"+":"-")+e);return t},this.getData=function(e,n){return e.resolve(t.isArray(this.data)&&t.isObject(n)?this.data.slice((n.page()-1)*n.count(),n.page()*n.count()):[]),e.promise},this.getGroups=function(n,r){var i=e.defer();return i.promise.then(function(e){var i={};t.forEach(e,function(e){var n=t.isFunction(r)?r(e):e[r];i[n]=i[n]||{data:[]},i[n].value=n,i[n].data.push(e)});var a=[];for(var o in i)a.push(i[o]);l("ngTable: refresh groups",a),n.resolve(a)}),this.getData(i,s)},this.generatePagesArray=function(t,e,n){var r,i,a,o,s,l;if(r=11,l=[],s=Math.ceil(e/n),s>1){l.push({type:"prev",number:Math.max(1,t-1),active:t>1}),l.push({type:"first",number:1,active:t>1,current:1===t}),a=Math.round((r-5)/2),o=Math.max(2,t-a),i=Math.min(s-1,t+2*a-(t-o)),o=Math.max(2,o-(2*a-(i-o)));for(var u=o;i>=u;)l.push(u===o&&2!==u||u===i&&u!==s-1?{type:"more",active:!1}:{type:"page",number:u,active:t!==u,current:t===u}),u++;l.push({type:"last",number:s,active:t!==s,current:t===s}),l.push({type:"next",number:Math.min(s,t+1),active:s>t})}return l},this.url=function(e){e=e||!1;var n=e?[]:{};for(var r in u)if(u.hasOwnProperty(r)){var i=u[r],a=encodeURIComponent(r);if("object"==typeof i){for(var o in i)if(!t.isUndefined(i[o])&&""!==i[o]){var s=a+"["+encodeURIComponent(o)+"]";e?n.push(s+"="+i[o]):n[s]=i[o]}}else t.isFunction(i)||t.isUndefined(i)||""===i||(e?n.push(a+"="+encodeURIComponent(i)):n[a]=encodeURIComponent(i))}return n},this.reload=function(){var t=e.defer(),n=this,r=null;return c.$scope?(c.$loading=!0,r=c.groupBy?c.getGroups(t,c.groupBy,this):c.getData(t,this),l("ngTable: reload data"),r||(r=t.promise),r.then(function(t){return c.$loading=!1,l("ngTable: current scope",c.$scope),c.groupBy?(n.data=t,c.$scope&&(c.$scope.$groups=t)):(n.data=t,c.$scope&&(c.$scope.$data=t)),c.$scope&&(c.$scope.pages=n.generatePagesArray(n.page(),n.total(),n.count())),c.$scope.$emit("ngTableAfterReloadData"),t})):void 0},this.reloadPages=function(){var t=this;c.$scope.pages=t.generatePagesArray(t.page(),t.total(),t.count())};var u=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};t.extend(u,r.params);var c={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],sortingIndicator:"span",getGroups:this.getGroups,getData:this.getData};return t.extend(c,r.settings),this.settings(o),this.parameters(a,!0),this};return a}]),e.factory("ngTableParams",["NgTableParams",function(t){return t}]),e.controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn",function(e,n,r,i,a,o,s,l){function u(){e.params.$params.page=1}var c=!0;e.$filterRow={},e.$loading=!1,e.hasOwnProperty("params")||(e.params=new n,e.params.isNullInstance=!0),e.params.settings().$scope=e;var d=function(){var t=0;return function(e,n){r.cancel(t),t=r(e,n)}}();e.$watch("params.$params",function(n,r){if(n!==r){if(e.params.settings().$scope=e,t.equals(n.filter,r.filter))e.params.reload();else{var i=c?t.noop:u;d(function(){i(),e.params.reload()},e.params.settings().filterDelay)}e.params.isNullInstance||(c=!1)}},!0),this.compileDirectiveTemplates=function(){if(!s.hasClass("ng-table")){e.templates={header:o.templateHeader?o.templateHeader:"ng-table/header.html",pagination:o.templatePagination?o.templatePagination:"ng-table/pager.html"},s.addClass("ng-table");var n=null;0===s.find("> thead").length&&(n=t.element(document.createElement("thead")).attr("ng-include","templates.header"),s.prepend(n));var r=t.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});s.after(r),n&&a(n)(e),a(r)(e)}},this.loadFilterData=function(n){t.forEach(n,function(n){var r;return r=n.filterData(e,{$column:n}),r?t.isObject(r)&&t.isObject(r.promise)?(delete n.filterData,r.promise.then(function(e){t.isArray(e)||t.isFunction(e)||t.isObject(e)?t.isArray(e)&&e.unshift({title:"-",id:""}):e=[],n.data=e})):n.data=r:void delete n.filterData})},this.buildColumns=function(t){return t.map(function(t){return l.buildColumn(t,e)})},this.setupBindingsToInternalScope=function(n){var r=i(n);e.$watch(r,function(n){t.isUndefined(n)||(e.paramsModel=r,e.params=n)},!1),o.showFilter&&e.$parent.$watch(o.showFilter,function(t){e.show_filter=t}),o.disableFilter&&e.$parent.$watch(o.disableFilter,function(t){e.$filterRow.disabled=t})},e.sortBy=function(t,n){var r=t.sortable&&t.sortable();if(r){var i=e.params.settings().defaultSort,a="asc"===i?"desc":"asc",o=e.params.sorting()&&e.params.sorting()[r]&&e.params.sorting()[r]===i,s=n.ctrlKey||n.metaKey?e.params.sorting():{};s[r]=o?a:i,e.params.parameters({sorting:s})}}}]),e.factory("ngTableColumn",[function(){function e(e,r){var i=Object.create(e);for(var a in n)void 0===i[a]&&(i[a]=n[a]),t.isFunction(i[a])||!function(t){i[t]=function(){return e[t]}}(a),function(t){var n=i[t];i[t]=function(){return 0===arguments.length?n.call(e,r):n.apply(e,arguments)}}(a);return i}var n={"class":function(){return""},filter:function(){return!1},filterData:t.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return" "},sortable:function(){return!1},show:function(){return!0},title:function(){return" "},titleAlt:function(){return""}};return{buildColumn:e}}]),e.directive("ngTable",["$q","$parse",function(e,n){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(e){var r=[],i=0,a=null;return t.forEach(t.element(e.find("tr")),function(e){e=t.element(e),e.hasClass("ng-table-group")||a||(a=e)}),a?(t.forEach(a.find("td"),function(e){var a=t.element(e);if(!a.attr("ignore-cell")||"true"!==a.attr("ignore-cell")){var o=function(t){return a.attr("x-data-"+t)||a.attr("data-"+t)||a.attr(t)},s=function(e){var i=o(e);return i?function(e,a){return n(i)(e,t.extend(a||{},{$columns:r}))}:void 0},l=o("title-alt")||o("title");l&&a.attr("data-title-text","{{"+l+"}}"),r.push({id:i++,title:s("title"),titleAlt:s("title-alt"),headerTitle:s("header-title"),sortable:s("sortable"),"class":s("header-class"),filter:s("filter"),headerTemplateURL:s("header"),filterData:s("filter-data"),show:a.attr("ng-show")?function(t){return n(a.attr("ng-show"))(t)}:void 0})}}),function(t,e,n,i){t.$columns=r=i.buildColumns(r),i.setupBindingsToInternalScope(n.ngTable),i.loadFilterData(r),i.compileDirectiveTemplates()}):void 0}}}]),e.directive("ngTableDynamic",["$parse",function(e){function n(t){if(!t||t.indexOf(" with ")>-1){var e=t.split(/\s+with\s+/);return{tableParams:e[0],columns:e[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")}return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(r){var i;return t.forEach(t.element(r.find("tr")),function(e){e=t.element(e),e.hasClass("ng-table-group")||i||(i=e)}),i?(t.forEach(i.find("td"),function(e){var n=t.element(e),r=function(t){return n.attr("x-data-"+t)||n.attr("data-"+t)||n.attr(t)},i=r("title");i||n.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var a=n.attr("ng-show");a||n.attr("ng-show","$columns[$index].show(this)")}),function(t,r,i,a){var o=n(i.ngTableDynamic),s=e(o.columns)(t)||[];t.$columns=a.buildColumns(s),a.setupBindingsToInternalScope(o.tableParams),a.loadFilterData(t.$columns),a.compileDirectiveTemplates()}):void 0}}}]),e.directive("ngTablePagination",["$compile",function(e){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,r){n.params.settings().$scope.$on("ngTableAfterReloadData",function(){n.pages=n.params.generatePagesArray(n.params.page(),n.params.total(),n.params.count())},!0),n.$watch("templateUrl",function(i){if(!t.isUndefined(i)){var a=t.element(document.createElement("div"));a.attr({"ng-include":"templateUrl"}),r.append(a),e(a)(n)}})}}}]),t.module("ngTable").run(["$templateCache",function(t){t.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{name}}"> </select>'),t.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{name}}"> </select>'),t.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control"/>'),t.put("ng-table/header.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-show="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" ng-show="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-show="template" ng-include="template"></div> </th> </tr> <tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-show="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-if="filter.indexOf(\'/\') !==-1" ng-include="filter"></div> <div ng-if="filter.indexOf(\'/\')===-1" ng-include="\'ng-table/filters/\' + filter + \'.html\'"></div> </div> </th> </tr> '),t.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ')}]),e})},{}],11:[function(t,e){!function(t,n,r){function i(t){var e=_(),n=e.querySelector("h2"),r=e.querySelector("p"),i=e.querySelector("button.cancel"),a=e.querySelector("button.confirm");if(n.innerHTML=t.html?t.title:M(t.title).split("\n").join("<br>"),r.innerHTML=t.html?t.text:M(t.text||"").split("\n").join("<br>"),t.text&&D(r),t.customClass)S(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var o=e.getAttribute("data-custom-class");C(e,o),e.setAttribute("data-custom-class","")}if(j(e.querySelectorAll(".sa-icon")),t.type&&!f()){for(var s=!1,u=0;u<$.length;u++)if(t.type===$[u]){s=!0;break}if(!s)return h("Unknown alert type: "+t.type),!1;var c,d=["success","error","warning","info"];-1!==d.indexOf(t.type)&&(c=e.querySelector(".sa-icon.sa-"+t.type),D(c));var p=A();switch(t.type){case"success":S(c,"animate"),S(c.querySelector(".sa-tip"),"animateSuccessTip"),S(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":S(c,"animateErrorIcon"),S(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":S(c,"pulseWarning"),S(c.querySelector(".sa-body"),"pulseWarningIns"),S(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":p.setAttribute("type",t.inputType),S(e,"show-input"),setTimeout(function(){p.focus(),p.addEventListener("keyup",y.resetInputError)},400)}}if(t.imageUrl){var g=e.querySelector(".sa-icon.sa-custom");g.style.backgroundImage="url("+t.imageUrl+")",D(g);var v=80,m=80;if(t.imageSize){var x=t.imageSize.toString().split("x"),b=x[0],w=x[1];b&&w?(v=b,m=w):h("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}g.setAttribute("style",g.getAttribute("style")+"width:"+v+"px; height:"+m+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?i.style.display="inline-block":j(i),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?a.style.display="inline-block":j(a),t.cancelButtonText&&(i.innerHTML=M(t.cancelButtonText)),t.confirmButtonText&&(a.innerHTML=M(t.confirmButtonText)),t.confirmButtonColor&&(a.style.backgroundColor=t.confirmButtonColor,l(a,t.confirmButtonColor)),e.setAttribute("data-allow-ouside-click",t.allowOutsideClick);var k=t.doneFunction?!0:!1;e.setAttribute("data-has-done-function",k),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)}function a(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,r,i="#";for(r=0;3>r;r++)n=parseInt(t.substr(2*r,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),i+=("00"+n).substr(n.length);return i}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null}function l(t,e){var n=s(e);t.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function u(){var t=_();I(k(),10),D(t),S(t,"showSweetAlert"),C(t,"hideSweetAlert"),p=n.activeElement;var e=t.querySelector("button.confirm");e.focus(),setTimeout(function(){S(t,"visible")},500);var r=t.getAttribute("data-timer");"null"!==r&&""!==r&&(t.timeout=setTimeout(function(){m.close()},r))}function c(){var t=_(),e=A();C(t,"show-input"),e.value="",e.setAttribute("type",w.inputType),y.resetInputError()}function d(){var t=_();t.style.marginTop=R(_())}function f(){return t.attachEvent&&!t.addEventListener?!0:!1}function h(e){t.console&&t.console.log("SweetAlert: "+e)}var p,g,v,m,y,x=".sweet-alert",b=".sweet-overlay",$=["error","warning","info","success","input","prompt"],w={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text"},_=function(){var t=n.querySelector(x);return t||(B(),t=_()),t},A=function(){var t=_();return t?t.querySelector("input"):void 0},k=function(){return n.querySelector(b)},T=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},S=function(t,e){T(t,e)||(t.className+=" "+e)},C=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(T(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},M=function(t){var e=n.createElement("div");return e.appendChild(n.createTextNode(t)),e.innerHTML},E=function(t){t.style.opacity="",t.style.display="block"},D=function(t){if(t&&!t.length)return E(t);for(var e=0;e<t.length;++e)E(t[e])},O=function(t){t.style.opacity="",t.style.display="none"},j=function(t){if(t&&!t.length)return O(t);for(var e=0;e<t.length;++e)O(t[e])},L=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},R=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+e)/2)+"px"
},I=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date,r=function(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(r,e)};r()}t.style.display="block"},P=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date,r=function(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(r,e):t.style.display="none"};r()},F=function(e){if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:t,bubbles:!1,cancelable:!0});e.dispatchEvent(r)}else if(n.createEvent){var i=n.createEvent("MouseEvents");i.initEvent("click",!1,!1),e.dispatchEvent(i)}else n.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},N=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):t.event&&t.event.hasOwnProperty("cancelBubble")&&(t.event.cancelBubble=!0)},B=function(){var t='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /><div class="sa-input-error"></div></fieldset> <div class="sa-error-container"><div class="icon">!</div> <p>Not valid!</p></div> <button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',e=n.createElement("div");for(e.innerHTML=t;e.firstChild;)n.body.appendChild(e.firstChild)};m=y=function(){function e(t){var e=y;return"undefined"!=typeof e[t]?e[t]:w[t]}function s(){var t=!0;T(M,"show-input")&&(t=M.querySelector("input").value,t||(t="")),x.doneFunction(t),x.closeOnConfirm&&m.close()}function f(){var t=String(x.doneFunction).replace(/\s/g,""),e="function("===t.substring(0,9)&&")"!==t.substring(9,10);e&&x.doneFunction(!1),x.closeOnCancel&&m.close()}function p(e){var n=e||t.event,i=n.keyCode||n.which;if(-1!==[9,13,32,27].indexOf(i)){for(var a=n.target||n.srcElement,o=-1,s=0;s<I.length;s++)if(a===I[s]){o=s;break}9===i?(a=-1===o?j:o===I.length-1?I[0]:I[o+1],N(n),a.focus(),x.confirmButtonColor&&l(a,x.confirmButtonColor)):13===i?("INPUT"===a.tagName&&(a=j,j.focus()),a=-1===o?j:r):27===i&&x.allowEscapeKey===!0?(a=R,F(a,n)):a=r}}var y=arguments[0];if(S(n.body,"stop-scrolling"),c(),arguments[0]===r)return h("SweetAlert expects at least 1 attribute!"),!1;var x=o({},w);switch(typeof arguments[0]){case"string":x.title=arguments[0],x.text=arguments[1]||"",x.type=arguments[2]||"";break;case"object":if(arguments[0].title===r)return h('Missing "title" argument!'),!1;x.title=arguments[0].title;for(var b=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType"],$=b.length,A=0;$>A;A++){var C=b[A];x[C]=e(C)}x.confirmButtonText=x.showCancelButton?"Confirm":w.confirmButtonText,x.confirmButtonText=e("confirmButtonText"),x.doneFunction=arguments[1]||null;break;default:return h('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}i(x),d(),u();for(var M=_(),E=function(e){var n=e||t.event,r=n.target||n.srcElement,i=-1!==r.className.indexOf("confirm"),o=-1!==r.className.indexOf("sweet-overlay"),l=T(M,"visible"),u=x.doneFunction&&"true"===M.getAttribute("data-has-done-function");switch(n.type){case"mouseover":i&&x.confirmButtonColor&&(r.style.backgroundColor=a(x.confirmButtonColor,-.04));break;case"mouseout":i&&x.confirmButtonColor&&(r.style.backgroundColor=x.confirmButtonColor);break;case"mousedown":i&&x.confirmButtonColor&&(r.style.backgroundColor=a(x.confirmButtonColor,-.14));break;case"mouseup":i&&x.confirmButtonColor&&(r.style.backgroundColor=a(x.confirmButtonColor,-.04));break;case"focus":var c=M.querySelector("button.confirm"),d=M.querySelector("button.cancel");i?d.style.boxShadow="none":c.style.boxShadow="none";break;case"click":i&&u&&l?s():u&&l||o?f():L(M,r)&&"BUTTON"===r.tagName&&m.close()}},D=M.querySelectorAll("button"),O=0;O<D.length;O++)D[O].onclick=E,D[O].onmouseover=E,D[O].onmouseout=E,D[O].onmousedown=E,D[O].onmouseup=E,D[O].onfocus=E;k().onclick=E;var j=M.querySelector("button.confirm"),R=M.querySelector("button.cancel"),I=M.querySelectorAll("button[tabindex]");g=t.onkeydown,t.onkeydown=p,t.onfocus=function(){t.setTimeout(function(){v!==r&&(v.focus(),v=r)},0)}},m.setDefaults=y.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");o(w,t)},m.close=y.close=function(){var e=_();P(k(),5),P(e,5),C(e,"showSweetAlert"),S(e,"hideSweetAlert"),C(e,"visible");var i=e.querySelector(".sa-icon.sa-success");C(i,"animate"),C(i.querySelector(".sa-tip"),"animateSuccessTip"),C(i.querySelector(".sa-long"),"animateSuccessLong");var a=e.querySelector(".sa-icon.sa-error");C(a,"animateErrorIcon"),C(a.querySelector(".sa-x-mark"),"animateXMark");var o=e.querySelector(".sa-icon.sa-warning");C(o,"pulseWarning"),C(o.querySelector(".sa-body"),"pulseWarningIns"),C(o.querySelector(".sa-dot"),"pulseWarningIns"),C(n.body,"stop-scrolling"),t.onkeydown=g,p&&p.focus(),v=r,clearTimeout(e.timeout)},m.showInputError=y.showInputError=function(t){var e=_(),n=e.querySelector(".sa-input-error");S(n,"show");var r=e.querySelector(".sa-error-container");S(r,"show"),r.querySelector("p").innerHTML=t,e.querySelector("input").focus()},m.resetInputError=y.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=_(),n=e.querySelector(".sa-input-error");C(n,"show");var r=e.querySelector(".sa-error-container");C(r,"show")},"function"==typeof define&&define.amd?define(function(){return m}):"undefined"!=typeof e&&e.exports?e.exports=m:"undefined"!=typeof t&&(t.sweetAlert=t.swal=m)}(window,document)},{}],12:[function(t){"use strict";function e(t,e,n,i,a){function o(){var e=t.get(a.API_ROOT+"acks?include=rule"+i.current("&")).success(function(t){s.length=0,Array.prototype.push.apply(s,t),angular.extend(l,r(s,"rule_id"))});return e}var s=[],l={},u=!1;return n.$on("reload:data",o),{init:function(){u||(o(),u=!0)},acks:s,ackMap:l,createAck:function(n){var r=e.defer();return t.post(a.API_ROOT+"acks"+i.current(),{rule_id:n.rule_id||n.id}).success(function(t){s.push(t),l[t.rule_id]=t,r.resolve(t)}),r.promise},deleteAck:function(e){return t.delete(a.API_ROOT+"acks/"+e.id+i.current()).success(function(){var t,n=s.length;for(t=0;n>t;t++)if(s[t].id===e.id)return s.splice(t,1),void delete l[e.rule_id]})},reload:o}}var n=t("./"),r=t("lodash/collection/indexBy");e.$inject=["$http","$q","$rootScope","AccountService","CONFIG"],n.factory("Ack",e)},{"./":15,"lodash/collection/indexBy":99}],13:[function(t){"use strict";function e(t,e,n){function r(){return t.get(n.API_ROOT+"announcements").success(function(t){l.length=0,o.count=0,angular.forEach(t,function(t){t.seen===!1&&o.count++}),Array.prototype.push.apply(l,t)})}function i(e){return t.get(n.API_ROOT+"announcements/"+e)}function a(e){return t.get(n.API_ROOT+"announcements/"+e)}var o={count:0},s=!1,l=[];return{init:function(){s||(r(),s=!0)},announcements:l,unseen:o,bySlug:function(t){var n=e.defer();if(s){var r,a=null,o=l.length;for(r=0;o>r;r++)l[r].slug!==t||(a=l[r]);a?n.resolve(a):i(t).success(function(t){n.resolve(t)})}else i(t).success(function(t){n.resolve(t)});return n.promise},byId:function(t){var n=e.defer();if(s){var r,i=null,o=l.length;for(r=0;o>r;r++)l[r].id!==t||(i=l[r]);i?n.resolve(i):a(t).success(function(t){n.resolve(t)})}else a(t).success(function(t){n.resolve(t)});return n.promise},createAnnouncement:function(e){return t.post(n.API_ROOT+"announcements?internal=true",e).success(function(t){t.hidden||l.push(t)})},acknowledge:function(e){return t.post(n.API_ROOT+"announcements/"+e.id+"/ack").success(function(t){var e,n=l.length;for(e=0;n>e;e++)if(l[e].id===t.id)return l[e]=t,void o.count--})},reload:r}}var n=t("./");e.$inject=["$http","$q","CONFIG"],n.factory("Announcement",e)},{"./":15}],14:[function(t){"use strict";function e(t,e,n,r,i){function a(){t.get(r.API_ROOT+"groups?include=systems"+i.current("&")).success(function(t){u.length=0,Array.prototype.push.apply(u,t)})}function o(t,e){var n,r,i=u.length;for(n=0;i>n;n++)if(u[n].id===t.id){var a=u[n].systems.length;for(r=0;a>r;r++)if(u[n].systems[r].machine_id===e.machine_id)return void u[n].systems.splice(r,1)}}function s(e,n){return o(e,n),t.delete(r.API_ROOT+"groups/"+e.id+"/systems/"+n.machine_id+i.current())}function l(t){var e,n=u.length;for(e=0;n>e;e++)if(u[e].id===t.id)return void u.splice(e,1)}var u=[],c={},d=!1;return n.$on("reload:data",a),{init:function(){d||(a(),d=!0)},groups:u,current:function(){return c},appendCurrentGroup:function(t){var e=c;return e&&e.id&&(t+="&group="+e.id),t},setCurrent:function(t){c=t?t:{}},removeSystem:s,removeSystems:function(t,n){var r=[];return angular.forEach(n,function(e){r.push(s(t,{machine_id:e}))}),e.all(r)},addSystems:function(e,n){return e.systems||(e.systems=[]),Array.prototype.push.apply(e.systems,n),t.put(r.API_ROOT+"groups/"+e.id+"/systems"+i.current(),n)},createGroup:function(e){return t.post(r.API_ROOT+"groups"+i.current(),e).success(function(t){e.display_name="",t.systems=[],u.push(t)})},deleteGroup:function(e){return l(e),t.delete(r.API_ROOT+"groups/"+e.id+i.current())},reload:a}}var n=t("./");e.$inject=["$http","$q","$rootScope","CONFIG","AccountService"],n.factory("Group",e)},{"./":15}],15:[function(t,e){"use strict";e.exports=angular.module("insights.api",[]),function(){var e=t("./index.js");return e.ack=t("./ack.js"),e.announcement=t("./announcement.js"),e.group=t("./group.js"),e.index=t("./index.js"),e.messaging=t("./messaging.js"),e.permission=t("./permission.js"),e.report=t("./report.js"),e.rule=t("./rule.js"),e.system=t("./system.js"),e.uploader=t("./uploader.js"),e.user=t("./user.js"),e.user_permissions=t("./user_permissions.js"),e}()},{"./ack.js":12,"./announcement.js":13,"./group.js":14,"./index.js":15,"./messaging.js":16,"./permission.js":17,"./report.js":18,"./rule.js":19,"./system.js":20,"./uploader.js":21,"./user.js":22,"./user_permissions.js":23}],16:[function(t){"use strict";function e(t,e){function n(){var n=t.get(e.API_ROOT+"messaging/campaigns").success(function(t){r.length=0,Array.prototype.push.apply(r,t)});return n}var r=[],i=!1;return{campaigns:r,init:function(){i||(n(),i=!0)},savePrefs:function(){return t.post(e.API_ROOT+"messaging/users",r)}}}var n=t("./");e.$inject=["$http","CONFIG"],n.factory("Messaging",e)},{"./":15}],17:[function(t){"use strict";function e(t,e){var n=e.API_ROOT+"permissions/:permissionId",r={permissionId:"@id"},i=t(n,r);return i.init=function(){i.initial=i.query().$promise},i}var n=t("./");e.$inject=["$resource","CONFIG"],n.factory("Permission",e)},{"./":15}],18:[function(t){"use strict";function e(t,e,n,r,i,a){var o,s;return e.$on("reload:data",function(){s=null,o=null}),{groupByHost:function(){return t.get(r.API_ROOT+"reports?accept=host"+i.current("&"))},exportReports:function(t){var e=(a.current(),r.API_ROOT+"reports?accept=csv"+i.current("&"));t&&(e+="&category="+t),e=a.appendCurrentGroup(e),n.location.assign(e)},countMap:function(e){if(s&&!e)return s;var n=r.API_ROOT+"reports?accept=countMap"+i.current("&");return n=a.appendCurrentGroup(n),s=t.get(n)},ruleReports:function(e,n){e=e.replace("|","!$");{var o=r.API_ROOT+"reports?rule_id="+e+i.current("&");a.current()}return o=a.appendCurrentGroup(o),n&&(o+="&"+n+"=true"),t.get(o)},groupByCount:function(){return o?o:o=t.get(r.API_ROOT+"reports?accept=count"+i.current("&"))}}}var n=t("./");e.$inject=["$http","$rootScope","$window","CONFIG","AccountService","Group"],n.factory("Report",e)},{"./":15}],19:[function(t){"use strict";function e(t,e,n){function r(t){return t.replace("|","!$")}return{plugins:function(){return t.get(e.API_ROOT+"rules?plugins=true")},summary:function(){return t.get(e.API_ROOT+"rules?summary=true"+n.current("&"))},admin:function(){return t.get(e.API_ROOT+"rules/admin?internal=true")},create:function(n){return t.post(e.API_ROOT+"rules?internal=true",n)},update:function(n){var i=r(n._rule_id||n.rule_id);return t.put(e.API_ROOT+"rules/"+i+"?internal=true",n)},"delete":function(n){var i=r(n.rule_id);return t.delete(e.API_ROOT+"rules/"+i+"?internal=true")},preview:function(n,r){return t.post(e.API_ROOT+"rules/preview?internal=true",{rule:n,debug:r})},byId:function(n){return n=r(n),t.get(e.API_ROOT+"rules/"+n)}}}var n=t("./");e.$inject=["$http","CONFIG","AccountService"],n.factory("Rule",e)},{"./":15}],20:[function(t){"use strict";function e(t,e,n,r,i){function a(t){var e,n=l.length;for(e=0;n>e;e++)if(l[e].machine_id===t.machine_id)return void l.splice(e,1)}var o,s,l=[];return e.$on("reload:data",function(){o=null}),{getSystems:function(){return o?o:o=t.get(n.API_ROOT+"systems"+r.current())},getSystemStatus:function(){if(s)return s;var e=n.API_ROOT+"systems/status";return s=t.get(e)},getSystemSummary:function(){var e=n.API_ROOT+"systems?summary=true"+r.current("&"),a=i.current();return a&&a.id&&(e+="&group="+a.id),t.get(e)},getSystemReports:function(e){return t.get(n.API_ROOT+"systems/"+e+"/reports"+r.current())},deleteSystem:function(e){return a(e),s=null,t.delete(n.API_ROOT+"systems/"+e.machine_id+r.current())}}}var n=t("./");e.$inject=["$http","$rootScope","CONFIG","AccountService","Group"],n.factory("System",e)},{"./":15}],21:[function(t){"use strict";function e(t,e){function n(){t.get(e.API_ROOT+"static/uploader.json").success(function(t){angular.extend(r,t)})}var r={},i=!1;return{init:function(){i||(n(),i=!0)},json:r}}var n=t("./");e.$inject=["$http","CONFIG"],n.factory("Uploader",e)},{"./":15}],22:[function(t){"use strict";function e(t,e,n,i){var a,o={loaded:!1};return i.authenticate&&(a=n.defer(),e.get(i.API_ROOT+"me").success(function(t){angular.extend(o,t),o.permissions=r(o.permissions,"code"),o.loaded=!0,a.resolve(o)})),{current:o,asyncCurrent:function(t){return o&&o.loaded?t(o):void(a&&a.promise&&a.promise.then(t))}}}var n=t("./"),r=t("lodash/collection/indexBy");e.$inject=["$rootScope","$http","$q","CONFIG"],n.factory("User",e)},{"./":15,"lodash/collection/indexBy":99}],23:[function(t){"use strict";function e(t,e){var n=e.API_ROOT+"user_permissions/:userPermissionId",r={userPermissionId:"@id"},i=t(n,r);return i.init=function(){i.initial=i.query().$promise},i}var n=t("./");e.$inject=["$resource","CONFIG"],n.service("UserPermissions",e)},{"./":15}],24:[function(t){"use strict";function e(t,e,n,r){t.accountChange=function(e){e&&(window.sessionStorage.setItem(n.ACCT_KEY,e),t.$emit("account:change",e))},t.reset=function(){t.user&&(t.account_number=t.user.account_number,t.user.is_internal&&(t.account_number=""+t.user.account_number),t.accountChange(t.account_number))},e.asyncCurrent(function(){t.user=e.current;var i=window.sessionStorage.getItem(n.ACCT_KEY);t.user.is_internal&&i?(t.account_number=i,t.accountChange(i),r.populateData(!0)):t.account_number=t.user.account_number})}function n(){return{templateUrl:"js/components/accountSelect/accountSelect.html",restrict:"E",controller:e}}var r=t("../");e.$inject=["$scope","User","CONFIG","RhaTelemetryOverviewService"],r.directive("accountSelect",n)},{"../":38}],25:[function(t){"use strict";function e(t,e,n){t.actions=n.actions,e.$on("$stateChangeStart",function(){n.clear()})}function n(){return{templateUrl:"js/components/actionbar/actionbar.html",restrict:"E",controller:e}}var r=t("../");e.$inject=["$scope","$rootScope","ActionbarService"],r.directive("actionbar",n)},{"../":38}],26:[function(t){"use strict";function e(t,e){e.init(),t.unseenFilter={seen:!1},t.announcements=e.announcements,t.unseen=e.unseen,t.showAnnouncements=!1,t.toggle=function(){t.showAnnouncements=!t.showAnnouncements},t.ack=e.acknowledge,t.$on("telemetry:esc",function(e){t.showAnnouncements&&(e.preventDefault(),t.$evalAsync(function(){t.toggle()}))})}function n(){return{templateUrl:"js/components/bullhorn/bullhorn.html",restrict:"E",replace:!0,controller:e}}var r=t("../");e.$inject=["$scope","Announcement"],r.directive("bullhorn",n)},{"../":38}],27:[function(t){"use strict";var e=t("../");e.constant("Categories",["availability","stability","performance","security"])},{"../":38}],28:[function(t){"use strict";function e(t,e){e.init(),t.isCreating=!1,t.groups=e.groups}function n(){return{templateUrl:"js/components/config/groups/groups.html",restrict:"EA",scope:!1,controller:e}}var r=t("../../");e.$inject=["$scope","Group"],r.directive("configGroups",n)},{"../../":38}],29:[function(t){"use strict";function e(t,e){e.init(),t.acks=e.acks,t.delete=e.deleteAck}function n(){return{templateUrl:"js/components/config/hidden/hidden.html",restrict:"EA",scope:{},controller:e}}var r=t("../../");e.$inject=["$scope","Ack"],r.directive("configHidden",n)},{"../../":38}],30:[function(t){"use strict";function e(t,e){e.init(),t.campaigns=e.campaigns,t.save=function(t){e.savePrefs().then(function(){t.$setPristine()})}}function n(){return{templateUrl:"js/components/config/messaging/messaging.html",restrict:"EA",scope:{},controller:e}}var r=t("../../");e.$inject=["$scope","Messaging"],r.directive("configMessaging",n)},{"../../":38}],31:[function(t){"use strict";function e(t,e,n,r,i,a){var o={};t.newPermission={},o.swalConfig={title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!0},o.removeAll=function(n){var i=[];n.forEach(function(t){i.push(r.delete({userPermissionId:t.id}).$promise)}),e.all(i).finally(function(){t.init()})},t.isCreating=!1,t.addNewPermission=function(){t.newPermission.permission_id=t.tmpPermission.id;var e=new r(t.newPermission);e.$save().finally(function(){t.init()})},t.removeSingle=function(e){t.removeAll([{id:e.id}])},t.removeAll=function(t){var e=o.swalConfig;t[0].sso_username===a.current.sso_username&&(e=JSON.parse(JSON.stringify(o.swalConfig)),e.text="Delete yourself?? Remember... no dumb here!"),n.swal(e,function(e){e&&o.removeAll(t)})},t.init=function(){i.query().$promise.then(function(e){t.permissions=e}),r.query().$promise.then(function(e){t.users=_.uniq(_.map(e,"sso_username")),t.userMap=_.groupBy(e,function(t){return t.sso_username})})},t.init()}function n(){return{templateUrl:"js/components/config/permissions/permissions.html",restrict:"EA",scope:!1,controller:e}}var r=t("../../");e.$inject=["$scope","$q","SweetAlert","UserPermissions","Permission","User"],r.directive("configPermissions",n)},{"../../":38}],32:[function(t){"use strict";function e(t,e){return{restrict:"AC",link:function(){e.on("keydown",function(e){27===e.keyCode&&t.$broadcast("telemetry:esc")})}}}var n=t("../");e.$inject=["$rootScope","$document"],n.directive("escKey",e)},{"../":38}],33:[function(t){"use strict";function e(t){return function(e){return t.trustAsHtml(e)}}function n(){function t(t){return t.toString().toLowerCase().replace(/\b([a-z])/g,function(t){return t.toUpperCase()})}return function(e){if(e=void 0===e||null===e?"":e,Array.isArray(e)){var n=[];return angular.forEach(e,function(e){n.push(t(e))}),n}return t(e)}}function r(){return function(t,e,n){return t?t!==e||n?t===e&&n?"sort-desc":"":"sort-asc":""}}function i(){return function(t,e,n){var r=s(t,e);return n?r.reverse():r}}function a(){return function(t,e){return e=parseInt(e,10),t?t.slice(e):[]}}var o=t("../"),s=t("lodash/collection/sortBy");e.$inject=["$sce"],o.filter("trust_html",e),o.filter("titlecase",n),o.filter("sortClass",r),o.filter("orderObjectBy",i),o.filter("offset",a)},{"../":38,"lodash/collection/sortBy":103}],34:[function(t){"use strict";function e(t,e,n){t.isCollapsed=!1,t.deleteGroup=function(t){e.swal({title:"Are you sure?",text:"You will not be able to recover this group!",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(e){e&&n.deleteGroup(t)})}}function n(){return{templateUrl:"js/components/group/views/group.html",restrict:"E",controller:e}}var r=t("../");e.$inject=["$scope","SweetAlert","Group"],r.directive("group",n)},{"../":38}],35:[function(t){"use strict";function e(t,e){t.create=function(n){t.isCreating=!0,e.createGroup(n).success(function(){t.isCreating=!1}),t.newGroup={display_name:""}},t.newGroup={display_name:""}}function n(){return{templateUrl:"js/components/group/views/form.html",restrict:"EC",controller:e}}var r=t("../");e.$inject=["$scope","Group"],r.directive("groupForm",n)},{"../":38}],36:[function(t){"use strict";function e(t,e){function n(n){e.setCurrent(n),t.$emit("group:change",n)}e.init(),t.groups=e.groups,t.group=e.current(),t.groupChange=function(){n(t.group)},t.$on("account:change",function(){n(null)})}function n(){return{templateUrl:"js/components/groupSelect/groupSelect.html",restrict:"E",replace:!0,controller:e}}var r=t("../");e.$inject=["$scope","Group"],r.directive("groupSelect",n)},{"../":38}],37:[function(t){"use strict";function e(){return{restrict:"A",link:function(t,e,n){t.$watch(n.ngIndeterminate,function(t){e.prop("indeterminate",!!t)})}}}var n=t("../");n.directive("ngIndeterminate",e)},{"../":38}],38:[function(t,e){"use strict";e.exports=angular.module("insights.components",[]),function(){var e=t("./index.js");return e.accountSelect={"accountSelect.directive":t("./accountSelect/accountSelect.directive.js")},e.actionbar={"actionbar.directive":t("./actionbar/actionbar.directive.js")},e.bullhorn={"bullhorn.directive":t("./bullhorn/bullhorn.directive.js")},e.categories={categories:t("./categories/categories.js")},e.config={groups:{"groups.directive":t("./config/groups/groups.directive.js")},hidden:{"hidden.directive":t("./config/hidden/hidden.directive.js")},messaging:{"messaging.directive":t("./config/messaging/messaging.directive.js")},permissions:{"permissions.directive":t("./config/permissions/permissions.directive.js")}},e.escKey={"escKey.directive":t("./escKey/escKey.directive.js")},e.filters={filters:t("./filters/filters.js")},e.group={"group.directive":t("./group/group.directive.js"),"groupForm.directive":t("./group/groupForm.directive.js")},e.groupSelect={"groupSelect.directive":t("./groupSelect/groupSelect.directive.js")},e.indeterminate={"indeterminate.directive":t("./indeterminate/indeterminate.directive.js")},e.index=t("./index.js"),e.overview={"overview.directive":t("./overview/overview.directive.js"),overviewBack:{"overviewBack.directive":t("./overview/overviewBack/overviewBack.directive.js")},overviewBreadcrumbs:{"overviewBreadcrumbs.directive":t("./overview/overviewBreadcrumbs/overviewBreadcrumbs.directive.js")},overviewDetails:{"overviewDetails.directive":t("./overview/overviewDetails/overviewDetails.directive.js")},overviewRule:{"overviewRule.controller":t("./overview/overviewRule/overviewRule.controller.js")}},e.recommendedKbase={"recommendedKbase.directive":t("./recommendedKbase/recommendedKbase.directive.js")},e.rhDonut={"rhDonut.directive":t("./rhDonut/rhDonut.directive.js")},e.rule={ruleForm:{"ruleForm.directive":t("./rule/ruleForm/ruleForm.directive.js")},rulePlugin:{"rulePlugin.directive":t("./rule/rulePlugin/rulePlugin.directive.js")},ruleReason:{"ruleReason.directive":t("./rule/ruleReason/ruleReason.directive.js")},ruleResolution:{"ruleResolution.directive":t("./rule/ruleResolution/ruleResolution.directive.js")},ruleSummaries:{"ruleSummaries.directive":t("./rule/ruleSummaries/ruleSummaries.directive.js")},ruleSummary:{"ruleSummary.directive":t("./rule/ruleSummary/ruleSummary.directive.js")},ruleToggle:{"ruleToggle.directive":t("./rule/ruleToggle/ruleToggle.directive.js")}},e.severities={severities:t("./severities/severities.js")},e.severityBar={"severityBar.directive":t("./severityBar/severityBar.directive.js")},e.severityIcon={"severityIcon.directive":t("./severityIcon/severityIcon.directive.js")},e.sideNav={overviewSideNav:{"overviewSideNav.directive":t("./sideNav/overviewSideNav/overviewSideNav.directive.js")},"sideNav.directive":t("./sideNav/sideNav.directive.js")},e.system={systemModal:{"systemModal.controller":t("./system/systemModal/systemModal.controller.js")},systemSummaryTable:{"systemSummaryTable.directive":t("./system/systemSummaryTable/systemSummaryTable.directive.js")},systemTable:{"systemTable.directive":t("./system/systemTable/systemTable.directive.js")}},e.targetBlank={"targetBlank.directive":t("./targetBlank/targetBlank.directive.js")},e.topbar={"topbar.directive":t("./topbar/topbar.directive.js")},e.yesNo={"yesNo.directive":t("./yesNo/yesNo.directive.js")},e}()},{"./accountSelect/accountSelect.directive.js":24,"./actionbar/actionbar.directive.js":25,"./bullhorn/bullhorn.directive.js":26,"./categories/categories.js":27,"./config/groups/groups.directive.js":28,"./config/hidden/hidden.directive.js":29,"./config/messaging/messaging.directive.js":30,"./config/permissions/permissions.directive.js":31,"./escKey/escKey.directive.js":32,"./filters/filters.js":33,"./group/group.directive.js":34,"./group/groupForm.directive.js":35,"./groupSelect/groupSelect.directive.js":36,"./indeterminate/indeterminate.directive.js":37,"./index.js":38,"./overview/overview.directive.js":39,"./overview/overviewBack/overviewBack.directive.js":40,"./overview/overviewBreadcrumbs/overviewBreadcrumbs.directive.js":41,"./overview/overviewDetails/overviewDetails.directive.js":42,"./overview/overviewRule/overviewRule.controller.js":43,"./recommendedKbase/recommendedKbase.directive.js":44,"./rhDonut/rhDonut.directive.js":45,"./rule/ruleForm/ruleForm.directive.js":46,"./rule/rulePlugin/rulePlugin.directive.js":47,"./rule/ruleReason/ruleReason.directive.js":48,"./rule/ruleResolution/ruleResolution.directive.js":49,"./rule/ruleSummaries/ruleSummaries.directive.js":50,"./rule/ruleSummary/ruleSummary.directive.js":51,"./rule/ruleToggle/ruleToggle.directive.js":52,"./severities/severities.js":53,"./severityBar/severityBar.directive.js":54,"./severityIcon/severityIcon.directive.js":55,"./sideNav/overviewSideNav/overviewSideNav.directive.js":56,"./sideNav/sideNav.directive.js":57,"./system/systemModal/systemModal.controller.js":58,"./system/systemSummaryTable/systemSummaryTable.directive.js":59,"./system/systemTable/systemTable.directive.js":60,"./targetBlank/targetBlank.directive.js":61,"./topbar/topbar.directive.js":62,"./yesNo/yesNo.directive.js":63}],39:[function(t){"use strict";function e(t,e){t.loading=e.loading,t.getData=e.getData,t.getTotal=e.getTotal,t.getRule=e.getRule,t.ackAction=e.ackAction,t.arcClick=e.arcClick,t.reload=e.reload,t.isOverview=e.isOverview,t.getCategory=e.getCategory,t.hasActions=e.hasActions}function n(){return{templateUrl:"js/components/overview/overview.html",restrict:"E",replace:!0,scope:{},controller:e}}var r=t("../");e.$inject=["$scope","RhaTelemetryOverviewService"],r.directive("rhaTelemetryOverview",n)},{"../":38}],40:[function(t){"use strict";function e(t,e,n,r){t.isOverview=r.isOverview,n.category&&n.rule&&(t.category=n.category),t.goBack=function(){var t={category:null};n.category&&n.rule&&(t.category=n.category),e.go("overview",t)},t.$on("telemetry:esc",function(e){e.defaultPrevented||t.goBack()})}function n(){return{templateUrl:"js/components/overview/overviewBack/overviewBack.html",restrict:"EC",scope:{},controller:e}}var r=t("../../");e.$inject=["$scope","$state","$stateParams","RhaTelemetryOverviewService"],r.directive("overviewBack",n)},{"../../":38}],41:[function(t){"use strict";function e(t,e,n){t.crumbs=n.get(),t.crumbClick=function(t){e.go(t.state,t.params)}}function n(){return{templateUrl:"js/components/overview/overviewBreadcrumbs/overviewBreadcrumbs.html",restrict:"E",controller:e}}var r=t("../../");e.$inject=["$scope","$state","OverviewBreadcrumbs"],r.directive("overviewBreadcrumbs",n)},{"../../":38}],42:[function(t){"use strict";function e(t,e,n,r){e.search();t.getTotal=r.getTotal,t.isOverview=r.isOverview,t.getReportDetails=r.getReportDetails,t.getRuleDetails=r.getRuleDetails,t.getLoadingDetails=r.getLoadingDetails,t.getData=r.getData,t.getRule=r.getRule,t.arcClick=r.arcClick,t.ackAction=r.ackAction,t.isOverview=r.isOverview,t.staleSystems=0,n.getSystemStatus().success(function(e){t.staleSystems=e.stale,t.totalSystems=e.count}),t.getTitle=function(){var t=r.isOverview()?"Overview":r.getCategory();return t}}function n(){return{templateUrl:"js/components/overview/overviewDetails/overviewDetails.html",restrict:"EC",scope:{},controller:e}}var r=t("../../");e.$inject=["$scope","$location","System","RhaTelemetryOverviewService"],r.directive("overviewDetails",n)},{"../../":38}],43:[function(t){"use strict";function e(t,e,n,r,i,a){function o(){var e=r.search(),n=e.machine;if(n){var i=t.getReportDetails(),a=_.findWhere(i,{machine_id:n});if(a&&a.system)return t.showSystem(a.system);r.replace(),r.search("machine",null)}}var s=e.category;i.setCategory(s),i.setRuleDetails(null),i.setRule(e.rule),t.getReportDetails=i.getReportDetails,t.getRuleDetails=i.getRuleDetails,t.loading=!0,i.populateDetails(!0).finally(function(){t.loading=!1,o()}),t.filters={system:{hostname:""}},a.init(e),t.ruleDetails={};var l=t.$watch(function(){return i.getRuleDetails()},function(n){n&&(t.ruleDetails=n,a.add({label:n.description,params:{category:e.category,rule:n.rule_id}}),l())});t.showSystem=function(t){n.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{system:function(){return t},rule:function(){return!1}}})}}var n=t("../../");e.$inject=["$scope","$stateParams","$modal","$location","RhaTelemetryOverviewService","OverviewBreadcrumbs"],n.controller("OverviewRuleCtrl",e)},{"../../":38}],44:[function(t){"use strict";function e(t,e){t.loading=!1,t.node&&(i[t.node]?t.solution=i[t.node]:(t.loading=!0,e.get("/rs/search?keyword=id:"+t.node,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Omit":"WWW-Authenticate"}}).success(function(e){t.loading=!1;var n;e&&e.searchResult&&e.searchResult.length?n=e.searchResult[0]:e&&e.search_result&&e.search_result.length&&(n=e.search_result[0]),n&&(t.solution=n,t.solution.viewUri=t.solution.viewUri||t.solution.view_uri,i[t.node]={title:t.solution.title,viewUri:t.solution.viewUri})}).catch(function(){t.loading=!1})))}function n(){return{scope:{node:"="},templateUrl:"js/components/recommendedKbase/recommendedKbase.html",restrict:"EC",controller:e}}var r=t("../"),i={};e.$inject=["$scope","$http"],r.directive("recommendedKbase",n)},{"../":38}],45:[function(t){"use strict";function e(t){return o.generate({bindto:".rha-telemetry-donut",size:{width:260,height:260},pie:{label:{threshold:.07}},data:{columns:[],colors:{Performance:"#2c96cb",Security:"#6d868d",Stability:"#46b631"},type:"pie"},legend:{show:!1},tooltip:{format:{name:t,value:function(t,e){if(e>=.07)return t;var n=s.format("0.3p");return t+" ("+n(e)+")"}}}})}function n(t,n,r){return{restrict:"C",replace:!0,link:function(t){r.setDonutChart(e(r.mapName));var n=function(){function t(t){var e=t.replace(/[|._]/g,"-");return".c3-arc-"+e}function e(t){return!t.hasOwnProperty("visible")||t.visible}function n(t){return i(t).filter(e).map(function(t){return[t.id,t.value]})}var o=r.getDonutChart(),s=r.getData,l=n(s()),u=r.getOldCols();r.setOldCols(s());var c=a(u).filter(function(t){return!s().hasOwnProperty(t)||!e(s()[t])});o.load({columns:l,unload:c,done:function(){angular.forEach(o.data(),function(e){var n=s()[e.id],i=t(n.id),a=document.querySelector(i),o=a&&a.style&&a.style.fill;n.color=o,angular.element(a).on("click",function(){r.arcClick(n)})})}})};t.$on("rha-telemetry-refreshdonut",n),t.$watch(r.getData(),n)}}}var r=t("../"),i=t("lodash/object/values"),a=t("lodash/object/keys"),o=t("./../../../bower_components/c3/c3.js"),s=t("./../../../bower_components/d3/d3.js");
n.$inject=["$state","$timeout","RhaTelemetryOverviewService"],r.directive("rhaTelemetryDonut",n)},{"../":38,"./../../../bower_components/c3/c3.js":8,"./../../../bower_components/d3/d3.js":9,"lodash/object/keys":157,"lodash/object/values":159}],46:[function(t){"use strict";function e(t,e,n,r){function i(){t.rule&&(t.rule.rule_id=(t.rule.plugin||"")+"|"+(t.rule.error_key||""))}t.locked=!0,t.severities=n,t.categories=e,t.preview=r.preview,t.toggleLock=function(){t.locked=!t.locked},t.$watch("rule.plugin",i),t.$watch("rule.error_key",i)}function n(){return{templateUrl:"js/components/rule/ruleForm/ruleForm.html",restrict:"E",controller:e}}var r=t("../../");e.$inject=["$scope","Categories","Severities","RulePreview"],r.directive("ruleForm",n)},{"../../":38}],47:[function(t){"use strict";function e(t,e){t.plugins=[],t.config={valueField:"item",labelField:"item",searchField:"item",create:!0},e.plugins().success(function(e){t.plugins=e})}function n(){return{templateUrl:"js/components/rule/rulePlugin/rulePlugin.html",restrict:"E",controller:e}}var r=t("../../");e.$inject=["$scope","Rule"],r.directive("rulePlugin",n)},{"../../":38}],48:[function(t){"use strict";function e(){return{templateUrl:"js/components/rule/ruleReason/ruleReason.html",restrict:"EC"}}var n=t("../../");n.directive("ruleReason",e)},{"../../":38}],49:[function(t){"use strict";function e(){return{templateUrl:"js/components/rule/ruleResolution/ruleResolution.html",restrict:"EC",replace:!0}}var n=t("../../");n.directive("ruleResolution",e)},{"../../":38}],50:[function(t){"use strict";function e(t,e,n,r){function i(){t.loading.isLoading=!0,r.getSystemReports(t.machineId).success(function(e){angular.extend(t.system,e),t.rule_id&&t.system.reports.sort(function(e,n){return e.rule_id===t.rule_id?-1:n.rule_id===t.rule_id?1:0}),t.loading.isLoading=!1})}function a(t){n.replace(),n.search("machine",t)}t.allExpanded=!1,t.expandAll=function(){t.$broadcast("telemetry:toggleCollapse",t.allExpanded),t.allExpanded=!t.allExpanded},t.rule_id=e.rule,t.machineId&&!t.system.__fake&&(t.rule_id&&(t.ruleFilter=!0),t.system&&(t.system.reports&&(t.allExpanded=!0),t.system.reports=[],i())),a(t.machineId)}function n(){return{controller:e,templateUrl:"js/components/rule/ruleSummaries/ruleSummaries.html",restrict:"EC",scope:{system:"=",machineId:"=",rule:"=",ruleFilter:"=",loading:"="}}}var r=t("../../");e.$inject=["$scope","$stateParams","$location","System","Report"],r.directive("ruleSummaries",n)},{"../../":38}],51:[function(t){"use strict";function e(t,e,n){function r(){t.showMoreInfo&&t.isCollapsed&&(t.showMoreInfo=!1)}t.debug=!1,t.showMoreInfo=!1,t.isCollapsed=!1,t.invalidJSON=!1,t.noReports=!1,t.ruleFilter&&t.ruleId&&t.ruleId!==t.report.rule_id&&(t.isCollapsed=!0),t.$on("telemetry:toggleCollapse",function(e,n){t.isCollapsed=n,r()}),t.buildPreview=function(n){return e.preview(t.rule,n).success(function(e){t.system=e;var n=e.reports[0];t.debug.machine_id=n.machine_id,t.debug.uuid=n.uuid,n.machine_id&&n.uuid||(t.noReports=!0),t.report=n,t.loading.isLoading=!1})},t.validatePydata=function(e){if(t.invalidJSON=!1,e)try{JSON.parse(e)}catch(n){t.invalidJSON=!0,t.jsonError=n.message}},t.toggleCollapse=function(){t.isCollapsed=!t.isCollapsed,r()},t.rule&&(t.debug={},t.buildPreview(),n.ruleReports(t.rule.rule_id,"machines").success(function(e){t.machines=e}),n.ruleReports(t.rule.rule_id,"uuids").success(function(e){t.uuids=e}))}function n(){return{controller:e,templateUrl:"js/components/rule/ruleSummary/ruleSummary.html",restrict:"EC",scope:{report:"=",rule:"=",ruleId:"=",ruleFilter:"=",loading:"="}}}var r=t("../../");e.$inject=["$scope","Rule","Report"],r.directive("ruleSummary",n)},{"../../":38}],52:[function(t){"use strict";function e(t,e){function n(){t.text="Permanently Ignore Rule",t.rule&&t.rule.acks&&t.rule.acks.length&&(t.text="Unignore Rule")}t.ackAction=function(){if(t.rule&&t.rule.acks&&t.rule.acks.length){var n=t.rule.acks.pop();e.deleteAck(n)}else e.createAck(t.rule).then(function(e){t.rule.acks.push(e)})},n(),t.$watch("rule.acks.length",n)}function n(){return{templateUrl:"js/components/rule/ruleToggle/ruleToggle.html",restrict:"E",scope:{rule:"="},controller:e}}var r=t("../../");e.$inject=["$scope","Ack"],r.directive("ruleToggle",n)},{"../../":38}],53:[function(t){"use strict";var e=t("../");e.constant("Severities",["All","INFO","WARN","ERROR"])},{"../":38}],54:[function(t){"use strict";function e(t,e){t.barClass="",t.severityNames=e.severityNames,t.severities=e.severities,t.toggle=function(n){var r=!1;"All"===n&&(r=!0);for(var i in t.severities)t.severities[i]=r;t.severities[n]=!0,e.processReports()},t.filterClass=function(e){return"All"===e&&t.severities[e]?"filter-on":t.severities[e]&&!t.severities.All?"filter-on":void 0}}function n(){return{templateUrl:"js/components/severityBar/severityBar.html",restrict:"EC",controller:e}}var r=t("../");e.$inject=["$scope","RhaTelemetryOverviewService"],r.directive("severityBar",n)},{"../":38}],55:[function(t){"use strict";function e(t){t.severityClass="","INFO"===t.severity?t.severityClass="i-info fa-info-circle":"WARN"===t.severity?t.severityClass="i-warning fa-warning":"ERROR"===t.severity&&(t.severityClass="i-error fa-times-circle")}function n(){return{scope:{severity:"="},templateUrl:"js/components/severityIcon/severityIcon.html",restrict:"EC",replace:!0,controller:e}}var r=t("../");e.$inject=["$scope"],r.directive("severityIcon",n)},{"../":38}],56:[function(t){"use strict";function e(t,e,n,r,i){t.categories=i,t.getCounts=r.getCounts,t.overview=!1,t.isActive=function(e){return t.overview&&n.category===e},t.$watch(function(){return e.current&&e.current.overview},function(e){t.overview=e})}function n(){return{templateUrl:"js/components/sideNav/overviewSideNav/overviewSideNav.html",restrict:"E",replace:!0,controller:e}}var r=t("../../");e.$inject=["$scope","$state","$stateParams","RhaTelemetryOverviewService","Categories"],r.directive("rhaTelemetryOverviewSideNav",n)},{"../../":38}],57:[function(t){"use strict";function e(){return{templateUrl:"js/components/sideNav/sideNav.html",restrict:"E",replace:!0}}var n=t("../");n.directive("sideNav",e)},{"../":38}],58:[function(t){"use strict";function e(t,e,n,r,i,a,o,s){function l(){r.dismiss("close")}function u(t){n.replace(),n.search("machine",t)}t.system=o,t.rule=s,t.loading={isLoading:!1};var c,d;o===!1&&(t.system={hostname:"this.is.a.fake.system",machine_id:"fakemachineidfakemachineidfakemachineid",__fake:!0}),t.close=l,r.result.then(angular.noop,function(){u(null),d(),c()}),u(t.system.machine_id),c=e.$on("$stateChangeStart",l),d=e.$on("telemetry:esc",function(t){return t.preventDefault(),!1}),t.$on("destroy",function(){c(),d()})}var n=t("../../");e.$inject=["$scope","$rootScope","$location","$modalInstance","System","Rule","system","rule"],n.controller("SystemModalCtrl",e)},{"../../":38}],59:[function(t){"use strict";function e(t,e,n,r,a,o,s){function l(){var t=r.search();if(t.sort){var e={sorting:{}};return e.sorting[t.sort]=t.dir||"desc",e}}function u(t){if(t&&t.length){if(t=t[0].split(m),3!==t.length)return;var e={sort:t[2],dir:"+"===t[1]?"asc":"desc"},n=r.search();r.replace(),n.machine&&(e.machine=n.machine),r.search(e)}}function c(t){var e=new Date(t);return e>g&&p>e}function d(t){return new Date(t)<g}function f(){var e=r.search(),n=e.machine;if(n){var i=_.findWhere(v,{machine_id:n});if(i)return t.showSystem(i);r.replace(),r.search("machine",null)}}function h(){t.tableParams.reload()}var p=new Date;p.setDate(p.getDate()-8);var g=new Date;g.setDate(g.getDate()-30);var v=t.systems||[],m=/(\+|-)/;t.filters={hostname:""};var y=null,x=angular.extend({page:1,count:75,filter:t.filters,sorting:{last_check_in:"desc"}},l());t.tableParams=new o(x,{total:v.length,counts:[],getData:function(n,r){u(r.orderBy());var a=r.filter()?e("filter")(v,r.filter().hostname):v;a=r.sorting()?e("orderBy")(a,r.orderBy()):a,t.onlyOffline&&(a=i(a,function(t){return t.last_check_in&&(d(t.last_check_in)||c(t.last_check_in))})),t.actionFilter&&"with"===t.actionFilter?a=i(a,function(t){return t.reports.length>0}):t.actionFilter&&"without"===t.actionFilter&&(a=i(a,function(t){return 0===t.reports.length})),n.resolve(a.slice((r.page()-1)*r.count(),r.page()*r.count()))}}),t.isStale=c,t.isReallyStale=d,t.$watch("systems",function(e){e&&(v=e,t.tableParams.total(v.length),t.tableParams.reload(),e.length&&f())}),t.$watch("onlyOffline",h),t.$watch("actionFilter",h),t.doFetch&&(t.loading=!0,a.getSystemSummary().success(function(e){t.systems=e.systems,t.summary=e.summary,t.loading=!1})),t.showSystem=function(t){y||(y=n.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{system:function(){return t},rule:function(){return!1}}}),y.result.finally(function(){y=null}))},t.unregister=function(e){var n="this system";e&&e.hostname&&(n="<code>"+e.hostname+"</code>"),s.swal({title:"Are you sure?",text:"This will unregister "+n+" from Red Hat Access Insights.",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(n){if(n){a.deleteSystem(e);var r,i=v.length;for(r=0;i>r;r++)if(v[r].machine_id===e.machine_id)return v.splice(r,1),void t.tableParams.reload()}})},t.actionTooltip=function(t){return 1===t?"1 Action":t+" Actions"}}function n(){return{templateUrl:"js/components/system/systemSummaryTable/systemSummaryTable.html",restrict:"EC",scope:{systems:"=",doFetch:"=",onlyOffline:"=",actionFilter:"="},controller:e}}var r=t("../../"),i=t("lodash/collection/filter");e.$inject=["$scope","$filter","$modal","$location","System","NgTableParams","SweetAlert"],r.directive("systemSummaryTable",n)},{"../../":38,"lodash/collection/filter":96}],60:[function(t){"use strict";function e(t,e,n,r){function i(){if(l&&l.length){var e=_.indexBy(t.group.systems,"machine_id");t.systems=_.reject(l,function(t){return!!e[t.machine_id]}),e=null,t.filterSystems()}}function a(){if(!t._filteredSystems||!t._filteredSystems.length)return t.checkboxes.checked=!1,t.totalChecked=0,void(t.indeterminate=!1);var e=0,n=0,r=t._filteredSystems.length;angular.forEach(t._filteredSystems,function(r){e+=t.checkboxes.items[r.machine_id]||0,n+=!t.checkboxes.items[r.machine_id]||0}),(0===n||0===e)&&(t.checkboxes.checked=e===r),t.totalChecked=e,t.indeterminate=0!==e&&0!==n}function o(){t.checkboxes.checked=!1,t.checkboxes.items={}}function s(e,n){var r=angular.element(e.parentElement).children(),i=r.index(e),a=r.index(n);angular.forEach(r.slice(Math.min(i,a),Math.max(i,a)+1),function(e){var n=e.getAttribute("data-machine_id");t.checkboxes.items[n]=!0})}var l,u,c=!1,d=t.type;t._filteredSystems=[],t.indeterminate=!1,t.items=[10,25,50,100],t.itemsPerPage=10,t.title="in"===d?"Systems in This Group":"Available Systems",t.currentPage=1,t.total=0,t.loading=!1,t.maxPages=4,t.systemFilter="",t.checkboxes={checked:!1,items:{}},t.filterSystems=function(){t.filteredSystems=r("filter")(t.systems,{hostname:t.systemsFilter}),t.total=t.filteredSystems.length},t.addSystems=function(){var e=[],r=_.indexBy(t._filteredSystems,"machine_id");for(var i in t.checkboxes.items)t.checkboxes.items[i]&&r[i]&&e.push(r[i]);n.addSystems(t.group,e),o()},t.removeSystems=function(){var e=[];for(var r in t.checkboxes.items)t.checkboxes.items[r]&&e.push(r);n.removeSystems(t.group,e),o()},t.rowClick=function(t){return t.shiftKey&&"mousedown"===t.type?(t.preventDefault(),!1):u?(t.shiftKey&&s(t.delegateTarget,u),void(u=t.delegateTarget)):void(u=t.delegateTarget)},"in"===d?(t.systems=t.group.systems,t.filterSystems(),t.$watch("group.systems",function(){t.filterSystems()},!0)):(t.loading=!0,e.getSystems().success(function(e){t.loading=!1,l=e,i()}),t.$watch("group.systems",i,!0)),t.$watch("checkboxes.checked",function(e){c||angular.forEach(t._filteredSystems,function(n){angular.isDefined(n.machine_id)&&(t.checkboxes.items[n.machine_id]=e)})}),t.$watch("checkboxes.items",a,!0),t.pageChanged=o}function n(){return{templateUrl:"js/components/system/systemTable/systemTable.html",restrict:"E",scope:{group:"=",type:"@"},controller:e}}var r=t("../../");e.$inject=["$scope","System","Group","$filter"],r.directive("systemTable",n)},{"../../":38}],61:[function(t){"use strict";function e(t){function e(t){for(var e=t.querySelectorAll("a"),n=0;n<e.length;n++)e[n].target="_blank"}return{link:function(n,r){t(function(){r&&r[0]&&e(r[0])},0,!1)}}}var n=t("../");e.$inject=["$timeout"],n.directive("targetBlank",e)},{"../":38}],62:[function(t){"use strict";function e(){return{templateUrl:"js/components/topbar/topbar.html",restrict:"E",replace:!0}}var n=t("../");n.directive("topbar",e)},{"../":38}],63:[function(t){"use strict";function e(){return{scope:{yes:"=",no:"=",text:"@"},templateUrl:"js/components/yesNo/yesNo.html",restrict:"EC"}}var n=t("../");n.directive("yesNo",e)},{"../":38}],64:[function(t,e){"use strict";function n(t,e,n,a,o,s){e.otherwise("/overview"),e.when("/error_infos","/rules/admin"),e.when("/rules","/rules/"),n.strictMode(!1),a.html5Mode(!0),s.disableAutoScrolling(),o.interceptors.push(i),o.interceptors.push(r)}var r=t("./interceptors/auth"),i=t("./interceptors/xomit");n.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$httpProvider","$anchorScrollProvider"],e.exports=n},{"./interceptors/auth":66,"./interceptors/xomit":67}],65:[function(t,e){"use strict";var n={autoRefresh:3e5,authenticate:!0,allowExport:!0,doPaf:!0,API_ROOT:"/rs/telemetry/api/",ACCT_KEY:"telemetry:account_number"};window.localStorage.getItem("tapi:dev")&&(n.API_ROOT="v1/"),e.exports=n},{}],66:[function(t,e){"use strict";function n(t,e,n){return{responseError:function(t){return 401===t.status?(n.bounce(),e.reject(t)):e.reject(t)}}}n.$inject=["$rootScope","$q","BounceService"],e.exports=n},{}],67:[function(t,e){"use strict";function n(){return{request:function(t){return t&&t.headers&&(t.headers["X-Omit"]="WWW-Authenticate"),t}}}n.$inject=["$rootScope","$q"],e.exports=n},{}],68:[function(t,e){"use strict";function n(t,e,n,r,i,a,o){t.$on("$stateChangeSuccess",function(){o.pageLoad()}),r.authenticate&&t.$on("$stateChangeStart",function(t,r){var o=i.current;r.permission&&!o.loaded?(t.preventDefault(),i.asyncCurrent(function(t){a.has(t,a.PERMS[r.permission])?n.sync():e.go("forbidden")})):r.permission&&!a.has(o,a.PERMS[r.permission])&&e.go("forbidden")})}n.$inject=["$rootScope","$state","$urlRouter","CONFIG","User","PermissionService","AnalyticsService"],e.exports=n},{}],69:[function(t,e){"use strict";function n(t){t.state("admin-rules",{url:"/rules/admin",templateUrl:"js/states/rules/views/admin-rules.html",controller:"AdminRuleCtrl",hideGroup:!0}).state("create-rule",{url:"/rules/new",templateUrl:"js/states/rules/views/create-rules.html",controller:"NewRuleCtrl",hideGroup:!0}).state("show-rule",{url:"/rules/:id",templateUrl:"js/states/rules/views/show-rules.html",controller:"ShowRuleCtrl",hideGroup:!0}).state("edit-rule",{url:"/rules/:id/edit",templateUrl:"js/states/rules/views/edit-rules.html",controller:"EditRuleCtrl",hideGroup:!0}),t.state("forbidden",{url:"/403",templateUrl:"js/states/pages/views/403.html"}),t.state("config",{url:"/config/:tab",templateUrl:"js/states/config/views/config.html",controller:"ConfigCtrl",params:{tab:null},hideGroup:!0}),t.state("announcements",{url:"/announcements",templateUrl:"js/states/announcements/announcements.html",controller:"ListAnnouncementCtrl"}).state("new-announcement",{url:"/announcements/new",templateUrl:"js/states/announcements/new-announcement.html",controller:"NewAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}).state("edit-announcement",{url:"/announcements/:id/edit",templateUrl:"js/states/announcements/edit-announcement.html",controller:"EditAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}).state("view-announcement",{url:"/announcements/:slug",templateUrl:"js/states/announcements/view-announcement.html",controller:"ViewAnnouncementCtrl"})}n.$inject=["$stateProvider","$locationProvider","$urlRouterProvider"],e.exports=n},{}],70:[function(t,e){"use strict";function n(t){t.state("overview",{url:"/overview/{category}",templateUrl:"js/states/overview/overview.html",controller:"OverviewCtrl",params:{category:{value:null,squash:!0}},overview:!0}).state("overview-rule",{url:"/overview/:category/:rule",templateUrl:"js/components/overview/overviewRule/overviewRule.html",controller:"OverviewRuleCtrl",overview:!0}),t.state("systems",{url:"/systems?sort&dir&offline",templateUrl:"js/states/systems/systems.html",controller:"SystemCtrl",reloadOnSearch:!1}),t.state("rules",{url:"/rules/",templateUrl:"js/states/rules/views/list-rules.html",controller:"ListRuleCtrl",hideGroup:!0})}n.$inject=["$stateProvider","$locationProvider","$urlRouterProvider"],e.exports=n},{}],71:[function(t){"use strict";function e(t,e,n){var r=e.current,i=r.account_number,a=window.sessionStorage.getItem(n.ACCT_KEY);return r.is_internal&&a&&(i=a),t.$on("account:change",function(e,n){i!=n&&(i=n,t.$broadcast("reload:data"))}),{current:function(t){if(i){var e=t?t:"?";return e+="account_number="+i}return""},number:function(){return i}}}var n=t("./");e.$inject=["$rootScope","User","CONFIG"],n.service("AccountService",e)},{"./":75}],72:[function(t){"use strict";function e(){var t=[];return{actions:t,add:function(e){t.push(e)},set:function(e){t.length=0,Array.prototype.push.apply(t,e)},clear:function(){t.length=0}}}var n=t("./");n.factory("ActionbarService",e)},{"./":75}],73:[function(t){"use strict";function e(t,e){return{pageLoad:function(){e.doPaf&&window.chrometwo_require&&window.chrometwo_require(["analytics/main","analytics/attributes"],function(t,e){t.init(["omniture"]),e.harvest(),t.report()})},clickEvent:function(){e.doPaf&&window.chrometwo_require&&window.chrometwo_require(["analytics/main"],function(){})}}}var n=t("./");e.$inject=["$http","CONFIG"],n.service("AnalyticsService",e)},{"./":75}],74:[function(t){"use strict";function e(t){return{bounce:function(){t.authenticate&&(window.location="/login?redirectTo="+window.location)}}}var n=t("./");e.$inject=["CONFIG"],n.service("BounceService",e)},{"./":75}],75:[function(t,e){"use strict";e.exports=angular.module("insights.services",[]),function(){var e=t("./index.js");return e["account.service"]=t("./account.service.js"),e["actionbar.service"]=t("./actionbar.service.js"),e["analytics.service"]=t("./analytics.service.js"),e["bounce.service"]=t("./bounce.service.js"),e.index=t("./index.js"),e["overview.service"]=t("./overview.service.js"),e["overviewBreadcrumbs.service"]=t("./overviewBreadcrumbs.service.js"),e["permission.service"]=t("./permission.service.js"),e["rulePreview.service"]=t("./rulePreview.service.js"),e["smoothScroll.service"]=t("./smoothScroll.service.js"),e["sweetalert.service"]=t("./sweetalert.service.js"),e}()},{"./account.service.js":71,"./actionbar.service.js":72,"./analytics.service.js":73,"./bounce.service.js":74,"./index.js":75,"./overview.service.js":76,"./overviewBreadcrumbs.service.js":77,"./permission.service.js":78,"./rulePreview.service.js":79,"./smoothScroll.service.js":80,"./sweetalert.service.js":81}],76:[function(t){"use strict";function e(t,e,n,c,d,f,h,p){var g={},v={},m=[],y=0,x=null,b=[],$=!1,w=p,_={},A=null,k=null,T=!1,S=null,C=null,M=!1,E=h;angular.forEach(w,function(t){_[t]=!0});var D=function(t){return _[t.rule.severity]},O=function(){return k?!1:!0},j=function(t){return d.ackMap[t.rule.rule_id]},L=function(t){return v[t]&&v[t].name?v[t].name:t},R=function(){var t=r(b,j);P(t),t=i(t,D),O()?(v=l(t,function(t){return t.rule.category}),v=a(v,function(t,e){var n=o(t,function(t,e){return t+e.count},0);return{id:e,name:e,value:n,category:!0}}),v=u(v,"id"),z(v)):(v=i(t,function(t){return t.rule.category.toLowerCase()===k.toLowerCase()}),v=a(v,function(t){return{id:t.rule.rule_id,name:t.rule.description,severityNum:s(w,t.rule.severity),severity:t.rule.severity,category:t.rule.category,value:t.count,color:""}}),v=u(v,"id"),z(v)),y=o(v,function(t,e){return t+e.value},0),G(y),n.$broadcast("rha-telemetry-refreshdonut"),n.$on("group:change",q),n.$on("account:change",q)},I=function(t){if(T){var n=e(function(t){t("norefresh")});return n.then(function(){R()}),n}$=!0;var r=c.countMap(t),i=d.reload();return i.then(r),r.success(function(t){Y(t),R()}),r.finally(function(){$=!1,T=!0}),r},P=function(t){var e={security:0,stability:0,performance:0};t=l(t,function(t){return t.rule.category}),o(t,function(t,e,n){return t[n.toLowerCase()]=o(e,function(t,e){return t+e.count},0),t},e),le(e)},F=function(e){return e.category===!0?t.go("overview",{category:e.id.toLowerCase()}):void t.go("overview-rule",{category:e.category.toLowerCase(),rule:e.id})},N=function(t){d.createAck(t).then(R)},B=function(){return ie(!0),c.ruleReports(J()).success(function(t){if(!t||!t.length)return S=null,void(C=null);var e=t[0];C=e.rule,S=t,ie(!1)})},q=function(){T&&(re(!1),I(!0).then(function(){t.reload()}))},U=function(){return y},V=function(){return v},z=function(t){v=t},X=function(){return A},H=function(t){A=t},Y=function(t){b=t},G=function(t){y=t},W=function(){return k},K=function(t){k=t},Z=function(t){x=t},J=function(){return x},Q=function(t){C=t},te=function(){return C},ee=function(t){S=t},ne=function(){return S},re=function(t){T=t},ie=function(t){M=t},ae=function(){return M},oe=function(){return E},se=function(){return g},le=function(t){g=t},ue=function(){return m},ce=function(t){m=t};return f.autoRefresh&&!isNaN(f.autoRefresh)&&setInterval(q,parseInt(f.autoRefresh,10)),{isOverview:O,ackFilter:j,severityFilter:D,getTotal:U,getData:V,processReports:R,populateData:I,updateCounts:P,arcClick:F,mapName:L,ackAction:N,getCounts:se,setCounts:le,data:v,total:y,rule:x,reports:b,loading:$,severityNames:w,severities:_,donutChart:A,category:k,dataLoaded:T,setDonutChart:H,setCategory:K,getDonutChart:X,getRule:J,setRule:Z,getCategory:W,reportDetails:S,setReportDetails:ee,getReportDetails:ne,setRuleDetails:Q,getRuleDetails:te,populateDetails:B,setLoadingDetails:ie,getLoadingDetails:ae,reload:q,setDataLoaded:re,getCategories:oe,getOldCols:ue,setOldCols:ce}}var n=t("./"),r=t("lodash/collection/reject"),i=t("lodash/collection/filter"),a=t("lodash/collection/map"),o=t("lodash/collection/reduce"),s=t("lodash/array/indexOf"),l=t("lodash/collection/groupBy"),u=t("lodash/collection/indexBy");e.$inject=["$state","$q","$rootScope","Report","Ack","CONFIG","Categories","Severities"],n.factory("RhaTelemetryOverviewService",e)},{"./":75,"lodash/array/indexOf":93,"lodash/collection/filter":96,"lodash/collection/groupBy":97,"lodash/collection/indexBy":99,"lodash/collection/map":100,"lodash/collection/reduce":101,"lodash/collection/reject":102}],77:[function(t){"use strict";function e(t){function e(t){return r.length=0,Array.prototype.push.apply(r,t),r}function n(t){r.push(t)}var r=[];return{init:function(n){var r=[{label:"Overview",state:"overview",params:{category:null}}];n.category&&r.push({label:t("titlecase")(n.category),state:"overview",params:{category:n.category}}),e(r)},get:function(){return r},set:e,add:n}}var n=t("./");e.$inject=["$filter","RhaTelemetryOverviewService"],n.factory("OverviewBreadcrumbs",e)},{"./":75}],78:[function(t){"use strict";function e(){function t(t,e){return t&&t.permissions?t.permissions[r.SU]?!0:t.permissions[e]?!0:!1:!1}return{has:t,PERMS:r}}var n=t("./"),r={SU:"SU",INTERNAL:"INTERNAL",CREATE_ANNOUNCEMENT:"CREATE_ANNOUNCEMENT",CONTENT_MANAGER:"CONTENT_MANAGER"};n.service("PermissionService",e)},{"./":75}],79:[function(t){"use strict";function e(t,e){return{preview:function(t){e.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{rule:function(){return t},system:function(){return!1}}})}}}var n=t("./");e.$inject=["$http","$modal"],n.service("RulePreview",e)},{"./":75}],80:[function(t){"use strict";function e(){function t(t){for(var e=t.offsetTop,n=t;n.offsetParent&&n.offsetParent!==document.body;)n=n.offsetParent,e+=n.offsetTop;return e-=20}function e(t,e,n){setTimeout(window.scrollTo,t*e,0,n)}return{scroll:function(n){var r=document.getElementById(n);if(r){var i,a=window.pageYOffset||0,o=t(r),s=o>a?o-a:a-o;if(100>s)return void scrollTo(0,o);var l=18,u=Math.round(s/25),c=o>a?a+u:a-u,d=0;if(o>a)for(i=a;o>i;i+=u)e(d,l,c),c+=u,c>o&&(c=o),d++;else for(i=a;i>o;i-=u)e(d,l,c),c-=u,o>c&&(c=o,d++)}}}}var n=t("./");n.service("SmoothScroll",e)},{"./":75}],81:[function(t){"use strict";function e(t){return{swal:function(e,n,i){t.$evalAsync(function(){"function"==typeof n?r(e,function(e){t.$evalAsync(function(){n(e)})},i):r(e,n,i)})},success:function(e,n){t.$evalAsync(function(){r(e,n,"success")})},error:function(e,n){t.$evalAsync(function(){r(e,n,"error")})},warning:function(e,n){t.$evalAsync(function(){r(e,n,"warning")})},info:function(e,n){t.$evalAsync(function(){r(e,n,"info")})}}}var n=t("./"),r=t("./../../bower_components/sweetalert/lib/sweet-alert.js");e.$inject=["$rootScope"],n.factory("SweetAlert",e)},{"./":75,"./../../bower_components/sweetalert/lib/sweet-alert.js":11}],82:[function(t){"use strict";function e(t,e,n,r){function i(e){t.canCreate=e&&e.is_internal&&r.has(e,r.PERMS.CREATE_ANNOUNCEMENT)}t.announcements=e.announcements,t.canCreate=!1,n.asyncCurrent(i)}function n(t,e,n){n.bySlug(e.slug).then(function(e){t.announcement=e})}function r(t,e,n){n.byId(e.id).then(function(e){t.announcement=e})}function i(t,e,n){t.announcement={hidden:!1},t.create=function(){n.createAnnouncement(t.announcement).success(function(){e.go("announcements")})}}var a=t("../");e.$inject=["$scope","Announcement","User","PermissionService"],n.$inject=["$scope","$stateParams","Announcement"],r.$inject=["$scope","$stateParams","Announcement"],i.$inject=["$scope","$state","Announcement"],a.controller("ListAnnouncementCtrl",e),a.controller("ViewAnnouncementCtrl",n),a.controller("EditAnnouncementCtrl",r),a.controller("NewAnnouncementCtrl",i)},{"../":84}],83:[function(t){"use strict";function e(t,e,n,r){t.current={},n.tab?t.current[n.tab]=!0:t.current.hidden=!0,t.tabClick=function(t){e.go("config",{tab:t},{notify:!1})},t.isRHAccount=function(){return"540155"===r.number()}}var n=t("../");e.$inject=["$scope","$state","$stateParams","AccountService"],n.controller("ConfigCtrl",e)},{"../":84}],84:[function(t,e){"use strict";e.exports=angular.module("insights.states",[]),function(){var e=t("./index.js");return e.announcements={"announcements.controller":t("./announcements/announcements.controller.js")},e.config={"config.controller":t("./config/config.controller.js")},e.index=t("./index.js"),e.overview={"overview.controller":t("./overview/overview.controller.js")},e.rules={controllers:{"admin.rules.controller":t("./rules/controllers/admin.rules.controller.js"),"edit.rules.controller":t("./rules/controllers/edit.rules.controller.js"),"list.rules.controller":t("./rules/controllers/list.rules.controller.js"),"new.rules.controller":t("./rules/controllers/new.rules.controller.js"),"show.rules.controller":t("./rules/controllers/show.rules.controller.js")}},e.systems={"systems.controller":t("./systems/systems.controller.js")},e}()},{"./announcements/announcements.controller.js":82,"./config/config.controller.js":83,"./index.js":84,"./overview/overview.controller.js":85,"./rules/controllers/admin.rules.controller.js":86,"./rules/controllers/edit.rules.controller.js":87,"./rules/controllers/list.rules.controller.js":88,"./rules/controllers/new.rules.controller.js":89,"./rules/controllers/show.rules.controller.js":90,"./systems/systems.controller.js":91}],85:[function(t){"use strict";function e(t,e,n,r,i,a,o,s,l){t.loading=i.loading,i.setCategory(e.category),i.setRule(null),i.setReportDetails(null),i.populateData(!0),s.init(e),l.allowExport&&o.add({fn:function(){a.exportReports(i.getCategory())},icon:"fa-download",title:"Export to CSV"})}var n=t("../");e.$inject=["$scope","$stateParams","$state","$filter","RhaTelemetryOverviewService","Report","ActionbarService","OverviewBreadcrumbs","CONFIG"],n.controller("OverviewCtrl",e)},{"../":84}],86:[function(t){"use strict";function e(t,e){for(;t&&t!==document;){var n=t.parentNode,r=(n&&n.className||"").split(/\s+/);if(i(r,e))return n;t=n}return null}function n(t,n,r,i,a,o,s,l){function u(e){t.canDelete=e&&e.is_internal&&s.has(e,s.PERMS.CONTENT_MANAGER)}function c(){var e=f[t.tab];e&&e()}function d(t){a.create(t).success(function(t){n.go("edit-rule",{id:t.rule_id})})}t.predicate="count",t.reverse=!0,t.toggled=null,t.canDelete=!1,t.newRule={plugin:"",error_key:""},a.admin().success(function(e){t._rules=e}),o.asyncCurrent(u);var f={active:function(){t.records=r("filter")(t._rules,function(t){return t.active})},retired:function(){t.records=r("filter")(t._rules,function(t){return t.retired&&!t.needs_content})},inactive:function(){t.records=r("filter")(t._rules,function(t){return!t.active&&!t.retired&&!t.needs_content})},needs_content:function(){t.records=r("filter")(t._rules,function(t){return t.needs_content===!0})}};t.activateTab=function(e){t.tab=e,c()},t.tab="active",t.toggleTray=function(e){return t.toggled===e?void(t.toggled=null):void(t.toggled=e)},t.isToggled=function(e){return t.toggled===e},t.isTabActive=function(e){return _.includes(e,t.tab)},t.createRule=function(){d(t.newRule)},t.createRecord=function(t){d(t.rule)},t.deactivateRecord=function(t){var e=t.rule;e.active=t.active=!1,a.update(e)},t.activateRecord=function(t){var e=t.rule;e.active=t.active=!0,a.update(e)},t.unretireRecord=function(t){var e=t.rule;e.retired=t.retired=!1,a.update(e)},t.retireRecord=function(t){var e=t.rule;e.retired=t.retired=!0,a.update(e)},t.buttonGroupClass=function(e){return t.tab===e?"btn-default":"btn-secondary"},t.deleteRecord=function(e){function n(){a.delete(r).then(function(){for(var e=0,n=t._rules.length;n>e;e++)if(t._rules[e].rule_id&&t._rules[e].rule_id===r.rule_id)return void t._rules.splice(e,1)})}var r=e.rule,i="Do you really want to delete <code>"+r.rule_id+"</code>?";e.count&&(i+="<br><br><strong>Note:</strong> This rule has hits. If deleted it will still show up in needs content."),l.swal({title:"Are you sure?",text:i,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(t){t&&n()})};var h=i.on("click",function(n){e(n.target,"utilities-tray")||t.$apply(t.toggleTray.bind(t,null))});t.$watch("_rules",c,!0),t.$on("$destroy",function(){h.off("click")})}var r=t("../../"),i=t("lodash/collection/contains");n.$inject=["$scope","$state","$filter","$document","Rule","User","PermissionService","SweetAlert"],r.controller("AdminRuleCtrl",n)},{"../../":84,"lodash/collection/contains":95}],87:[function(t){"use strict";function e(t,e,n,r){r.byId(e.id).success(function(e){t.rule=e,t.rule._rule_id=e.rule_id}),t.saveFn=function(){r.update(t.rule).success(function(t){n.go("show-rule",{id:t.rule_id})})}}var n=t("../../");e.$inject=["$scope","$stateParams","$state","Rule"],n.controller("EditRuleCtrl",e)},{"../../":84}],88:[function(t){"use strict";function e(t,e,n,r,i,a){function o(){var e=s[t.tab];e&&e()}t.filter="",t.categoryNames=["all","stability","performance","security"],t.tab="all",t.loading=!0,a.summary().success(function(e){t._rules=e,t.loading=!1;var a=n.hash();i(function(){r.scroll(a)},0)});var s={all:function(){t.rules=t._rules},performance:function(){t.rules=e("filter")(t._rules,function(t){return"Performance"===t.category})},stability:function(){t.rules=e("filter")(t._rules,function(t){return"Stability"===t.category})},security:function(){t.rules=e("filter")(t._rules,function(t){return"Security"===t.category})}};t.activateTab=function(e){t.tab=e,o()},t.buttonGroupClass=function(e){return t.tab===e?"btn-default":"btn-secondary"},t.$watch("_rules",o,!0),t.permalink=function(t){n.hash(t),r.scroll(t)},t.toggle=function(e){t.tab=e,o()},t.filterClass=function(e){return t.tab===e?"filter-on":void 0}}var n=t("../../");e.$inject=["$scope","$filter","$location","SmoothScroll","$timeout","Rule"],n.controller("ListRuleCtrl",e)},{"../../":84}],89:[function(t){"use strict";
function e(t,e){t.rule={severity:"INFO",category:"Stability"},t.saveFn=function(){e.create(t.rule).success(function(t){})}}var n=t("../../");e.$inject=["$scope","Rule"],n.controller("NewRuleCtrl",e)},{"../../":84}],90:[function(t){"use strict";function e(t,e,n,r,i){r.byId(n.id).success(function(e){t.rule=e}),t.preview=i.preview,t.editInfo=function(t){e.go("edit-rule",{id:t.rule_id})}}var n=t("../../");e.$inject=["$scope","$state","$stateParams","Rule","RulePreview"],n.controller("ShowRuleCtrl",e)},{"../../":84}],91:[function(t){"use strict";function e(t,e,n,r,i){function a(){return r.getSystemSummary().success(function(e){t.systems=e.systems,t.summary=e.summary,t.loading=!1})}t.onlyOffline=!1;var o=n.search();o&&o.offline&&(t.onlyOffline=!0),t.loading=!0,t.actionFilter=null;var s;t.$on("reload:data",a),t.$on("group:change",a),a(),t.applyActionFilter=function(e){t.actionFilter=e},i.autoRefresh&&!isNaN(i.autoRefresh)&&(s=setInterval(a,parseInt(i.autoRefresh,10))),t.$on("$destroy",function(){s&&clearInterval(s)})}var n=t("../");e.$inject=["$scope","$modal","$location","System","CONFIG"],n.controller("SystemCtrl",e)},{"../":84}],92:[function(t,e){"use strict";e.exports=angular.module("insights.templates",[]).run(["$templateCache",function(t){t.put("js/components/actionbar/actionbar.html",'<div ng-show="actions.length" class="actionbar"><i ng-class="action.icon" ng-repeat="action in actions" ng-click="action.fn()" tooltip="{{action.title}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="bottom" class="pointer fa"></i></div>'),t.put("js/components/accountSelect/accountSelect.html",'<div ng-show="user.is_internal" class="tam"><label>Account Number</label><div ng-click="reset()" class="fa fa-refresh pull-right tam-icon pointer"></div><input ng-model="account_number" ng-model-options="{ debounce: 750 }" ng-change="accountChange(account_number)" class="accNumbInput"/></div>'),t.put("js/components/bullhorn/bullhorn.html",'<div><i ng-click="toggle()" class="announcements-icon"><div ng-show="unseen.count" class="has-announcement"><span class="count">{{unseen.count}}</span></div><div ng-show="unseen.count" class="fa fa-bullhorn"></div><a ui-sref="announcements" ng-hide="unseen.count" class="fa fa-bullhorn"></a></i><div id="announcements" ng-show="unseen.count &amp;&amp; showAnnouncements" class="announcements fade-out"><ul><li ng-repeat="a in announcements | filter:unseenFilter" class="clearfix"><div> <span ng-hide="a.slug &amp;&amp; a.details">{{a.message}}</span><a ng-show="a.slug &amp;&amp; a.details" ui-sref="view-announcement({slug: a.slug})" ng-click="toggle()">{{a.message}}</a><div ng-click="ack(a)" class="fa fa-close btn btn-xs pull-right"></div></div></li></ul></div></div>'),t.put("js/components/groupSelect/groupSelect.html",'<div ng-show="groups.length" class="groups-select"><label>Groups</label><div class="rounded group-select dropdown-select"><select ng-model="group" ng-options="g as g.display_name for g in groups track by g.id" ng-change="groupChange()"><option value="">All</option></select></div></div>'),t.put("js/components/recommendedKbase/recommendedKbase.html",'<div ng-show="solution &amp;&amp; !loading" class="matched-solution"><i class="fa fa-circular fa-lightbulb-o"> </i><strong> Related Knowledgebase articles: </strong><a target="_blank" href="{{solution.viewUri}}">{{solution.title}}</a></div><div ng-show="loading" class="spinner spinner-sm spinner-inline"></div>'),t.put("js/components/overview/overview.html",'<div class="chart-container"><span ng-show="loading" class="preloader"></span><div class="donut-container no-actions hidden"><div class="donut-hole"><div class="content"><div class="zero">Zero</div><div class="actions-found">Actions Found</div><div class="perfect">Perfect!</div><div class="status">Status</div></div></div><div class="donut"></div></div><div class="donut-container"><div class="donut-hole"><div class="content"><span class="num">{{getTotal()}}</span><ng-pluralize count="getTotal()" when="{\'one\': \'Action\', \'other\': \'Actions\'}" class="text"></ng-pluralize></div></div><div class="rha-telemetry-donut"></div></div><div ng-class="loading ? \'inactive\' : \'\'" class="reset hidden"><button ng-click="reload()" ng-disabled="loading" class="chart-back simple"><span class="fa fa-refresh"></span><span class="hidden">Reset Chart</span></button></div><div class="row row-tall"><div class="col-sm-10 col-sm-offset-1"><p>Use this chart to drill down and discover problems within your organization.</p><hr/><p class="light">There are&nbsp;<strong>{{getTotal()}}&nbsp;</strong><span ng-hide="isOverview()">{{getCategory()}} </span>action(s) detected from systems in your organization.</p></div></div><div ng-show="getReportDetails()" class="row"></div><div class="row chart-header"><div class="col-xs-12"><div ng-hide="getLoadingDetails()"><h1 class="page-title">{{getRuleDetails().description}}</h1></div></div></div><div ng-show="!getLoadingDetails() &amp;&amp; getReportDetails()" class="row"><div class="col-sm-12"><table class="table ng-table nomar"><thead><tr><th ng-class="predicate | sortClass:\'system.hostname\':reverse" ng-click="predicate = \'system.hostname\'; reverse=!reverse" class="sortable"><div>Hostname</div></th><th ng-class="predicate | sortClass:\'date\':reverse" ng-click="predicate = \'date\'; reverse=!reverse" class="sortable"><div>Reported</div></th><th></th></tr></thead></table><div class="tbody-scrollable"><table class="table ng-table nomar"><tbody><tr ng-click="showSystem(report.system)" ng-repeat="report in getReportDetails() | orderBy:predicate:reverse"><td>{{ report.system.hostname }}</td><td>{{report.date | timeAgo}}</td><td><a>View</a></td></tr></tbody></table></div></div></div></div>'),t.put("js/components/severityBar/severityBar.html",'<div ng-class="barClass" class="filters filters-severity"><div name="sev-toggles" role="group" class="severity-filter-toggle"><button ng-class="filterClass(sevName)" ng-click="toggle(sevName)" ng-repeat="sevName in severityNames" class="{{sevName.toLowerCase()}}-toggle"><severity-icon severity="sevName"></severity-icon><span class="sev">{{ sevName }}</span></button></div></div>'),t.put("js/components/sideNav/sideNav.html",'<div class="dashboard-navigation-container"><aside class="dashboard-navigation"><div class="user-profile"><account-select></account-select><menu class="nav"><ul><rha-telemetry-overview-side-nav></rha-telemetry-overview-side-nav><li><a ui-sref="systems" ui-sref-active="current">Systems</a></li><li><a ui-sref="rules" ui-sref-active="current">Rules</a></li><li><a ui-sref="config" ui-sref-active="current">Configuration</a></li></ul></menu></div></aside></div>'),t.put("js/components/severityIcon/severityIcon.html",'<i ng-class="severityClass" class="fa"></i>'),t.put("js/components/topbar/topbar.html",'<div class="top-bar"><div style="margin-bottom: 2em;" class="case-switch"></div><bullhorn class="top-wrapper"></bullhorn></div>'),t.put("js/components/yesNo/yesNo.html","<span><i ng-class=\"{'fa-times fail': no, 'fa-check success': yes}\" class=\"fa\"> </i><strong> {{text}}</strong></span>"),t.put("js/states/announcements/announcements.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">Announcements</h1></div></div><div class="row"><div class="col-xs-12"><table class="table table-striped"><thead><tr><th>Message</th><th>Date</th></tr></thead><tbody><tr ng-repeat="a in announcements"><td><span ng-hide="a.slug &amp;&amp; a.details">{{a.message}}</span><a ng-show="a.slug &amp;&amp; a.details" ui-sref="view-announcement({slug: a.slug})">{{a.message}}</a></td><td>{{a.created_at | date}}</td></tr></tbody></table></div></div><div class="row row-short"><div class="col-xs-12"><a ui-sref="new-announcement" ng-show="canCreate" class="pull-right btn btn-app">Create Announcement</a></div></div></div>'),t.put("js/states/announcements/new-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">New Announcement</h1></div></div><div class="row"><div class="col-xs-12 col-m-8"><form ng-submit="create()" name="form" class="form-horizontal"><fieldset><div class="row"><div class="col-xs-12"><label class="control-label">Message</label><input ng-model="announcement.message" type="text" placeholder="Announcement Message" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Slug</label><input ng-model="announcement.slug" type="text" placeholder="Slug" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Details</label><textarea ng-model="announcement.details" type="text" placeholder="Details" required="required" class="form-control"></textarea></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;</label><label for="hidden" class="control-label">Hidden</label></div></div><div class="row"><div class="col-xs-12"><button name="submit" ng-disabled="form.$error.required" class="btn btn-app pull-right">Create Announcement</button></div></div></fieldset></form></div></div></div>'),t.put("js/states/announcements/view-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><strong class="pull-right">{{announcement.created_at | date}}</strong><h1 class="page-title">{{announcement.message}}</h1></div></div><div class="row push-top border-top"><div class="col-xs-12"><div ng-bind-html="announcement.details_html | trust_html" target-blank=""></div></div></div></div>'),t.put("js/states/overview/overview.html",'<div class="row"><div class="col-md-6 col-lg-5 chart-col"><rha-telemetry-overview></rha-telemetry-overview></div><div ng-hide="loading" class="col-md-6 col-lg-7"><div class="overview-details"></div></div></div>'),t.put("js/states/systems/systems.html",'<section class="page-systems"><section class="section-system actions"><div class="complete ng-cloak"><div class="row"><div class="col-sm-8"><h1 class="page-title">Systems</h1><div ng-hide="loading" class="system-summary"><p><span class="num fail"><i class="fa fa-exclamation-circle"> </i> {{summary.red}}</span><ng-pluralize count="summary.red" when="{\'one\': \' System \', \'other\': \' Systems \'}"></ng-pluralize>with actions&nbsp;&nbsp;&nbsp;<span class="num success"><i class="fa fa-check-circle"></i> {{summary.green}}</span><ng-pluralize count="summary.green" when="{\'one\': \' System \', \'other\': \' Systems \'}"></ng-pluralize>with no actions</p></div></div><div class="col-sm-4"><group-select></group-select></div></div><div ng-show="loading" class="row row-short"><div class="col-xs-12"><div class="load text-center"><div class="spinner spinner-lg"></div>Loading system information…</div></div></div><div ng-hide="loading" systems="systems" class="row row-short"><div class="col-md-8"><label class="full-width">Filter by System Actions</label><div class="filters"><button ng-class="{\'filter-on\': !actionFilter}" ng-click="applyActionFilter()" class="all-toggle"><span>All Systems</span></button><button ng-class="{\'filter-on\': actionFilter == \'with\'}" ng-click="applyActionFilter(\'with\')"><span class="fail"><i class="fa fa-exclamation-circle"></i></span><span>With Actions</span></button><button ng-class="{\'filter-on\': actionFilter == \'without\'}" ng-click="applyActionFilter(\'without\')"><span class="success"><i class="fa fa-check-circle"></i></span><span>Without Actions</span></button></div></div><div class="col-md-4"><label class="full-width">Show only Offline Systems</label><div class="switch"><input id="cmn-toggle-2" type="checkbox" ng-model="onlyOffline" class="cmn-toggle cmn-toggle-square"/><label for="cmn-toggle-2"></label></div></div></div><div class="row"><div class="col-xs-12"><system-summary-table ng-hide="loading" systems="systems" only-offline="onlyOffline" action-filter="actionFilter"></system-summary-table></div></div></div></section></section>'),t.put("js/components/config/groups/groups.html",'<div class="groups"><section><div ng-bind="message" ng-show="message.length &gt; 0" role="alert" class="alert alert-danger"></div><group-form></group-form></section><section ng-show="loading"><div class="spinner spinner-lg"></div>Loading group list info …</section><section><div class="row"><div class="col-xs-12"><h2 ng-show="!loading" class="page-title">Groups List</h2><div ng-show="isCreating" class="text-center"><div class="spinner spinner-lg"></div>Creating group …</div></div></div><div class="row"><div class="col-xs-12"><div class="group-list"><group ng-repeat="group in groups | orderBy:\'display_name\'" class="group"></group></div></div></div></section></div>'),t.put("js/components/config/hidden/hidden.html",'<div class="acks row active"><div class="col-md-8"><h2 class="page-title">Hidden Rules</h2><p>You currently have&nbsp;<ng-pluralize count="acks.length" when="{\'one\': \'1 hidden rule.\', \'other\': \'{} hidden rules.\'}"></ng-pluralize></p><p><strong>Note:</strong>These are account wide.</p></div><div class="col-md-12"><section ng-show="loading"><div class="spinner spinner-lg"></div>Loading hidden rules…</section></div><div class="col-md-12"><section ng-hide="loading"><table ng-show="acks.length" class="table table-striped"><thead><tr><th>Category</th><th>Rule</th><th></th></tr></thead><tbody><tr ng-repeat="ack in acks"><td>{{ack.rule.category}}</td><td>{{ack.rule.description}}</td><td><div ng-click="delete(ack)" class="fa fa-times pointer pull-right"></div></td></tr></tbody></table></section></div></div>'),t.put("js/components/config/messaging/messaging.html",'<div class="acks row active"><div class="col-md-12"><h2 class="page-title">Messaging Preferences</h2><p>Manage Red Hat Access Insights email subscriptions for your personal login. All emails will be sent to the email address associated with your login. To update your address see <a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html" target="_blank">Personal Info</a>.</p><form ng-submit="save(form)" name="form"><fieldset><div ng-repeat="campaign in campaigns | orderBy:\'id\' track by campaign.id" class="checkbox push-bottom-narrow"><label><input type="checkbox" ng-model="campaign.enrolled"/>{{campaign.label}}<div ng-if="campaign.description" class="small"> {{campaign.description}}</div></label></div><button name="submit" ng-disabled="form.$pristine" class="btn btn-app">Update</button></fieldset></form></div></div>'),t.put("js/components/config/permissions/permissions.html",'<div class="user-permissions"><div class="row"><div class="col-xs-12"><input ng-model="newPermission.sso_username"/><select ng-options="p as p.label for p in permissions" ng-model="tmpPermission"></select><div ng-click="addNewPermission()" class="btn">Add</div></div></div><div class="row group-list"><div ng-repeat="user in users | filter:newPermission.sso_username" class="col-sm-4"><div class="group user-permission"><div class="name header"><a ng-click="newPermission.sso_username = user">{{user}}</a></div><div class="content"><div class="permissions"><div ng-repeat="p in userMap[user]" class="perm">{{p.permission.label}}<div ng-click="removeSingle(p)" class="remove fa fa-times"></div></div></div><div class="remove pull-right"><a ng-click="removeAll(userMap[user])" class="fa fa-times">Remove all!</a></div></div></div></div></div></div>'),t.put("js/components/group/views/form.html",'<div class="row"><form ng-submit="create(newGroup)"><div class="col-xs-12 col-sm-8 col-md-7"><label>Create a new group</label><input ng-model="newGroup.display_name" placeholder="Enter a name here" class="full-width"/></div><div class="col-xs-12 col-sm-4 col-md-2"><label class="invisible"><Add>Group</Add></label><a ng-disabled="!newGroup.display_name" ng-click="create(newGroup)" class="pointer"><span class="fa fa-plus">  Add Group</span></a></div></form></div>'),t.put("js/components/group/views/group.html",'<div ng-click="isCollapsed = !isCollapsed" class="header pointer"><div class="row"><div class="col-xs-8 col-sm-11"><div class="host-info"><h4 class="host">{{group.display_name}}<small> &mdash; <ng-pluralize count="group.systems.length" when="{\'one\': \'1 system\', \'other\': \'{} systems\'}"></ng-pluralize></small></h4></div></div><div class="col-xs-4 col-sm-1"><div class="options pull-right"><div ng-class="{\'fa-minus-square-o\':!isCollapsed, \'fa-plus-square-o\':isCollapsed}" class="fa"></div></div></div></div></div><div collapse="isCollapsed" class="content"><div class="row"><system-table group="group" type="available"></system-table><system-table group="group" type="in"></system-table></div></div><div class="footer"><div class="row"><div class="col-xs-12"><a ng-click="deleteGroup(group)" class="pull-right pointer">Delete Group</a></div></div></div>'),t.put("js/components/overview/overviewBack/overviewBack.html",'<div ng-hide="isOverview()"><div class="table-nav"></div></div>'),t.put("js/components/overview/overviewBreadcrumbs/overviewBreadcrumbs.html",'<ol ng-show="crumbs.length" class="breadcrumb overview-crumbs"><li ng-repeat="crumb in crumbs" ng-class="{active: $last}"><a ng-hide="$last" ng-click="crumbClick(crumb)">{{crumb.label}}</a><span ng-show="$last">{{crumb.label}}</span></li></ol>'),t.put("js/components/overview/overviewDetails/overviewDetails.html",'<div ng-show="getLoadingDetails()"><div class="spinner"></div>Loading Reports…</div><div ng-hide="getReportDetails() || getLoadingDetails()" class="row chart-header"><div class="col-xs-12"><h1 class="page-title">{{getTitle() | titlecase}}</h1></div></div><div class="row row-short"><div class="col-xs-12"><overview-breadcrumbs class="overview-breadcrumbs"></overview-breadcrumbs></div></div><div class="row row-short"><div class="col-xs-12"><div class="table-filters"><group-select></group-select><div class="severity-bar"></div></div></div></div><div class="row row-short"><div class="col-xs-12"><div id="legend" class="legend"><table class="table ng-table nomar"><thead><tr><th width="60%" ng-class="predicate | sortClass:\'name\':reverse" ng-click="predicate = \'name\'; reverse=!reverse" class="sortable"><div> <span class="chart-icon"></span>Section</div></th><th width="12%" ng-class="predicate | sortClass:\'severityNum\':reverse" ng-click="predicate = \'severityNum\'; reverse=!reverse" ng-hide="isOverview()" class="sortable"><div>Sev</div></th><th width="20%" ng-class="predicate | sortClass:\'value\':reverse" ng-click="predicate = \'value\'; reverse=!reverse" class="sortable"><div>Count</div></th><th ng-hide="isOverview()"></th></tr></thead></table><div class="tbody-scrollable"><table class="table nomar"><tbody><tr ng-repeat="group in getData() | orderObjectBy:predicate:reverse" ng-class="{active: group.id === getRule()}" class="legend-item"><td width="60%" ng-click="arcClick(group)"><span ng-style="{borderColor: group.color || \'inherit\'}" class="icon-circle"></span>{{group.name}}</td><td width="12%" ng-click="arcClick(group)" ng-hide="isOverview()" class="filter-on text-center"><severity-icon severity="group.severity"></severity-icon></td><td width="20%" ng-click="arcClick(group)">{{ group.value }}</td><td ng-click="toggleRule(group)" ng-hide="isOverview()" class="view-toggle"><span ng-click="ackAction(group)" class="link">Hide</span></td></tr></tbody></table></div></div></div></div><div class="row row-short"><div class="col-xs-12"><div class="overview-back"></div></div></div><div ng-if="staleSystems" class="row row-short"><div class="col-xs-12"><div class="alert alert-danger alert-systems-not-checking"><div class="row"><div class="col-md-7"><div class="message"><span class="glyphicon glyphicon-exclamation-sign"></span><span>&nbsp;{{staleSystems}} systems are not checking in</span></div></div><div class="col-md-5"><a ui-sref="systems({sort:\'last_check_in\', dir:\'asc\', offline: true})" class="btn btn-white btn-xs">View systems and resolve</a></div></div></div></div></div>'),t.put("js/components/overview/overviewRule/overviewRule.html",'<div ng-show="loading" class="row margin-top"><div class="col-xs-12"><section class="text-center"><div class="spinner spinner-lg"></div></section></div></div><div ng-hide="loading" class="row margin-top"><div class="col-md-6 col-lg-5"><h2><div ng-if="ruleDetails.severity" severity="ruleDetails.severity" class="severity-icon fa-small"></div>&nbsp;{{ruleDetails.description}}</h2><p ng-bind-html="ruleDetails.generic_html | trust_html"></p></div><div class="col-md-6 col-lg-7"><div class="row"><div class="col-xs-12"><h1 class="page-title">Impacted Systems</h1></div></div><div class="row row-short"><div class="col-xs-12"><overview-breadcrumbs class="overview-breadcrumbs"></overview-breadcrumbs></div></div><div ng-show="getReportDetails()" class="row row-short"><div ng-show="!loading &amp;&amp; getReportDetails()"><div class="col-sm-12"><div class="chart-details no-border legend"><table class="table nomar ng-table"><thead><tr><th width="60%" ng-class="predicate | sortClass:\'system.hostname\':reverse" ng-click="predicate = \'system.hostname\'; reverse=!reverse" class="sortable"><div>Hostname</div></th><th width="25%" ng-class="predicate | sortClass:\'date\':reverse" ng-click="predicate = \'date\'; reverse=!reverse" class="sortable"><div>Reported</div></th><th></th></tr><tr><th colspan="3"><input type="text" ng-model="filters.system.hostname" placeholder="Filter" class="form-control nomar-left input-sm"/></th></tr></thead></table><div class="tbody-scrollable"><table class="table nomar"><tbody><tr ng-click="showSystem(report.system)" ng-repeat="report in getReportDetails() | filter:filters | orderBy:predicate:reverse"><td width="60%">{{ ::report.system.hostname }}</td><td width="25%">{{ ::report.date | timeAgo}}</td><td><a>View</a></td></tr></tbody></table></div></div></div></div></div><div ng-hide="loading" class="row row-short"><div class="col-xs-12"><div class="overview-back"></div></div></div></div></div>'),t.put("js/components/rule/ruleForm/ruleForm.html",'<form ng-submit="saveFn()" name="form"><fieldset><legend> </legend><div class="row"><div class="col-sm-8"><label class="control-label">Display Name</label><input ng-model="rule.description" type="text" required="required" class="form-control"/></div></div><div class="form-group"><label class="control-label">Rule ID</label><p class="form-control-static">{{rule.rule_id}}</p></div><div class="panel panel-default"><div class="panel-heading"><small ng-show="!locked" class="pull-left">Note: changing plugin and/or error key will change the rule id and can have detrimental effects.</small><div class="pull-right"><i ng-click="toggleLock()" ng-class="{\'fa-lock\': locked, \'fa-unlock\': !locked}" class="pointer fa"></i></div><div class="clearfix"></div></div><div class="panel-body"><div class="row"><div class="col-xs-6"><label class="control-label">Plugin</label><rule-plugin ng-hide="locked"></rule-plugin><p ng-show="locked" class="form-control-static">{{rule.plugin}}</p></div><div class="col-xs-6"><label class="control-label">Error key </label><input ng-hide="locked" ng-model="rule.error_key" type="text" required="required" class="form-control"/><p ng-show="locked" class="form-control-static">{{rule.error_key}}</p></div></div></div></div><div class="row push-bottom-narrow"><div class="col-xs-6 col-sm-4"><label class="control-label">Category </label><select ng-model="rule.category" type="text" ng-options="c as c for c in categories | titlecase" required="required" class="form-control"></select></div><div class="col-xs-6 col-sm-4"><label class="control-label">Severity </label><select ng-model="rule.severity" type="text" ng-options="s as s for s in severities" required="required" class="form-control"></select></div><div class="col-xs-6 col-sm-4"><label class="control-label">Solution ID </label><input ng-model="rule.node_id" type="text" class="form-control"/></div></div><div class="panel panel-default"><div class="panel-heading"> <div class="row"><div class="col-md-2"><h2>Summary</h2></div><div class="col-md-10"><p class="pull-right">This is displayed on the rules list page. Short sentence or two about the rule.</p></div></div></div><div class="panel-body"><div class="form-group"><div class="pull-right"><yes-no no="true" text="pydata"> </yes-no><yes-no yes="true" text="markdown"></yes-no></div><textarea ng-model="rule.summary" type="text" rows="5" class="form-control"></textarea></div></div></div><div class="panel panel-default"><div class="panel-heading"> <div class="row"><div class="col-md-4"><h2>Generic messaging</h2></div><div class="col-md-8"><p class="pull-right">Impact, Reason, Resolution before a machine is selected.</p></div></div></div><div class="panel-body"><div class="form-group"><div class="pull-right"><yes-no no="true" text="pydata"> </yes-no><yes-no yes="true" text="markdown"></yes-no></div><textarea ng-model="rule.generic" type="text" rows="5" class="form-control"></textarea></div></div></div><div class="panel panel-default"><div class="panel-heading"><div class="row"><div class="col-md-5"><h2>Machine specific messaging</h2></div><div class="col-md-7"><p class="pull-right">Report data is accessible and will be compiled with <a href="http://olado.github.io/doT/" target="_blank">doT.</a></p></div></div></div><div class="panel-body"><div class="form-group"><div class="pull-right"><yes-no yes="true" text="pydata"> </yes-no><yes-no yes="true" text="markdown"></yes-no></div><label class="control-label">Impact and Reason</label><textarea ng-model="rule.reason" type="text" rows="5" class="form-control"></textarea></div><div class="form-group"><div class="pull-right"><yes-no yes="true" text="pydata"> </yes-no><yes-no yes="true" text="markdown"></yes-no></div><label class="control-label">Resolution</label><textarea ng-model="rule.resolution" type="text" rows="5" class="form-control"></textarea></div></div></div><div class="panel panel-default"><div class="panel-heading"> <div class="row"><div class="col-md-2"><h2>Common</h2></div><div class="col-md-10"><p class="pull-right">This is displayed on both the generic and specific views. About the issue, \nits discovery, extra details that helps the customer understand the "what". This section \nshould contain all the portal links and references</p></div></div></div><div class="panel-body"><div class="form-group"><div class="pull-right"><yes-no no="true" text="pydata"> </yes-no><yes-no yes="true" text="markdown"></yes-no></div><textarea ng-model="rule.more_info" type="text" rows="5" class="form-control"></textarea></div></div></div><div class="checkbox-inline"><label><input type="checkbox" ng-model="rule.active"/>Active</label></div><div class="checkbox-inline"><label><input type="checkbox" ng-model="rule.retired"/>Retired</label></div><div class="pull-right"><div class="btn-group"><button name="preview" type="button" ng-click="preview(rule)" class="btn btn-primary">Preview</button><button name="submit" ng-disabled="form.$error.required" class="btn btn-accent">Save</button></div></div></fieldset></form>'),t.put("js/components/rule/rulePlugin/rulePlugin.html",'<select ng-if="plugins" ng-model="rule.plugin" type="text" ng-options="p for p in plugins track by p" required="required" class="form-control"></select>'),t.put("js/components/rule/ruleReason/ruleReason.html",'<h3 class="section-heading">Detected issue</h3><div class="reason detail-part"><div ng-bind-html="report.rule.reason | trust_html" target-blank="" class="detail-content"></div></div>'),t.put("js/components/rule/ruleResolution/ruleResolution.html",'<div class="detail-part pad-top"><div class="detail-content answer"><h3 class="section-heading">Steps to resolve</h3><span ng-bind-html="report.rule.resolution | trust_html" target-blank=""></span></div></div>'),t.put("js/components/rule/ruleSummaries/ruleSummaries.html",'<div ng-if="loading.isLoading" class="row"><div class="col-xs-12"><div class="loading-block text-center"><div class="detail-part"><div class="spinner spinner-lg"></div>Loading report(s) for {{system.hostname}}…</div></div></div></div><div ng-hide="loading.isLoading" class="row"><div class="col-xs-12"><a ng-click="expandAll()" class="btn btn-outline btn-xs pull-right pointer">{{allExpanded ? \'Collapse\' : \'Expand\'}}  All <i ng-class="{\'fa-caret-up\': allExpanded, \'fa-caret-down\': !allExpanded}" class="fa"></i></a></div></div><div report="report" rule-id="rule_id" rule-filter="ruleFilter" ng-repeat="report in system.reports" class="rule-summary system-overlay-item content-block content-block-outline"></div>'),t.put("js/components/rule/ruleSummary/ruleSummary.html",'<div ng-click="toggleCollapse()" ng-class="{\'header-collapsed\': isCollapsed}" class="header pointer"><i ng-class="{\'fa-minus-square-o\':!isCollapsed, \'fa-plus-square-o\':isCollapsed}" class="fa toggler"></i><h3 class="title"><severity-icon severity="report.rule.severity"></severity-icon>{{ report.rule.category }} &gt; {{ report.rule.description }}</h3></div><div collapse="isCollapsed" ng-class="{\'content-collapsed\': isCollapsed}" class="content"><div class="row"><div class="col-sm-5"><div class="rule-reason gray"></div></div><div class="col-sm-7"><div class="rule-resolution"></div><div ng-if="report.rule.node_id" node="report.rule.node_id" class="recommended-kbase"></div></div></div><div ng-show="report.rule.more_info" class="row row-short"><div class="col-xs-12"><div class="text-center border-top"><div ng-click="showMoreInfo = !showMoreInfo" class="nomar push-top-narrow pointer"><a class="link"><strong>{{showMoreInfo ? \'Hide\' : \'Show\'}}  more info &nbsp;</strong><i ng-class="{\'fa-caret-up\': showMoreInfo, \'fa-caret-down\': !showMoreInfo}" class="fa"></i></a></div></div></div></div></div><div collapse="!showMoreInfo" class="footer more-info"><div ng-bind-html="report.rule.more_info_html | trust_html" ng-show="report.rule.more_info" target-blank=""></div></div><div ng-if="debug" class="debug push-top content"><hr/><div class="row"><div ng-show="noReports" class="col-xs-12"><h4>Oh Snap! No reports found.</h4></div><div ng-hide="noReports" class="col-xs-6"><h4>Choose a different report</h4><div class="form-group"><label>Machine ID</label><select ng-model="debug.machine_id" type="text" ng-options="m for m in machines track by m" ng-change="buildPreview({machine_id: debug.machine_id})" class="form-control"></select></div><div class="text-center"><strong>or</strong></div><div class="form-group"><label>UUID</label><select ng-model="debug.uuid" type="text" ng-options="u for u in uuids track by u" ng-change="buildPreview({uuid: debug.uuid})" class="form-control"></select></div></div><div ng-hide="noReports" class="col-xs-6"><h4>Debug Info</h4><dl><dt>Details</dt><dd>{{report.details | json}}</dd></dl></div></div><hr/><div class="row"><div class="col-xs-12"><h4>Pro Mode</h4><div class="form-group"><textarea ng-model="debug.pydata" placeholder="Enter your own pydata here. MUST BE VALID JSON!" ng-change="validatePydata(debug.pydata)" ng-model-options="{ debounce: 100 }" class="form-control"></textarea><p ng-show="invalidJSON" class="text-danger">Error parsing JSON: {{jsonError}}<br/>Check out <a href="http://jsonlint.com/" target="_blank">jsonlint</a>.</p></div><div class="form-group"><button ng-disabled="invalidJSON || !debug.pydata" ng-click="buildPreview({pydata: debug.pydata})" class="btn btn-block btn-success pointer">Preview</button></div></div></div></div>'),t.put("js/components/rule/ruleToggle/ruleToggle.html",'<a><strong ng-click="ackAction()">{{text}}</strong></a>'),t.put("js/components/sideNav/overviewSideNav/overviewSideNav.html",'<li><a ui-sref="overview({category: null})" ng-class="{current: isActive(null)}">Overview</a><ul ng-show="overview"><li><a ui-sref="overview({category: c})" ng-class="{current: isActive(c)}" ng-repeat="c in categories" ng-show="getCounts()[c]">{{c|titlecase}} <small ng-show="getCounts()[c]">({{getCounts()[c]}})</small></a></li></ul></li>'),t.put("js/components/system/systemModal/systemModal.html",'<div class="system-overlay"><div class="modal-actions"><div ng-click="close()" class="fa fa-close pull-right"></div></div><div class="modal-title"><div class="icon"><span class="fa fa-globe"></span></div><h2><b>hostname: </b><span>{{ system.hostname }}</span></h2></div><div system="system" machine-id="system.machine_id" rule="rule" rule-filter="ruleFilter" loading="loading" class="rule-summaries"></div><div ng-if="system.__fake" report="{}" rule="rule" loading="loading" class="rule-summary system-overlay-item content-block content-block-outline"></div></div>'),t.put("js/components/system/systemSummaryTable/systemSummaryTable.html",'<table ng-table="tableParams" class="table"><thead><tr><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'hostname\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'hostname\', \'desc\')}" ng-click="tableParams.sorting({\'hostname\' : tableParams.isSortBy(\'hostname\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div>Hostname</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'last_check_in\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'last_check_in\', \'desc\')}" ng-click="tableParams.sorting({\'last_check_in\' : tableParams.isSortBy(\'last_check_in\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div>Last Check In</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'reports.length\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'reports.length\', \'desc\')}" ng-click="tableParams.sorting({\'reports.length\' : tableParams.isSortBy(\'reports.length\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div>Status</div></th><th></th></tr><tr><th colspan="4"><input type="text" ng-model="filters.hostname" placeholder="Filter" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="system in $data track by system.machine_id" ng-class="::{\'stale-system\': isStale(system.last_check_in), \'danger\': isReallyStale(system.last_check_in)}"><td ng-hide="::system.reports.length">{{::system.hostname}}</td><td ng-show="::system.reports.length"><a ng-click="showSystem(system)">{{::system.hostname}}</a></td><td class="text-center"><span ng-show="::system.last_check_in">{{::system.last_check_in | timeAgo}}</span><span ng-hide="::system.last_check_in">--</span></td><td class="text-center"><div tooltip="{{actionTooltip(system.reports.length)}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top"><span ng-hide="::system.reports.length" class="icon success"><i class="fa fa-check-circle fa-1-5x text-success"></i></span><span ng-show="::system.reports.length" ng-click="showSystem(system)" class="icon failure"><i class="fa fa-exclamation-circle fa-1-5x text-danger fail"></i></span></div></td><td class="text-center"><a ng-click="unregister(system)" title="Unregister System" class="fa fa-close blacklist"></a></td></tr></tbody></table><div ng-hide="systems.length" class="text-center"><h4>No Systems</h4></div>'),t.put("js/components/system/systemTable/systemTable.html",'<div class="col-md-6 group-list"><label class="full-width">{{::title}}</label><input placeholder="Filter" type="text" ng-model="systemsFilter" ng-model-options="{ debounce: 100 }" ng-change="filterSystems()" class="filter full-width"/><div class="filters-table"><div class="row"><div class="col-xs-6"><label class="select-all"><input type="checkbox" ng-model="checkboxes.checked" ng-indeterminate="indeterminate"/><span>Select Visible</span></label></div><div class="col-xs-6"><div class="pull-right flush-right"><span>Items</span><div class="dropdown-select dropdown-select-horizontal"><select ng-model="itemsPerPage" ng-options="i for i in items track by i"></select></div></div></div></div></div><div ng-class="{\'scrollable scrollable-table\': _filteredSystems.length &gt; 10}"><div ng-show="loading" class="spinner spinner-lg push-top"></div><table class="table no-header table-groups"><tbody><tr ng-repeat="system in _filteredSystems = (filteredSystems | offset:((currentPage-1)*itemsPerPage) | limitTo:itemsPerPage)" data-machine_id="{{system.machine_id}}" ng-click="rowClick($event)" ng-mousedown="rowClick($event)"><td><label><input type="checkbox" ng-model="checkboxes.items[system.machine_id]"/><span class="hostname">{{::system.hostname}}</span></label></td></tr></tbody></table></div><div class="row groups-footer"><div class="col-xs-12 col-md-5"><a ng-show="type === \'in\'" ng-disabled="!totalChecked" ng-click="removeSystems()" class="link"><i class="fa fa-minus"> </i> Remove Systems</a><a ng-hide="type === \'in\'" ng-disabled="!totalChecked" ng-click="addSystems()" class="link"><i class="fa fa-plus"> </i> Add Systems</a></div><div class="col-xs-12 col-md-7"><pagination ng-hide="total &lt;= itemsPerPage" total-items="total" ng-model="currentPage" previous-text="«" next-text="»" max-size="3" rotate="false" items-per-page="itemsPerPage" ng-change="pageChanged()" class="pull-right pagination-gray"></pagination></div></div></div>'),t.put("js/states/config/views/config.html",'<tabset class="config-tabs"><tab heading="Hidden Rules" active="current.hidden" ng-click="tabClick(\'hidden\')"><config-hidden ng-if="current.hidden"></config-hidden></tab><tab heading="Groups" active="current.groups" ng-click="tabClick(\'groups\')"><config-groups ng-if="current.groups"></config-groups></tab><tab heading="Messaging" active="current.messaging" ng-click="tabClick(\'messaging\')"><config-messaging ng-if="current.messaging"></config-messaging></tab><tab heading="Uploader" active="current.uploader" ng-click="tabClick(\'uploader\')" class="hidden"><config-uploader ng-if="current.uploader"></config-uploader></tab><tab heading="Permissions" active="current.permissions" ng-click="tabClick(\'permissions\')" ng-show="user.is_internal &amp;&amp; isRHAccount()"><config-permissions ng-if="current.permissions"></config-permissions></tab></tabset>'),t.put("js/states/pages/views/403.html",'<div class="page"><section><h1> <i class="fa fa-lock"> </i> 403 <small> Forbidden</small></h1></section></div>'),t.put("js/states/rules/views/admin-rules.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12 col-md-6"><h1 class="page-title">Rules</h1></div><div ng-if="!loading" style="margin-bottom: 10px" class="col-sm-12 col-md-6 pull-right"><div class="create-error"><h3>Create Rule</h3><div class="field-group"><label>Plugin</label><input ng-model="newRule.plugin"/></div><div class="field-group"><label>Rule Key</label><input ng-model="newRule.error_key"/><button ng-click="createRule(newRule)" ng-disabled="!newRule.plugin || !newRule.error_key" class="btn btn-link pull-right">+ Add Rule</button></div></div></div><div class="col-sm-12 col-md-6"><div class="btn-group"><button ng-class="buttonGroupClass(\'active\')" ng-click="activateTab(\'active\')" type="button" class="btn btn-sm">Active</button><button ng-class="buttonGroupClass(\'needs_content\')" ng-click="activateTab(\'needs_content\')" type="button" class="btn btn-sm">Needs Content</button><button ng-class="buttonGroupClass(\'inactive\')" ng-click="activateTab(\'inactive\')" type="button" class="btn btn-sm">Inactive<button ng-class="buttonGroupClass(\'retired\')" ng-click="activateTab(\'retired\')" type="button" class="btn btn-sm">Retired</button></button></div></div></div></div><div class="row push-top-narrow"><table ng-if="!loading" class="table table-striped table-bordered ng-table error-infos"><thead><tr><th ng-class="predicate | sortClass:\'rule.error_key\':reverse" ng-click="predicate = \'rule.error_key\'; reverse=!reverse" class="sortable key"> <div>Rule key</div></th><th ng-class="predicate | sortClass:\'rule.plugin\':reverse" ng-click="predicate = \'rule.plugin\'; reverse=!reverse" class="sortable plugin"> <div>Plugin</div></th><th ng-class="predicate | sortClass:\'rule.category\':reverse" ng-click="predicate = \'rule.category\'; reverse=!reverse" class="sortable cat"> <div>Category</div></th><th ng-class="predicate | sortClass:\'rule.severity\':reverse" ng-click="predicate = \'rule.severity\'; reverse=!reverse" class="sortable sev"> <div>Severity</div></th><th ng-class="predicate | sortClass:\'count\':reverse" ng-click="predicate = \'count\'; reverse=!reverse" class="sortable count"> <div>Count</div></th><th ng-class="predicate | sortClass:\'rule.description\':reverse" ng-click="predicate = \'rule.description\'; reverse=!reverse" class="sortable desc"> <div>Description</div></th><th></th></tr></thead><tbody><tr ng-repeat="record in records | orderBy:predicate:reverse" class="ng-cloak"><td class="key">{{record.rule.error_key}}</td><td class="plugin">{{record.rule.plugin}}</td><td class="cat">{{record.rule.category}}</td><td class="sev">{{record.rule.severity}}</td><td class="count">{{record.count}}</td><td class="desc">{{record.rule.description}}</td><td class="util"><div class="td-wrap"><div class="utilities-tray"><i ng-click="toggleTray(record)" class="fa fa-cogs"></i><div ng-show="isToggled(record)" class="tray"><a ui-sref="show-rule({id: record.rule_id})" ng-if="isTabActive([\'active\', \'inactive\', \'retired\'])">Show</a><a ui-sref="edit-rule({id: record.rule_id})" ng-if="isTabActive([\'active\', \'inactive\', \'retired\'])">Edit</a><a ng-click="createRecord(record)" ng-if="isTabActive([\'needs_content\'])">Add Content</a><a ng-click="deactivateRecord(record)" ng-if="isTabActive([\'active\'])">Deactivate</a><a ng-click="activateRecord(record)" ng-if="isTabActive([\'inactive\'])">Activate</a><a ng-click="retireRecord(record)" ng-if="isTabActive([\'inactive\'])">Retire</a><a ng-click="unretireRecord(record)" ng-if="isTabActive([\'retired\'])">Unretire</a><a ng-click="deleteRecord(record)" ng-if="canDelete &amp;&amp; isTabActive([\'inactive\', \'retired\'])">Delete</a></div></div></div></td></tr></tbody></table></div></div>'),t.put("js/states/rules/views/create-rules.html",'<section class="page-announcements"><section class="section-announcements"><h2>New Rule</h2><rule-form></rule-form></section></section>'),t.put("js/states/rules/views/edit-rules.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12"><h1 class="page-title">Edit Rule</h1></div></div><div class="row row-short"><div class="col-sm-12"><rule-form></rule-form></div></div></div></div>'),t.put("js/states/rules/views/list-rules.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12"><h1 class="page-title">Rules</h1><div class="row push-top-narrow"><div class="col-md-9"><div ng-class="barClass" class="filters filters-category"><div name="sev-toggles" role="group" class="severity-filter-toggle"><button ng-class="filterClass(categoryName)" ng-click="toggle(categoryName)" ng-repeat="categoryName in categoryNames" class="{{categoryName}}-toggle"><i ng-class="categoryName" class="icon-circle"></i><span class="sev">{{ ::categoryName | titlecase }}</span></button></div></div></div><div class="col-md-3 text-right"><input type="text" placeholder="Filter" ng-model="filter" class="rounded"/><a ui-sref="admin-rules" ng-show="user.is_internal" class="btn btn-sm btn-app">Rules Admin</a></div></div></div></div><div class="row row-short"><div class="col-sm-12"><section ng-show="loading"><div class="spinner spinner-lg"></div></section><div ng-repeat="rule in rules | filter:filter | orderBy:\'description\'" ng-class="{faded: rule.acks.length}" class="content-block content-block-outline"><div id="{{::rule.rule_id}}" class="header"><severity-icon severity="rule.severity" class="i-mute pull-right"></severity-icon><span ng-click="permalink(rule.rule_id)" class="title pointer"> <i ng-class="rule.category.toLowerCase()" class="icon-circle icon-circle-large"></i><span>{{ ::rule.category }} &gt; {{ ::rule.description }}</span><i class="fa fa-link permalink"></i></span></div><div collapse="rule.acks.length" class="content"><div ng-bind-html="::rule.summary_html | trust_html" target-blank="" class="gray"></div></div><div class="footer footer-short text-right"><rule-toggle rule="rule"></rule-toggle></div></div></div></div></div></div>'),t.put("js/states/rules/views/show-rules.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12"><h1 class="page-title">Rule<small ng-show="rule.plugin &amp;&amp; rule.error_key">- {{ rule.plugin }}|{{ rule.error_key }}</small></h1></div></div><div class="row row-short"><div class="col-sm-12"><form ng-submit="saveFn()" name="form" ng-show="rule"><fieldset><legend> </legend><div class="form-group"><label class="control-label">Plugin</label><p class="form-control-static">{{ rule.plugin }}</p></div><div class="form-group"><label class="control-label">Error key </label><p class="form-control-static">{{ rule.error_key }}</p></div><div class="form-group"><label class="control-label">Category </label><p class="form-control-static">{{ rule.category }}</p></div><div class="form-group"><label class="control-label">Severity </label><p class="form-control-static">{{ rule.severity }}</p></div><div class="form-group"><label class="control-label">Display Name</label><p class="form-control-static">{{ rule.description }}</p></div><div class="form-group"><label class="control-label">Summary</label><pre>{{ rule.summary }}</pre></div><div class="form-group"><label class="control-label">Generic</label><pre>{{ rule.generic }}</pre></div><div class="form-group"><label class="control-label">Reason</label><pre>{{ rule.reason }}</pre></div><div class="form-group"><label class="control-label">Resolution</label><pre>{{ rule.resolution }}</pre></div><div class="form-group"><label class="control-label">Common</label><pre>{{ rule.more_info }}</pre></div><div class="form-group"><label class="control-label">Node ID </label><p class="form-control-static">{{ rule.node_id }}</p></div><div class="checkbox"><label><input type="checkbox" ng-model="rule.active" disabled="disabled"/>Active</label></div><div class="checkbox"><label><input type="checkbox" ng-model="rule.retired" disabled="disabled"/>Retired</label></div><div class="form-group"><label class="control-label"></label><button name="preview" ng-click="preview(rule)" class="btn btn-block btn-primary">Preview</button></div><div class="form-group"><label class="control-label"></label><button ng-click="editInfo(rule)" class="btn btn-block btn-info">Edit</button></div></fieldset></form></div></div></div></div>')
}])},{}],93:[function(t,e){function n(t,e,n){var o=t?t.length:0;if(!o)return-1;if("number"==typeof n)n=0>n?a(o+n,0):n;else if(n){var s=i(t,e),l=t[s];return(e===e?e===l:l!==l)?s:-1}return r(t,e,n||0)}var r=t("../internal/baseIndexOf"),i=t("../internal/binaryIndex"),a=Math.max;e.exports=n},{"../internal/baseIndexOf":114,"../internal/binaryIndex":128}],94:[function(t,e){function n(t){var e=t?t.length:0;return e?t[e-1]:void 0}e.exports=n},{}],95:[function(t,e){e.exports=t("./includes")},{"./includes":98}],96:[function(t,e){function n(t,e,n){var s=o(t)?r:a;return e=i(e,n,3),s(t,e)}var r=t("../internal/arrayFilter"),i=t("../internal/baseCallback"),a=t("../internal/baseFilter"),o=t("../lang/isArray");e.exports=n},{"../internal/arrayFilter":104,"../internal/baseCallback":107,"../internal/baseFilter":110,"../lang/isArray":152}],97:[function(t,e){var n=t("../internal/createAggregator"),r=Object.prototype,i=r.hasOwnProperty,a=n(function(t,e,n){i.call(t,n)?t[n].push(e):t[n]=[e]});e.exports=a},{"../internal/createAggregator":132}],98:[function(t,e){function n(t,e,n,d){var f=t?i(t):0;return s(f)||(t=u(t),f=t.length),f?(n="number"!=typeof n||d&&o(e,n,d)?0:0>n?c(f+n,0):n||0,"string"==typeof t||!a(t)&&l(t)?f>n&&t.indexOf(e,n)>-1:r(t,e,n)>-1):!1}var r=t("../internal/baseIndexOf"),i=t("../internal/getLength"),a=t("../lang/isArray"),o=t("../internal/isIterateeCall"),s=t("../internal/isLength"),l=t("../lang/isString"),u=t("../object/values"),c=Math.max;e.exports=n},{"../internal/baseIndexOf":114,"../internal/getLength":139,"../internal/isIterateeCall":143,"../internal/isLength":145,"../lang/isArray":152,"../lang/isString":155,"../object/values":159}],99:[function(t,e){var n=t("../internal/createAggregator"),r=n(function(t,e,n){t[n]=e});e.exports=r},{"../internal/createAggregator":132}],100:[function(t,e){function n(t,e,n){var s=o(t)?r:a;return e=i(e,n,3),s(t,e)}var r=t("../internal/arrayMap"),i=t("../internal/baseCallback"),a=t("../internal/baseMap"),o=t("../lang/isArray");e.exports=n},{"../internal/arrayMap":105,"../internal/baseCallback":107,"../internal/baseMap":118,"../lang/isArray":152}],101:[function(t,e){var n=t("../internal/arrayReduce"),r=t("../internal/baseEach"),i=t("../internal/createReduce"),a=i(n,r);e.exports=a},{"../internal/arrayReduce":106,"../internal/baseEach":109,"../internal/createReduce":135}],102:[function(t,e){function n(t,e,n){var s=o(t)?r:a;return e=i(e,n,3),s(t,function(t,n,r){return!e(t,n,r)})}var r=t("../internal/arrayFilter"),i=t("../internal/baseCallback"),a=t("../internal/baseFilter"),o=t("../lang/isArray");e.exports=n},{"../internal/arrayFilter":104,"../internal/baseCallback":107,"../internal/baseFilter":110,"../lang/isArray":152}],103:[function(t,e){function n(t,e,n){if(null==t)return[];n&&s(t,e,n)&&(e=null);var l=-1;e=r(e,n,3);var u=i(t,function(t,n,r){return{criteria:e(t,n,r),index:++l,value:t}});return a(u,o)}var r=t("../internal/baseCallback"),i=t("../internal/baseMap"),a=t("../internal/baseSortBy"),o=t("../internal/compareAscending"),s=t("../internal/isIterateeCall");e.exports=n},{"../internal/baseCallback":107,"../internal/baseMap":118,"../internal/baseSortBy":125,"../internal/compareAscending":131,"../internal/isIterateeCall":143}],104:[function(t,e){function n(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[++i]=o)}return a}e.exports=n},{}],105:[function(t,e){function n(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}e.exports=n},{}],106:[function(t,e){function n(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}e.exports=n},{}],107:[function(t,e){function n(t,e,n){var l=typeof t;return"function"==l?void 0===e?t:a(t,e,n):null==t?o:"object"==l?r(t):void 0===e?s(t):i(t,e)}var r=t("./baseMatches"),i=t("./baseMatchesProperty"),a=t("./bindCallback"),o=t("../utility/identity"),s=t("../utility/property");e.exports=n},{"../utility/identity":163,"../utility/property":164,"./baseMatches":119,"./baseMatchesProperty":120,"./bindCallback":130}],108:[function(t,e){function n(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||void 0===t&&r)return 1;if(e>t||!r||void 0===e&&n)return-1}return 0}e.exports=n},{}],109:[function(t,e){var n=t("./baseForOwn"),r=t("./createBaseEach"),i=r(n);e.exports=i},{"./baseForOwn":112,"./createBaseEach":133}],110:[function(t,e){function n(t,e){var n=[];return r(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var r=t("./baseEach");e.exports=n},{"./baseEach":109}],111:[function(t,e){var n=t("./createBaseFor"),r=n();e.exports=r},{"./createBaseFor":134}],112:[function(t,e){function n(t,e){return r(t,e,i)}var r=t("./baseFor"),i=t("../object/keys");e.exports=n},{"../object/keys":157,"./baseFor":111}],113:[function(t,e){function n(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var i=-1,a=e.length;null!=t&&++i<a;)t=t[e[i]];return i&&i==a?t:void 0}}var r=t("./toObject");e.exports=n},{"./toObject":149}],114:[function(t,e){function n(t,e,n){if(e!==e)return r(t,n);for(var i=n-1,a=t.length;++i<a;)if(t[i]===e)return i;return-1}var r=t("./indexOfNaN");e.exports=n},{"./indexOfNaN":140}],115:[function(t,e){function n(t,e,i,a,o,s){if(t===e)return!0;var l=typeof t,u=typeof e;return"function"!=l&&"object"!=l&&"function"!=u&&"object"!=u||null==t||null==e?t!==t&&e!==e:r(t,e,n,i,a,o,s)}var r=t("./baseIsEqualDeep");e.exports=n},{"./baseIsEqualDeep":116}],116:[function(t,e){function n(t,e,n,d,p,g,v){var m=o(t),y=o(e),x=u,b=u;m||(x=h.call(t),x==l?x=c:x!=c&&(m=s(t))),y||(b=h.call(e),b==l?b=c:b!=c&&(y=s(e)));var $=x==c,w=b==c,_=x==b;if(_&&!m&&!$)return i(t,e,x);if(!p){var A=$&&f.call(t,"__wrapped__"),k=w&&f.call(e,"__wrapped__");if(A||k)return n(A?t.value():t,k?e.value():e,d,p,g,v)}if(!_)return!1;g||(g=[]),v||(v=[]);for(var T=g.length;T--;)if(g[T]==t)return v[T]==e;g.push(t),v.push(e);var S=(m?r:a)(t,e,n,d,p,g,v);return g.pop(),v.pop(),S}var r=t("./equalArrays"),i=t("./equalByTag"),a=t("./equalObjects"),o=t("../lang/isArray"),s=t("../lang/isTypedArray"),l="[object Arguments]",u="[object Array]",c="[object Object]",d=Object.prototype,f=d.hasOwnProperty,h=d.toString;e.exports=n},{"../lang/isArray":152,"../lang/isTypedArray":156,"./equalArrays":136,"./equalByTag":137,"./equalObjects":138}],117:[function(t,e){function n(t,e,n,i,a){for(var o=-1,s=e.length,l=!a;++o<s;)if(l&&i[o]?n[o]!==t[e[o]]:!(e[o]in t))return!1;for(o=-1;++o<s;){var u=e[o],c=t[u],d=n[o];if(l&&i[o])var f=void 0!==c||u in t;else f=a?a(c,d,u):void 0,void 0===f&&(f=r(d,c,a,!0));if(!f)return!1}return!0}var r=t("./baseIsEqual");e.exports=n},{"./baseIsEqual":115}],118:[function(t,e){function n(t,e){var n=-1,a=i(t)?Array(t.length):[];return r(t,function(t,r,i){a[++n]=e(t,r,i)}),a}var r=t("./baseEach"),i=t("./isArrayLike");e.exports=n},{"./baseEach":109,"./isArrayLike":141}],119:[function(t,e){function n(t){var e=o(t),n=e.length;if(!n)return i(!0);if(1==n){var l=e[0],u=t[l];if(a(u))return function(t){return null==t?!1:t[l]===u&&(void 0!==u||l in s(t))}}for(var c=Array(n),d=Array(n);n--;)u=t[e[n]],c[n]=u,d[n]=a(u);return function(t){return null!=t&&r(s(t),e,c,d)}}var r=t("./baseIsMatch"),i=t("../utility/constant"),a=t("./isStrictComparable"),o=t("../object/keys"),s=t("./toObject");e.exports=n},{"../object/keys":157,"../utility/constant":162,"./baseIsMatch":117,"./isStrictComparable":147,"./toObject":149}],120:[function(t,e){function n(t,e){var n=o(t),f=s(t)&&l(e),h=t+"";return t=d(t),function(o){if(null==o)return!1;var s=h;if(o=c(o),!(!n&&f||s in o)){if(o=1==t.length?o:r(o,a(t,0,-1)),null==o)return!1;s=u(t),o=c(o)}return o[s]===e?void 0!==e||s in o:i(e,o[s],null,!0)}}var r=t("./baseGet"),i=t("./baseIsEqual"),a=t("./baseSlice"),o=t("../lang/isArray"),s=t("./isKey"),l=t("./isStrictComparable"),u=t("../array/last"),c=t("./toObject"),d=t("./toPath");e.exports=n},{"../array/last":94,"../lang/isArray":152,"./baseGet":113,"./baseIsEqual":115,"./baseSlice":124,"./isKey":144,"./isStrictComparable":147,"./toObject":149,"./toPath":150}],121:[function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}e.exports=n},{}],122:[function(t,e){function n(t){var e=t+"";return t=i(t),function(n){return r(n,t,e)}}var r=t("./baseGet"),i=t("./toPath");e.exports=n},{"./baseGet":113,"./toPath":150}],123:[function(t,e){function n(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}e.exports=n},{}],124:[function(t,e){function n(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=void 0===n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}e.exports=n},{}],125:[function(t,e){function n(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}e.exports=n},{}],126:[function(t,e){function n(t){return"string"==typeof t?t:null==t?"":t+""}e.exports=n},{}],127:[function(t,e){function n(t,e){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t[e[n]];return i}e.exports=n},{}],128:[function(t,e){function n(t,e,n){var a=0,s=t?t.length:a;if("number"==typeof e&&e===e&&o>=s){for(;s>a;){var l=a+s>>>1,u=t[l];(n?e>=u:e>u)?a=l+1:s=l}return s}return r(t,e,i,n)}var r=t("./binaryIndexBy"),i=t("../utility/identity"),a=Math.pow(2,32)-1,o=a>>>1;e.exports=n},{"../utility/identity":163,"./binaryIndexBy":129}],129:[function(t,e){function n(t,e,n,a){e=n(e);for(var s=0,l=t?t.length:0,u=e!==e,c=void 0===e;l>s;){var d=r((s+l)/2),f=n(t[d]),h=f===f;if(u)var p=h||a;else p=c?h&&(a||void 0!==f):a?e>=f:e>f;p?s=d+1:l=d}return i(l,o)}var r=Math.floor,i=Math.min,a=Math.pow(2,32)-1,o=a-1;e.exports=n},{}],130:[function(t,e){function n(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}var r=t("../utility/identity");e.exports=n},{"../utility/identity":163}],131:[function(t,e){function n(t,e){return r(t.criteria,e.criteria)||t.index-e.index}var r=t("./baseCompareAscending");e.exports=n},{"./baseCompareAscending":108}],132:[function(t,e){function n(t,e){return function(n,o,s){var l=e?e():{};if(o=r(o,s,3),a(n))for(var u=-1,c=n.length;++u<c;){var d=n[u];t(l,d,o(d,u,n),n)}else i(n,function(e,n,r){t(l,e,o(e,n,r),r)});return l}}var r=t("./baseCallback"),i=t("./baseEach"),a=t("../lang/isArray");e.exports=n},{"../lang/isArray":152,"./baseCallback":107,"./baseEach":109}],133:[function(t,e){function n(t,e){return function(n,o){var s=n?r(n):0;if(!i(s))return t(n,o);for(var l=e?s:-1,u=a(n);(e?l--:++l<s)&&o(u[l],l,u)!==!1;);return n}}var r=t("./getLength"),i=t("./isLength"),a=t("./toObject");e.exports=n},{"./getLength":139,"./isLength":145,"./toObject":149}],134:[function(t,e){function n(t){return function(e,n,i){for(var a=r(e),o=i(e),s=o.length,l=t?s:-1;t?l--:++l<s;){var u=o[l];if(n(a[u],u,a)===!1)break}return e}}var r=t("./toObject");e.exports=n},{"./toObject":149}],135:[function(t,e){function n(t,e){return function(n,o,s,l){var u=arguments.length<3;return"function"==typeof o&&void 0===l&&a(n)?t(n,o,s,u):i(n,r(o,l,4),s,u,e)}}var r=t("./baseCallback"),i=t("./baseReduce"),a=t("../lang/isArray");e.exports=n},{"../lang/isArray":152,"./baseCallback":107,"./baseReduce":123}],136:[function(t,e){function n(t,e,n,r,i,a,o){var s=-1,l=t.length,u=e.length,c=!0;if(l!=u&&!(i&&u>l))return!1;for(;c&&++s<l;){var d=t[s],f=e[s];if(c=void 0,r&&(c=i?r(f,d,s):r(d,f,s)),void 0===c)if(i)for(var h=u;h--&&(f=e[h],!(c=d&&d===f||n(d,f,r,i,a,o))););else c=d&&d===f||n(d,f,r,i,a,o)}return!!c}e.exports=n},{}],137:[function(t,e){function n(t,e,n){switch(n){case r:case i:return+t==+e;case a:return t.name==e.name&&t.message==e.message;case o:return t!=+t?e!=+e:t==+e;case s:case l:return t==e+""}return!1}var r="[object Boolean]",i="[object Date]",a="[object Error]",o="[object Number]",s="[object RegExp]",l="[object String]";e.exports=n},{}],138:[function(t,e){function n(t,e,n,i,o,s,l){var u=r(t),c=u.length,d=r(e),f=d.length;if(c!=f&&!o)return!1;for(var h=o,p=-1;++p<c;){var g=u[p],v=o?g in e:a.call(e,g);if(v){var m=t[g],y=e[g];v=void 0,i&&(v=o?i(y,m,g):i(m,y,g)),void 0===v&&(v=m&&m===y||n(m,y,i,o,s,l))}if(!v)return!1;h||(h="constructor"==g)}if(!h){var x=t.constructor,b=e.constructor;if(x!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b))return!1}return!0}var r=t("../object/keys"),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},{"../object/keys":157}],139:[function(t,e){var n=t("./baseProperty"),r=n("length");e.exports=r},{"./baseProperty":121}],140:[function(t,e){function n(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var a=t[i];if(a!==a)return i}return-1}e.exports=n},{}],141:[function(t,e){function n(t){return null!=t&&i(r(t))}var r=t("./getLength"),i=t("./isLength");e.exports=n},{"./getLength":139,"./isLength":145}],142:[function(t,e){function n(t,e){return t=+t,e=null==e?r:e,t>-1&&t%1==0&&e>t}var r=Math.pow(2,53)-1;e.exports=n},{}],143:[function(t,e){function n(t,e,n){if(!a(n))return!1;var o=typeof e;if("number"==o?r(n)&&i(e,n.length):"string"==o&&e in n){var s=n[e];return t===t?t===s:s!==s}return!1}var r=t("./isArrayLike"),i=t("./isIndex"),a=t("../lang/isObject");e.exports=n},{"../lang/isObject":154,"./isArrayLike":141,"./isIndex":142}],144:[function(t,e){function n(t,e){var n=typeof t;if("string"==n&&o.test(t)||"number"==n)return!0;if(r(t))return!1;var s=!a.test(t);return s||null!=e&&t in i(e)}var r=t("../lang/isArray"),i=t("./toObject"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=n},{"../lang/isArray":152,"./toObject":149}],145:[function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=Math.pow(2,53)-1;e.exports=n},{}],146:[function(t,e){function n(t){return!!t&&"object"==typeof t}e.exports=n},{}],147:[function(t,e){function n(t){return t===t&&!r(t)}var r=t("../lang/isObject");e.exports=n},{"../lang/isObject":154}],148:[function(t,e){function n(t){for(var e=s(t),n=e.length,u=n&&t.length,d=u&&o(u)&&(i(t)||l.nonEnumArgs&&r(t)),f=-1,h=[];++f<n;){var p=e[f];(d&&a(p,u)||c.call(t,p))&&h.push(p)}return h}var r=t("../lang/isArguments"),i=t("../lang/isArray"),a=t("./isIndex"),o=t("./isLength"),s=t("../object/keysIn"),l=t("../support"),u=Object.prototype,c=u.hasOwnProperty;e.exports=n},{"../lang/isArguments":151,"../lang/isArray":152,"../object/keysIn":158,"../support":161,"./isIndex":142,"./isLength":145}],149:[function(t,e){function n(t){return r(t)?t:Object(t)}var r=t("../lang/isObject");e.exports=n},{"../lang/isObject":154}],150:[function(t,e){function n(t){if(i(t))return t;var e=[];return r(t).replace(a,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e}var r=t("./baseToString"),i=t("../lang/isArray"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,o=/\\(\\)?/g;e.exports=n},{"../lang/isArray":152,"./baseToString":126}],151:[function(t,e){function n(t){return i(t)&&r(t)&&s.call(t)==a}var r=t("../internal/isArrayLike"),i=t("../internal/isObjectLike"),a="[object Arguments]",o=Object.prototype,s=o.toString;e.exports=n},{"../internal/isArrayLike":141,"../internal/isObjectLike":146}],152:[function(t,e){var n=t("../internal/isLength"),r=t("./isNative"),i=t("../internal/isObjectLike"),a="[object Array]",o=Object.prototype,s=o.toString,l=r(l=Array.isArray)&&l,u=l||function(t){return i(t)&&n(t.length)&&s.call(t)==a};e.exports=u},{"../internal/isLength":145,"../internal/isObjectLike":146,"./isNative":153}],153:[function(t,e){function n(t){return null==t?!1:u.call(t)==a?c.test(l.call(t)):i(t)&&o.test(t)}var r=t("../string/escapeRegExp"),i=t("../internal/isObjectLike"),a="[object Function]",o=/^\[object .+?Constructor\]$/,s=Object.prototype,l=Function.prototype.toString,u=s.toString,c=RegExp("^"+r(u).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},{"../internal/isObjectLike":146,"../string/escapeRegExp":160}],154:[function(t,e){function n(t){var e=typeof t;return"function"==e||!!t&&"object"==e}e.exports=n},{}],155:[function(t,e){function n(t){return"string"==typeof t||r(t)&&o.call(t)==i}var r=t("../internal/isObjectLike"),i="[object String]",a=Object.prototype,o=a.toString;e.exports=n},{"../internal/isObjectLike":146}],156:[function(t,e){function n(t){return i(t)&&r(t.length)&&!!C[E.call(t)]}var r=t("../internal/isLength"),i=t("../internal/isObjectLike"),a="[object Arguments]",o="[object Array]",s="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",x="[object Float32Array]",b="[object Float64Array]",$="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]",C={};C[x]=C[b]=C[$]=C[w]=C[_]=C[A]=C[k]=C[T]=C[S]=!0,C[a]=C[o]=C[y]=C[s]=C[l]=C[u]=C[c]=C[d]=C[f]=C[h]=C[p]=C[g]=C[v]=C[m]=!1;var M=Object.prototype,E=M.toString;e.exports=n},{"../internal/isLength":145,"../internal/isObjectLike":146}],157:[function(t,e){var n=t("../internal/isArrayLike"),r=t("../lang/isNative"),i=t("../lang/isObject"),a=t("../internal/shimKeys"),o=r(o=Object.keys)&&o,s=o?function(t){var e=null!=t&&t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n(t)?a(t):i(t)?o(t):[]}:a;e.exports=s},{"../internal/isArrayLike":141,"../internal/shimKeys":148,"../lang/isNative":153,"../lang/isObject":154}],158:[function(t,e){function n(t){if(null==t)return[];s(t)||(t=Object(t));var e=t.length;e=e&&o(e)&&(i(t)||l.nonEnumArgs&&r(t))&&e||0;for(var n=t.constructor,u=-1,d="function"==typeof n&&n.prototype===t,f=Array(e),h=e>0;++u<e;)f[u]=u+"";for(var p in t)h&&a(p,e)||"constructor"==p&&(d||!c.call(t,p))||f.push(p);return f}var r=t("../lang/isArguments"),i=t("../lang/isArray"),a=t("../internal/isIndex"),o=t("../internal/isLength"),s=t("../lang/isObject"),l=t("../support"),u=Object.prototype,c=u.hasOwnProperty;e.exports=n},{"../internal/isIndex":142,"../internal/isLength":145,"../lang/isArguments":151,"../lang/isArray":152,"../lang/isObject":154,"../support":161}],159:[function(t,e){function n(t){return r(t,i(t))}var r=t("../internal/baseValues"),i=t("./keys");e.exports=n},{"../internal/baseValues":127,"./keys":157}],160:[function(t,e){function n(t){return t=r(t),t&&a.test(t)?t.replace(i,"\\$&"):t}var r=t("../internal/baseToString"),i=/[.*+?^${}()|[\]\/\\]/g,a=RegExp(i.source);e.exports=n},{"../internal/baseToString":126}],161:[function(t,e){(function(t){var n=Object.prototype,r=(r=t.window)&&r.document,i=n.propertyIsEnumerable,a={};!function(t){var e=function(){this.x=t},n=arguments,o=[];e.prototype={valueOf:t,y:t};for(var s in new e)o.push(s);a.funcDecomp=/\bthis\b/.test(function(){return this}),a.funcNames="string"==typeof Function.name;try{a.dom=11===r.createDocumentFragment().nodeType}catch(l){a.dom=!1}try{a.nonEnumArgs=!i.call(n,1)}catch(l){a.nonEnumArgs=!0}}(1,0),e.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],162:[function(t,e){function n(t){return function(){return t}}e.exports=n},{}],163:[function(t,e){function n(t){return t}e.exports=n},{}],164:[function(t,e){function n(t){return a(t)?r(t):i(t)}var r=t("../internal/baseProperty"),i=t("../internal/basePropertyDeep"),a=t("../internal/isKey");e.exports=n},{"../internal/baseProperty":121,"../internal/basePropertyDeep":122,"../internal/isKey":144}]},{},[1]);
//# sourceMappingURL=insights.js.map