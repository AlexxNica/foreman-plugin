"use strict";angular.module("telemetryConfig",[]).value("CONFIG",{preloadData:!0,API_ROOT:"/redhat_access/proactive_support/rs/telemetry/api/",ACCT_KEY:"telemetry:account_number"}).run(["CONFIG",function(a){window.localStorage.getItem("tapi:dev")&&(a.API_ROOT="v1/")}]),function(){function a(){}angular.module("telemetryApp",["telemetryConfig","telemetryTemplates","telemetryApi","oitozero.ngSweetAlert","ui.router","yaru22.angular-timeago","localytics.directives","ui.bootstrap","ngTable","angular-loading-bar"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(b,c,d,e){c.otherwise("/"),d.html5Mode(!0),e.interceptors.push("authInterceptor"),e.interceptors.push("xomitInterceptor");var f=window.portal&&window.portal.user_info;f&&f.authorized||a()}]).factory("xomitInterceptor",["$rootScope","$q",function(){return{request:function(a){return a&&a.headers&&(a.headers["X-Omit"]="WWW-Authenticate"),a}}}]).factory("authInterceptor",["$rootScope","$q",function(b,c){return{responseError:function(b){return 401===b.status?(a(),c.reject(b)):c.reject(b)}}}])}(),function(){angular.module("telemetryApi",["telemetryConfig"]).factory("Account",["$rootScope","User","CONFIG",function(a,b,c){var d=b.current,e=d.account_number,f=window.sessionStorage.getItem(c.ACCT_KEY);return d.internal&&f&&(e=f),a.$on("account:change",function(b,c){e!=c&&(e=c,a.$broadcast("reload:data"))}),{current:function(){return e?"?account_number="+e:""}}}])}(),angular.module("telemetryApi").factory("Ack",["$http","$q","$rootScope","Account","CONFIG",function(a,b,c,d,e){function f(){a.get(e.API_ROOT+"acks"+d.current()+"&include=errorInfo").success(function(a){g.length=0,Array.prototype.push.apply(g,a),angular.extend(h,_.indexBy(g,"rule_id"))})}var g=[],h={};return e.preloadData&&f(),c.$on("reload:data",f),{acks:g,ackMap:h,createAck:function(c){var f=b.defer();return a.post(e.API_ROOT+"acks"+d.current(),{rule_id:c.id}).success(function(a){g.push(a),h[a.rule_id]=a,f.resolve()}),f.promise},deleteAck:function(b){return a["delete"](e.API_ROOT+"acks/"+b.id+d.current()).success(function(){var a,c=g.length;for(a=0;c>a;a++)if(g[a].id===b.id)return g.splice(a,1),void delete h[b.rule_id]})},reload:f}}]),angular.module("telemetryApi").factory("Announcement",["$http","Account","CONFIG",function(a,b,c){function d(){return a.get(c.API_ROOT+"announcements").success(function(a){f.length=0,e.count=0,angular.forEach(a,function(a){a.seen===!1&&e.count++}),Array.prototype.push.apply(f,a)})}var e={count:0},f=[];return c.preloadData&&d(),{announcements:f,unseen:e,createAnnouncement:function(b){return a.post(c.API_ROOT+"announcements",b).success(function(a){a.hidden||f.push(a)})},acknowledge:function(b){return a.post(c.API_ROOT+"announcements/"+b.id+"/ack").success(function(a){var b,c=f.length;for(b=0;c>b;b++)if(f[b].id===a.id)return f[b]=a,void e.count--})},reload:d}}]),angular.module("telemetryApi").factory("Blacklist",["$http","$rootScope","Account","CONFIG",function(a,b,c,d){function e(){a.get(d.API_ROOT+"blacklists"+c.current()).success(function(a){f.length=0,Array.prototype.push.apply(f,a)})}var f=[];return d.preloadData&&e(),b.$on("reload:data",e),{blacklists:f,createBlacklist:function(b){var e={machine_id:b.machine_id,account_number:b.account_number};return a.post(d.API_ROOT+"blacklists"+c.current(),e).success(function(a){a.system=b,f.push(a)})},deleteBlacklist:function(b){return a["delete"](d.API_ROOT+"blacklists/"+b.id+c.current()).success(function(){var a,c=f.length;for(a=0;c>a;a++)if(f[a].id===b.id)return void f.splice(a,1)})},reload:e}}]),angular.module("telemetryApi").factory("ErrorInfo",["$http","CONFIG",function(a,b){function c(a){return a.replace("|","!$")}return{plugins:function(){return a.get(b.API_ROOT+"error_infos?plugins=true")},summary:function(){return a.get(b.API_ROOT+"error_infos?summary=true")},create:function(c){return a.post(b.API_ROOT+"error_infos",c)},update:function(d){var e=c(d.rule_id);return a.put(b.API_ROOT+"error_infos/"+e,d)},preview:function(c){return a.post(b.API_ROOT+"error_infos/preview",c)},byId:function(d){return d=c(d),a.get(b.API_ROOT+"error_infos/"+d)}}}]),angular.module("telemetryApi").factory("Group",["$http","$rootScope","CONFIG","Account",function(a,b,c,d){function e(){a.get(c.API_ROOT+"groups"+d.current()+"&include=systems").success(function(a){h.length=0,Array.prototype.push.apply(h,a)})}function f(a,b){var c,d,e=h.length;for(c=0;e>c;c++)if(h[c].id===a.id){var f=h[c].systems.length;for(d=0;f>d;d++)if(h[c].systems[d].machine_id===b.machine_id)return void h[c].systems.splice(d,1)}}function g(a){var b,c=h.length;for(b=0;c>b;b++)if(h[b].id===a.id)return void h.splice(b,1)}var h=[],i={};return c.preloadData&&e(),b.$on("reload:data",e),{groups:h,current:function(){return i},setCurrent:function(a){i=a?a:{}},removeSystem:function(b,e){return f(b,e),a["delete"](c.API_ROOT+"groups/"+b.id+"/systems/"+e.machine_id+d.current())},addSystems:function(b,e){return b.systems||(b.systems=[]),Array.prototype.push.apply(b.systems,e),a.put(c.API_ROOT+"groups/"+b.id+"/systems"+d.current(),e)},createGroup:function(b){return a.post(c.API_ROOT+"groups"+d.current(),b).success(function(a){b.display_name="",h.push(a)})},deleteGroup:function(b){return g(b),a["delete"](c.API_ROOT+"groups/"+b.id+d.current())},reload:e}}]),angular.module("telemetryApi").factory("Report",["$http","$rootScope","CONFIG","Account","Group",function(a,b,c,d,e){var f,g;return b.$on("reload:data",function(){g=null,f=null}),{groupByHost:function(){return a.get(c.API_ROOT+"reports"+d.current()+"&accept=host")},countMap:function(b){if(g&&!b)return g;var f=c.API_ROOT+"reports"+d.current()+"&accept=countMap",h=e.current();return h&&h.id&&(f+="&group="+h.id),g=a.get(f)},ruleReports:function(b){b=b.replace("|","!$");var f=c.API_ROOT+"reports"+d.current()+"&rule_id="+b,g=e.current();return g&&g.id&&(f+="&group="+g.id),a.get(f)},groupByCount:function(){return f?f:f=a.get(c.API_ROOT+"reports"+d.current()+"&accept=count")}}}]),angular.module("telemetryApi").factory("System",["$http","$rootScope","CONFIG","Account","Group",function(a,b,c,d,e){var f;return b.$on("reload:data",function(){f=null}),{getSystems:function(){return f?f:f=a.get(c.API_ROOT+"systems"+d.current())},getSystemSummary:function(){var b=d.current(),f=c.API_ROOT+"systems";f+=b?b+"&summary=true":"?summary=true";var g=e.current();return g&&g.id&&(f+="&group="+g.id),a.get(f)},getSystemReports:function(b){return a.get(c.API_ROOT+"systems/"+b.machine_id+"/reports"+d.current())}}}]),angular.module("telemetryApp").controller("AnnouncementCtrl",["$scope","Announcement","User",function(a,b,c){a.announcements=b.announcements,a.user=c.current}]).controller("NewAnnouncementCtrl",["$scope","$state","Announcement",function(a,b,c){a.announcement={hidden:!1},a.create=function(){c.createAnnouncement(a.announcement).success(function(){b.go("announcements")})}}]),angular.module("telemetryApp").config(["$stateProvider",function(a){a.state("announcements",{url:"/announcements",templateUrl:"app/announcements/announcements.html",controller:"AnnouncementCtrl"}).state("new-announcement",{url:"/announcements/new",templateUrl:"app/announcements/new-announcement.html",controller:"NewAnnouncementCtrl"})}]),angular.module("telemetryApp").controller("ConfigCtrl",["$scope","$state","$stateParams",function(a,b,c){a.current={},c.tab?a.current[c.tab]=!0:a.current.acknowledged=!0,a.tabClick=function(a){b.go("config",{tab:a},{notify:!1})}}]),angular.module("telemetryApp").config(["$stateProvider",function(a){a.state("config",{url:"/config/:tab",templateUrl:"app/config/views/config.html",controller:"ConfigCtrl",params:{tab:null},hideGroup:!0})}]),angular.module("telemetryApp").controller("EditErrorInfoCtrl",["$scope","$stateParams","$state","ErrorInfo",function(a,b,c,d){d.byId(b.id).success(function(b){a.error_info=b}),a.saveFn=function(){d.update(a.error_info).success(function(a){c.go("show-error_info",{id:a.rule_id})})}}]),angular.module("telemetryApp").controller("ListErrorInfoCtrl",["$scope","$state","$filter","$document","ErrorInfo",function(a,b,c,d,e){function f(){var b=h[a.tab];b&&b()}function g(a){e.create(a).success(function(a){b.go("edit-error_info",{id:a.rule_id})})}a.toggled=null,a.newInfo={plugin:"",error_key:""},e.summary().success(function(b){a._infos=b});var h={active:function(){a.records=c("filter")(a._infos,function(a){return a.active})},retired:function(){a.records=c("filter")(a._infos,function(a){return a.retired&&!a.needs_content})},inactive:function(){a.records=c("filter")(a._infos,function(a){return!a.active&&!a.retired&&!a.needs_content})},needs_content:function(){a.records=c("filter")(a._infos,function(a){return a.needs_content===!0})}};a.activateTab=function(b){a.tab=b,f()},a.tab="active",a.toggleTray=function(b){return a.toggled===b?void(a.toggled=null):void(a.toggled=b)},a.isToggled=function(b){return a.toggled===b},a.isTabActive=function(b){return _.includes(b,a.tab)},a.createInfo=function(){g(a.newInfo)},a.createRecord=function(a){g(a.error_info)},a.deactivateRecord=function(a){var b=a.error_info;b.active=a.active=!1,e.update(b)},a.activateRecord=function(a){var b=a.error_info;b.active=a.active=!0,e.update(b)},a.unretireRecord=function(a){var b=a.error_info;b.retired=a.retired=!1,e.update(b)},a.retireRecord=function(a){var b=a.error_info;b.retired=a.retired=!0,e.update(b)};var i=d.on("click",function(b){angular.element(b.target).closest(".utilities-tray").length||a.$apply(a.toggleTray.bind(a,null))});a.$watch("_infos",f,!0),a.$on("$destroy",function(){i.off("click")})}]),angular.module("telemetryApp").controller("NewErrorInfoCtrl",["$scope","ErrorInfo",function(a,b){a.error_info={severity:"INFO",category:"Stability"},a.saveFn=function(){b.create(a.error_info).success(function(a){console.log("created error_info",a)})}}]),angular.module("telemetryApp").controller("ShowErrorInfoCtrl",["$scope","$state","$stateParams","ErrorInfo","ErrorInfoPreview",function(a,b,c,d,e){d.byId(c.id).success(function(b){a.error_info=b}),a.preview=e.preview,a.editInfo=function(a){b.go("edit-error_info",{id:a.rule_id})}}]),angular.module("telemetryApp").config(["$stateProvider",function(a){a.state("error_infos",{url:"/error_infos",templateUrl:"app/error_infos/views/list-error_infos.html",controller:"ListErrorInfoCtrl"}).state("create-error_info",{url:"/error_infos/new",templateUrl:"app/error_infos/views/create-error_infos.html",controller:"NewErrorInfoCtrl"}).state("show-error_info",{url:"/error_infos/:id",templateUrl:"app/error_infos/views/show-error_infos.html",controller:"ShowErrorInfoCtrl"}).state("edit-error_info",{url:"/error_infos/:id/edit",templateUrl:"app/error_infos/views/edit-error_infos.html",controller:"EditErrorInfoCtrl"})}]),function(){angular.module("telemetryApp").controller("OverviewCtrl",["$scope","$state","$stateParams","$location","$filter","Ack","Report","OverviewCountsService",function(a,b,c,d,e,f,g,h){function i(b){return a.severities[b.rule.severity]}function j(a){return f.ackMap[a.rule.rule_id]}function k(){a.total=0;var b=_.reject(a.reports,j);h.updateCounts(b),b=_.filter(b,i),a.data=a.isOverview?_(b).groupBy(function(a){return a.rule.category}).map(function(a,b){var c=_.reduce(a,function(a,b){return a+b.count},0);return{id:b,name:b,value:c,category:!0}}).indexBy("id").value():_(b).filter(function(b){return b.rule.category.toLowerCase()===a.category.toLowerCase()}).map(function(b){return{id:b.rule.rule_id,name:b.rule.description,severityNum:_.indexOf(a.severityNames,b.rule.severity),severity:b.rule.severity,category:b.rule.category,value:b.count,color:""}}).indexBy("id").value(),a.total=_.reduce(a.data,function(a,b){return a+b.value},0)}function l(){n||(a.$watch("severities",function(a,b){angular.equals(a,b)||k()},!0),n=!0)}function m(b){a.loading=!0,g.countMap(b).success(function(b){a.reports=b,k(),l(),a.loading=!1})}a.data={};var n=!1;a.severityNames=["INFO","WARN","ERROR"];a.severities={},angular.forEach(a.severityNames,function(b){a.severities[b]=!0}),a.total=0,a.category=c.category,a.rule=c.rule,a.isOverview=!a.category,a.processReports=k,a.$on("donut-finished",function(b,c){a.data=c}),a.reload=function(){m(!0),d.replace(),d.search("rule",null)},a.$on("reload:data",a.reload),a.$on("group:change",function(){m(!0),b.go("overview",{category:null,rule:null},{location:"replace"})}),m()}])}(),angular.module("telemetryApp").config(["$stateProvider",function(a){a.state("overview",{url:"/?category?rule",templateUrl:"app/overview/overview.html",controller:"OverviewCtrl",params:{category:null}})}]),angular.module("telemetryApp").controller("SystemCtrl",["$scope","$modal","System",function(a,b,c){function d(b){return c.getSystemSummary(b).success(function(b){a.systems=b.systems,a.summary=b.summary,a.loading=!1})}a.loading=!0,a.$on("reload:data",d),a.$on("group:change",d),d()}]),angular.module("telemetryApp").config(["$stateProvider",function(a){a.state("systems",{url:"/systems",templateUrl:"app/systems/systems.html",controller:"SystemCtrl"})}]),angular.module("telemetryTemplates",[]),function(){angular.module("telemetryApp").directive("accountSelect",["CONFIG",function(a){return{templateUrl:"components/accountSelect/accountSelect.html",restrict:"E",controller:["$scope","User",function(b,c){b.user=c.current,b.accountChange=function(c){c&&(window.sessionStorage.setItem(a.ACCT_KEY,c),b.$emit("account:change",c))},b.reset=function(a){b.user&&(b.account_number=b.user.account_number,b.user.internal&&(b.account_number=a||""+b.user.account_number),b.accountChange(b.account_number))};var d=window.sessionStorage.getItem(a.ACCT_KEY);b.reset(d)}]}}])}(),angular.module("telemetryApp").directive("bullhorn",function(){return{templateUrl:"components/bullhorn/bullhorn.html",restrict:"E",replace:!0,controller:["$scope","$document","Announcement",function(a,b,c){a.unseenFilter={seen:!1},a.announcements=c.announcements,a.unseen=c.unseen,a.showAnnouncements=!1,a.toggle=function(){a.showAnnouncements=!a.showAnnouncements},a.ack=c.acknowledge,b.on("keydown",function(b){a.showAnnouncements&&27===b.keyCode&&a.$evalAsync(function(){a.toggle()})})}]}}),angular.module("telemetryApp").directive("configAcknowledged",function(){return{templateUrl:"components/config/acknowledged/acknowledged.html",restrict:"EA",scope:{},controller:["$scope","Ack",function(a,b){a.acks=b.acks,a.reload=b.reload,a["delete"]=b.deleteAck}]}}),angular.module("telemetryApp").directive("configBlacklist",function(){return{templateUrl:"components/config/blacklist/blacklist.html",restrict:"EA",scope:{},controller:["$scope","Blacklist",function(a,b){a.blacklists=b.blacklists,a.reload=b.reload,a["delete"]=b.deleteBlacklist}]}}),angular.module("telemetryApp").directive("configGroups",function(){return{templateUrl:"components/config/groups/groups.html",restrict:"EA",scope:!1,controller:["$scope",function(a){a.isCreating=!1}]}}),angular.module("telemetryApp").directive("errorInfoForm",function(){return{templateUrl:"components/errorInfo/errorInfoForm/errorInfoForm.html",restrict:"E",controller:["$scope","ErrorInfoPreview",function(a,b){function c(){a.error_info&&(a.error_info.rule_id=(a.error_info.plugin||"")+"|"+(a.error_info.error_key||""))}a.locked=!0,a.severities=["INFO","WARN","ERROR"],a.categories=["Stability","Security","Performance"],a.preview=b.preview,a.toggleLock=function(){a.locked=!a.locked},a.$watch("error_info.plugin",c),a.$watch("error_info.error_key",c)}]}}),angular.module("telemetryApp").directive("errorInfoIcon",function(){return{templateUrl:"components/errorInfo/errorInfoIcon/errorInfoIcon.html",restrict:"E",replace:!0,controller:["$scope","User",function(a,b){a.user=b.current}]}}),angular.module("telemetryApp").directive("errorInfoPlugin",function(){return{templateUrl:"components/errorInfo/errorInfoPlugin/errorInfoPlugin.html",restrict:"E",controller:["$scope","ErrorInfo",function(a,b){a.plugins=[],b.plugins().success(function(b){a.plugins=b})}]}}),angular.module("telemetryApp").factory("ErrorInfoPreview",["$http","$modal",function(a,b){return{preview:function(a){b.open({templateUrl:"components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{error_info:function(){return a},system:function(){return!1}}})}}}]),angular.module("telemetryApp").filter("trust_html",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).filter("titlecase",function(){return function(a){return a=void 0===a||null===a?"":a,a.toString().toLowerCase().replace(/\b([a-z])/g,function(a){return a.toUpperCase()})}}).filter("orderObjectBy",function(){return function(a,b,c){var d=_.sortBy(a,b);return c?d.reverse():d}}),angular.module("telemetryApp").directive("groupForm",function(){return{templateUrl:"components/group/views/form.html",restrict:"EC",controller:["$scope","Group",function(a,b){a.create=function(c){a.isCreating=!0,b.createGroup(c).success(function(){a.isCreating=!1}),a.newGroup={display_name:""}},a.removeSystem=b.removeSystem,a.newGroup={display_name:""}}]}}).directive("group",function(){return{templateUrl:"components/group/views/group.html",restrict:"EC",controller:["$scope","SweetAlert","Group",function(a,b,c){a.isCollapsed=!1,a.deleteGroup=function(a){b.swal({title:"Are you sure?",text:"Your will not be able to recover this group!",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(b){b&&c.deleteGroup(a)})}}]}}),angular.module("telemetryApp").directive("groupSelect",function(){return{templateUrl:"components/groupSelect/groupSelect.html",restrict:"E",replace:!0,controller:["$scope","$rootScope","Group",function(a,b,c){function d(b){c.setCurrent(b),a.$broadcast("group:change",b)}a.groups=c.groups,a.group=-1,b.$on("$stateChangeSuccess",function(b,c){a.hideGroup=c.hideGroup}),a.groupChange=function(){var b=a.groups[a.group];d(b)},a.$on("account:change",function(){d(null)})}]}}),angular.module("telemetryApp").directive("overview",function(){return{templateUrl:"components/overview/overview.html",restrict:"E",replace:!0,controller:["$scope","$state","Ack",function(a,b,c){a.arcClick=function(c){return c.category===!0?b.go("overview",{category:c.id.toLowerCase()}):(b.go("overview",{category:c.category.toLowerCase(),rule:c.id},{location:"replace",notify:!1}),void(a.rule=c.id))},a.ackAction=function(b){c.createAck(b).then(a.processReports)}}]}}),angular.module("telemetryApp").factory("OverviewCountsService",function(){var a={};return{counts:a,updateCounts:function(b){a.security=0,a.stability=0,a.performance=0,_(b).groupBy(function(a){return a.rule.category}).reduce(function(a,b,c){return a[c.toLowerCase()]=_.reduce(b,function(a,b){return a+b.count},0),a},a)}}}),angular.module("telemetryApp").directive("overviewDetails",function(){return{templateUrl:"components/overview/overviewDetails/overviewDetails.html",restrict:"E",scope:{rule:"=",total:"="},controller:["$scope","$location","$modal","Report",function(a,b,c,d){var e=b.search();a.category=e.category,a.isOverview="undefined"==typeof a.category,a.title=e.category||"Overview",a.reportDetails=null,a.loading=!1,a.$watch("rule",function(c){return c?(a.reportDetails={},a.loading=!0,void d.ruleReports(c).success(function(c){if(a.loading=!1,!c||!c.length)return a.reportDetails=null,void(a.ruleDetail=null);var d=c[0];a.ruleDetail=d.error_info,a.reportDetails=c;var f=e.machine;if(f){var g=_.findWhere(c,function(a){return a.system.machine_id===f});if(g)return a.showSystem(g);b.replace(),b.search("machine",null)}})):(a.reportDetails=null,void(a.ruleDetail=null))}),a.showSystem=function(a){c.open({templateUrl:"components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{system:function(){return a},error_info:function(){return!1}}})}}]}}),function(){var a={};angular.module("telemetryApp").directive("recommendedKbase",function(){return{scope:{node:"="},templateUrl:"components/recommendedKbase/recommendedKbase.html",restrict:"EC",controller:["$scope","$http",function(b,c){b.loading=!1,b.node&&(a[b.node]?b.solution=a[b.node]:(b.loading=!0,c.get("/rs/search?keyword=id:"+b.node,{headers:{"X-Omit":"WWW-Authenticate"}}).success(function(c){b.loading=!1,c&&c.searchResult&&c.searchResult.length&&(b.solution=c.searchResult[0],a[b.node]={title:b.solution.title,viewUri:b.solution.viewUri})})["catch"](function(){b.loading=!1})))}]}})}(),function(){function a(a){return c3.generate({bindto:".rh-donut",size:{width:260,height:260},pie:{label:{threshold:.07}},data:{columns:[],colors:{Performance:"#2c96cb",Security:"#6d868d",Stability:"#46b631"},type:"pie"},legend:{show:!1},tooltip:{format:{name:a,value:function(a,b){if(b>=.07)return a;var c=d3.format("0.3p");return a+" ("+c(b)+")"}}}})}function b(a){return!a.hasOwnProperty("visible")||a.visible}function c(a){return _.values(a).filter(b).map(function(a){return[a.id,a.value]})}function d(a){var b=a.replace(/[|._]/g,"-");return".c3-arc-"+b}angular.module("telemetryApp").directive("rhDonut",["$timeout",function(){return{restrict:"C",replace:!0,scope:{arcMap:"=",onClick:"&"},link:function(e){var f=function(a){var b=d(a.id),c=angular.element(b),f=c.css("fill");a.color=f,c.on("click",function(){e.$apply(e.onClick.bind(e,{arc:a}))})};e.chart=a(function(a){return e.arcMap[a].name}),e.loading=!1,e.$watch("arcMap",function(a,d){if(!e.loading){var g=c(a),h=_.keys(d).filter(function(c){return!a.hasOwnProperty(c)||!b(a[c])});e.loading=!0,e.chart.load({columns:g,unload:h,done:function(){angular.forEach(e.chart.data(),function(a){var b=e.arcMap[a.id];f(b)}),e.$emit("donut-finished",e.arcMap),e.loading=!1}})}},!0)}}}])}(),angular.module("telemetryApp").directive("severityBar",function(){return{templateUrl:"components/severityBar/severityBar.html",restrict:"EC",controller:["$scope",function(a){a.toggle=function(b){a.severities[b]=!a.severities[b]}}]}}),angular.module("telemetryApp").directive("severityIcon",function(){return{scope:{severity:"="},templateUrl:"components/severityIcon/severityIcon.html",restrict:"EC",replace:!0,controller:["$scope",function(a){a.severityClass="","INFO"===a.severity?a.severityClass="i-info fa-info-circle":"WARN"===a.severity?a.severityClass="i-warning fa-warning":"ERROR"===a.severity&&(a.severityClass="i-error fa-times-circle")}]}}),angular.module("telemetryApp").directive("sideNav",function(){return{templateUrl:"components/sideNav/sideNav.html",restrict:"E",replace:!0,controller:["$scope","$stateParams","OverviewCountsService",function(a,b,c){a.categories=["performance","stability","security"],a.counts=c.counts,a.isActive=function(a){return a===b.category}}]}}),function(){angular.module("telemetryApp").controller("SystemModalCtrl",["$scope","$location","$modalInstance","System","ErrorInfo","system","error_info",function(a,b,c,d,e,f,g){function h(a){b.replace(),b.search("machine",a)}a.system=f,a.loading=!0;var i=b.search();a.ruleFilter=!1,a.debug=!1,f&&(i.rule&&(a.ruleFilter=!0),d.getSystemReports(f).success(function(b){a.system=b,i.rule&&(a.system._reports=a.system.reports,a.system.reports=_.filter(a.system.reports,function(a){return a.rule_id===i.rule})),a.loading=!1})),g&&(a.debug=!0,e.preview(g).success(function(b){a.system=b,a.loading=!1})),a.viewAll=function(){a.system.reports=a.system._reports,a.ruleFilter=!1},a.close=function(){c.dismiss("close")},c.result.then(angular.noop,function(){h(null)}),h(f.machine_id)}])}(),angular.module("telemetryApp").directive("systemSelect",function(){return{templateUrl:"components/system/systemSelect/systemSelect.html",restrict:"E",scope:{group:"="},controller:["$scope","System","Group","$filter",function(a,b,c){function d(){if(f&&f.length){var b=_.indexBy(a.group.systems,"machine_id");a.systems=_.reject(f,function(a){return!!b[a.machine_id]})}}function e(){a.newSystems=[]}var f;a.newSystems=[],b.getSystems().success(function(a){f=a,d()}),a.$watch("group.systems",d,!0),a.addSystem=function(){c.addSystems(a.group,a.newSystems).then(e,e)}}]}}),angular.module("telemetryApp").directive("systemSummaryTable",function(){return{templateUrl:"components/system/systemSummaryTable/systemSummaryTable.html",restrict:"EC",scope:{systems:"=",doFetch:"="},controller:["$scope","$filter","$modal","$location","Blacklist","System","NgTableParams",function(a,b,c,d,e,f,g){function h(){var b=d.search(),c=b.machine;if(c){var e=_.findWhere(i,{machine_id:c});if(e)return a.showSystem(e);d.replace(),d.search("machine",null)}}var i=a.systems||[];a.filters={hostname:""},a.tableParams=new g({page:1,count:25,filter:a.filters,sorting:{last_check_in:"desc"}},{total:i.length,getData:function(a,c){var d=c.filter()?b("filter")(i,c.filter().hostname):i;d=c.sorting()?b("orderBy")(d,c.orderBy()):d,a.resolve(d.slice((c.page()-1)*c.count(),c.page()*c.count()))}}),a.$watch("systems",function(b){b&&b.length&&(i=b,a.tableParams.total(i.length),a.tableParams.reload(),h())}),a.doFetch&&(console.log("systemsSummary doing fetch!"),a.loading=!0,f.getSystemSummary().success(function(b){a.systems=b.systems,a.summary=b.summary,a.loading=!1})),a.blacklistFilter=function(a){return null===a.blacklist},a.showSystem=function(a){c.open({templateUrl:"components/system/systemModal/systemModal.html",windowClass:"system-modal",backdropClass:"system-backdrop",controller:"SystemModalCtrl",resolve:{system:function(){return a},error_info:function(){return!1}}})},a.blacklist=function(a){e.createBlacklist(a).success(function(b){a.blacklist=b})}}]}}),angular.module("telemetryApp").directive("topbar",function(){return{templateUrl:"components/topbar/topbar.html",restrict:"E",replace:!0,controller:["$scope","$state",function(){}]}}),angular.module("telemetryApp").factory("User",["$http",function(){var a={authorized:!0,internal:!0,login:"rhn-support-kroberts",user_id:5838412,account_id:1979710,account_number:540155,email:"kroberts+dev@redhat.com",name:"Keith Robertson",lang:"en",lang_err_msg:"The page you have selected is not yet available in English. We are working to make sure all content is available in English, but in order to display the page we have switched your language to English.",hello:"Hello,",description_placeholder:"Enter a description"};return{current:a}}]),angular.module("telemetryTemplates").run(["$templateCache",function(a){a.put("app/announcements/announcements.html",'\n<section class="page-announcements">\n  <section class="section-announcements">\n    <h1 class="page-title">Announcements</h1>\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th>Message</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="a in announcements">\n          <td>{{a.message}}</td>\n          <td>{{a.created_at | date}}</td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</section><a ui-sref="new-announcement" ng-show="user.internal" class="create-announcement btn btn-primary">Create Announcement</a>'),a.put("app/announcements/new-announcement.html",'\n<section class="page-announcements">\n  <section class="section-announcements">\n    <form ng-submit="create()" name="form" class="form-horizontal">\n      <fieldset>\n        <legend>New Announcement</legend>\n        <div class="form-group">\n          <label for="message" class="col-md-4 control-label">Message</label>\n          <div class="col-md-6">\n            <input id="message" ng-model="announcement.message" type="text" placeholder="Announcement Message" required="required" class="form-control input-md"/>\n          </div>\n        </div>\n        <div class="form-group">\n          <label for="hidden" class="col-md-4 control-label">Hidden</label>\n          <div class="col-md-4">\n            <label class="checkbox-inline">\n              <input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;\n            </label>\n          </div>\n        </div>\n        <div class="form-group">\n          <label for="submit" class="col-md-4 control-label"></label>\n          <div class="col-md-4">\n            <button id="submit" name="submit" ng-disabled="form.$error.required" class="btn btn-success">Create Announcement</button>\n          </div>\n        </div>\n      </fieldset>\n    </form>\n  </section>\n</section>'),a.put("app/config/views/config.html",'\n<tabset>\n  <tab heading="Acknowledged" active="current.acknowledgement" ng-click="tabClick(\'acknowledgement\')">\n    <config-acknowledged></config-acknowledged>\n  </tab>\n  <tab heading="Blacklist" active="current.blacklist" ng-click="tabClick(\'blacklist\')">\n    <config-blacklist></config-blacklist>\n  </tab>\n  <tab heading="Groups" active="current.groups" ng-click="tabClick(\'groups\')">\n    <config-groups></config-groups>\n  </tab>\n</tabset>'),a.put("app/error_infos/views/create-error_infos.html",'\n<section class="page-announcements">\n  <section class="section-announcements">\n    <h2>New Error Info</h2>\n    <error-info-form></error-info-form>\n  </section>\n</section>'),a.put("app/error_infos/views/edit-error_infos.html",'\n<section class="page-announcements">\n  <section class="section-announcements">\n    <h2>Edit Error Info</h2>\n    <error-info-form></error-info-form>\n  </section>\n</section>'),a.put("app/error_infos/views/list-error_infos.html",'\n<div class="page">\n  <div class="section">\n    <div class="row">\n      <div class="col-sm-6">\n        <h1 class="page-title">Error Infos</h1>\n        <div class="ng-cloak btn-group btn-group-filter">\n          <button ng-class="{active:tab==\'active\'}" ng-click="activateTab(\'active\')" type="button" class="btn btn-default">Active</button>\n          <button ng-class="{active:tab==\'needs_content\'}" ng-click="activateTab(\'needs_content\')" type="button" class="btn btn-default">Needs Content</button>\n          <button ng-class="{active:tab==\'inactive\'}" ng-click="activateTab(\'inactive\')" type="button" class="btn btn-default">Inactive</button>\n          <button ng-class="{active:tab==\'retired\'}" ng-click="activateTab(\'retired\')" type="button" class="btn btn-default">Retired</button>\n        </div>\n      </div>\n      <div ng-if="!loading" style="margin-bottom: 10px" class="col-sm-6 ng-cloak">\n        <div class="create-error">\n          <h3>Create Error</h3>\n          <div class="field-group">\n            <label>Plugin</label>\n            <input ng-model="newInfo.plugin"/>\n          </div>\n          <div class="field-group">\n            <label>Error Key</label>\n            <input ng-model="newInfo.error_key"/>\n            <button ng-click="createInfo(newInfo)" ng-disabled="!newInfo.plugin || !newInfo.error_key" class="btn btn-link pull-right">+ Add Error</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <table ng-if="!loading" class="table table-striped table-bordered error-infos">\n    <thead>\n      <tr>\n        <th class="key">Error key</th>\n        <th class="plugin">Plugin</th>\n        <th class="cat">Category</th>\n        <th class="sev">Severity</th>\n        <th class="count">Count</th>\n        <th class="desc">Description</th>\n        <th></th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="record in records | orderBy:\'-count\'" class="ng-cloak">\n        <td class="key">{{record.error_info.error_key}}</td>\n        <td class="plugin">{{record.error_info.plugin}}</td>\n        <td class="cat">{{record.error_info.category}}</td>\n        <td class="sev">{{record.error_info.severity}}</td>\n        <td class="count">{{record.count}}</td>\n        <td class="desc">{{record.error_info.description}}</td>\n        <td class="util">\n          <div class="td-wrap">\n            <div class="utilities-tray"><i ng-click="toggleTray(record)" class="fa fa-cogs"></i>\n              <div ng-show="isToggled(record)" class="tray"><a ui-sref="show-error_info({id: record.rule_id})" ng-if="isTabActive([\'active\', \'inactive\', \'retired\'])">Show</a><a ui-sref="edit-error_info({id: record.rule_id})" ng-if="isTabActive([\'active\', \'inactive\', \'retired\'])">Edit</a><a ng-click="createRecord(record)" ng-if="isTabActive([\'needs_content\'])">Add Content</a><a ng-click="deactivateRecord(record)" ng-if="isTabActive([\'active\'])">Deactivate</a><a ng-click="activateRecord(record)" ng-if="isTabActive([\'inactive\'])">Activate</a><a ng-click="retireRecord(record)" ng-if="isTabActive([\'inactive\'])">Retire</a><a ng-click="unretireRecord(record)" ng-if="isTabActive([\'retired\'])">Unretire</a></div>\n            </div>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table><br/>\n</div>'),a.put("app/error_infos/views/show-error_infos.html",'\n<section class="page-announcements">\n  <section class="section-announcements">\n    <h2>Error Info <small ng-show="error_info.plugin &amp;&amp; error_info.error_key">- {{ error_info.plugin }}|{{ error_info.error_key }}</small></h2>\n    <form ng-submit="saveFn()" name="form" ng-show="error_info">\n      <fieldset>\n        <legend></legend>\n        <div class="form-group">\n          <label class="control-label">Plugin</label>\n          <p class="form-control-static">{{ error_info.plugin }}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Error key </label>\n          <p class="form-control-static">{{ error_info.error_key }}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Category </label>\n          <p class="form-control-static">{{ error_info.category }}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Severity </label>\n          <p class="form-control-static">{{ error_info.severity }}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Display Name</label>\n          <p class="form-control-static">{{ error_info.description }}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Summary</label>\n          <pre>{{ error_info.summary }}</pre>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Reason</label>\n          <pre>{{ error_info.reason }}</pre>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Resolution</label>\n          <pre>{{ error_info.resolution }}</pre>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Node ID </label>\n          <p class="form-control-static">{{ error_info.node_id }}</p>\n        </div>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model="error_info.active" disabled="disabled"/>Active\n          </label>\n        </div>\n        <div class="checkbox">\n          <label>\n            <input type="checkbox" ng-model="error_info.retired" disabled="disabled"/>Retired\n          </label>\n        </div>\n        <div class="form-group">\n          <label class="control-label"></label>\n          <button name="preview" ng-click="preview(error_info)" class="btn btn-block btn-primary">Preview</button>\n        </div>\n        <div class="form-group">\n          <label class="control-label"></label>\n          <button ng-click="editInfo(error_info)" class="btn btn-block btn-info">Edit</button>\n        </div>\n      </fieldset>\n    </form>\n  </section>\n</section>'),a.put("app/overview/overview.html",'\n<div class="row">\n  <div class="col-md-6 col-lg-5 chart-col">\n    <overview data="data" total="total" rule="rule"></overview>\n  </div>\n  <div ng-hide="loading" class="col-md-6 col-lg-7">\n    <overview-details rule="rule" total="total" processReports="processReports()"></overview-details>\n  </div>\n</div>'),a.put("app/systems/systems.html",'\n<section class="page-systems">\n  <section class="section-system actions">\n    <div class="complete ng-cloak">\n      <div class="section-title">\n        <h1 class="page-title">Systems</h1>\n        <div ng-hide="loading" class="text-center">\n          <div class="block"><img src="assets/images/i_check.png"/>\n            <h3><span class="num success">{{summary.green}}</span>\n              <ng-pluralize count="summary.green" when="{\'one\': \' System \', \'other\': \' Systems \'}"></ng-pluralize>with no actions\n            </h3>\n          </div>\n          <div class="block"><img src="assets/images/i_exc.png"/>\n            <h3><span class="num fail">{{summary.red}} </span>\n              <ng-pluralize count="summary.red" when="{\'one\': \' System \', \'other\': \' Systems \'}"></ng-pluralize>with actions\n            </h3>\n          </div>\n        </div>\n      </div>\n      <div ng-show="loading" class="load text-center">\n        <div class="spinner spinner-lg spinner-inline"></div>Loading system information…\n      </div>\n      <system-summary-table ng-hide="loading" systems="systems"></system-summary-table>\n    </div>\n  </section>\n</section>'),a.put("components/accountSelect/accountSelect.html",'\n<div ng-show="user.internal" class="tam">\n  <label>Account Number</label>\n  <div ng-click="reset()" class="fa fa-refresh pull-right tam-icon pointer"></div>\n  <input ng-model="account_number" ng-model-options="{ debounce: 750 }" ng-change="accountChange(account_number)" class="accNumbInput"/>\n</div>'),a.put("components/bullhorn/bullhorn.html",'\n<div><i ng-click="toggle()" class="announcements-icon">\n    <div ng-show="unseen.count" class="has-announcement"><span class="count">{{unseen.count}}</span></div>\n    <div ng-show="unseen.count" class="fa fa-bullhorn"></div><a ui-sref="announcements" ng-hide="unseen.count" class="fa fa-bullhorn"></a></i>\n  <div id="announcements" ng-show="unseen.count &amp;&amp; showAnnouncements" class="announcements fade-out">\n    <ul>\n      <li ng-repeat="a in announcements | filter:unseenFilter">{{a.message}}\n        <div ng-click="ack(a)" class="fa fa-close btn pull-right"></div>\n      </li>\n    </ul>\n  </div>\n</div>'),a.put("components/config/acknowledged/acknowledged.html",'\n<div class="acks row tab-pane active">\n  <div class="col-md-8">\n    <h3>Acknowledged/ignored rules</h3>\n    <p>You currently have \n      <ng-pluralize count="acks.length" when="{\'one\': \'1 rule that is \', \'other\': \'{} rules that are \'}"></ng-pluralize>being removed from view.\n    </p>\n    <p><strong>Note: </strong>These acks are account wide</p>\n  </div>\n  <div class="col-md-4"><a ng-click="reload()" class="fa fa-refresh"> Reload data</a></div>\n  <section ng-show="loading">\n    <div class="spinner spinner-lg spinner-inline"></div>Loading ack info …\n  </section>\n  <section ng-hide="loading">\n    <table ng-show="acks.length" class="table table-striped">\n      <thead>\n        <tr>\n          <th>Category</th>\n          <th>Rule</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="ack in acks">\n          <td>{{ack.error_info.category}}</td>\n          <td>{{ack.error_info.description}}</td>\n          <td>\n            <div ng-click="delete(ack)" class="fa fa-times pointer pull-right"></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</div>'),a.put("components/config/blacklist/blacklist.html",'\n<div class="row tab-pane">\n  <div class="col-md-8">\n    <h3>Blacklisted Hosts</h3>\n    <p>You currently have \n      <ng-pluralize count="blacklists.length" when="{\'one\': \'1 host that is \', \'other\': \'{} hosts that are \'}"></ng-pluralize>being blacklisted.\n    </p>\n    <p><strong>Note: </strong>Hosts listed here will have their records removed <strong>after </strong>the next batch process run. Entries will not immediately disappear.</p>\n  </div>\n  <div class="col-md-4"><a ng-click="reload()" class="fa fa-refresh"> Reload data</a></div>\n  <section ng-show="loading">\n    <div class="spinner spinner-lg spinner-inline"></div>Loading blacklist info …\n  </section>\n  <section ng-hide="loading">\n    <table ng-show="blacklists &amp;&amp; blacklists.length" class="table table-striped">\n      <thead>\n        <tr>\n          <th>Hostname</th>\n          <th></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="b in blacklists">\n          <td>{{b.system.hostname}}</td>\n          <td>\n            <div ng-click="delete(b)" class="fa fa-times pull-right pointer"></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</div>'),a.put("components/config/groups/groups.html",'\n<div class="groups tab-pane">\n  <section>\n    <div ng-bind="message" ng-show="message.length &gt; 0" role="alert" class="alert alert-danger"></div>\n    <h3>Create a new group</h3>\n    <group-form></group-form>\n  </section>\n  <section ng-show="loading">\n    <div class="spinner spinner-lg spinner-inline"></div>Loading group list info …\n  </section>\n  <section>\n    <h3 ng-show="!loading">Groups List</h3>\n    <section ng-show="isCreating" class="text-center">\n      <div class="spinner spinner-lg spinner-inline"></div>Creating group …\n    </section>\n    <div class="group-list">\n      <div ng-repeat="group in groups | orderBy:\'display_name\'" class="group"></div>\n    </div>\n  </section>\n</div>'),a.put("components/errorInfo/errorInfoForm/errorInfoForm.html",'\n<form ng-submit="saveFn()" name="form">\n  <fieldset>\n    <legend></legend>\n    <div class="form-group">\n      <label class="control-label">Rule ID</label>\n      <p class="form-control-static">{{error_info.rule_id}}</p>\n    </div>\n    <div class="panel panel-default">\n      <div class="panel-heading"><small ng-show="!locked" class="pull-left">Note: changing plugin and/or error key will change the rule id and can have detrimental effects.</small>\n        <div class="pull-right"><i ng-click="toggleLock()" ng-class="{\'fa-lock\': locked, \'fa-unlock\': !locked}" class="pointer fa"></i></div>\n        <div class="clearfix"></div>\n      </div>\n      <div class="panel-body">\n        <div class="form-group">\n          <label class="control-label">Plugin</label>\n          <error-info-plugin ng-hide="locked"></error-info-plugin>\n          <p ng-show="locked" class="form-control-static">{{error_info.plugin}}</p>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Error key </label>\n          <input ng-hide="locked" ng-model="error_info.error_key" type="text" required="required" class="form-control"/>\n          <p ng-show="locked" class="form-control-static">{{error_info.error_key}}</p>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="control-label">Category </label>\n      <select ng-model="error_info.category" type="text" ng-options="c as c for c in categories" required="required" class="form-control"></select>\n    </div>\n    <div class="form-group">\n      <label class="control-label">Severity </label>\n      <select ng-model="error_info.severity" type="text" ng-options="s as s for s in severities" required="required" class="form-control"></select>\n    </div>\n    <div class="form-group">\n      <label class="control-label">Display Name</label>\n      <input ng-model="error_info.description" type="text" required="required" class="form-control"/>\n    </div>\n    <div class="panel panel-default">\n      <div class="panel-heading">Summary is an overview of the error info. <strong>There is no report data accessible here.</strong></div>\n      <div class="panel-body">\n        <div class="form-group">\n          <label class="control-label">Summary</label>\n          <textarea ng-model="error_info.summary" type="text" rows="5" class="form-control"></textarea>\n        </div>\n      </div>\n    </div>\n    <div class="panel panel-default">\n      <div class="panel-heading">Reason and Resolution are displayed when looking at one specific report. <strong>Report data is accessible and will be compiled with <a href="http://olado.github.io/doT/" target="_blank">doT.</a></strong></div>\n      <div class="panel-body">\n        <div class="form-group">\n          <label class="control-label">Reason</label>\n          <textarea ng-model="error_info.reason" type="text" rows="5" class="form-control"></textarea>\n        </div>\n        <div class="form-group">\n          <label class="control-label">Resolution</label>\n          <textarea ng-model="error_info.resolution" type="text" rows="5" class="form-control"></textarea>\n        </div>\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="control-label">Node ID </label>\n      <input ng-model="error_info.node_id" type="text" required="required" class="form-control"/>\n    </div>\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" ng-model="error_info.active"/>Active\n      </label>\n    </div>\n    <div class="checkbox">\n      <label>\n        <input type="checkbox" ng-model="error_info.retired"/>Retired\n      </label>\n    </div>\n    <div class="form-group">\n      <label class="control-label"></label>\n      <button name="preview" type="button" ng-click="preview(error_info)" class="btn btn-block btn-primary">Preview</button>\n    </div>\n    <div class="form-group">\n      <label class="control-label"></label>\n      <button name="submit" ng-disabled="form.$error.required" class="btn btn-block btn-success">Save</button>\n    </div>\n  </fieldset>\n</form>'),a.put("components/errorInfo/errorInfoIcon/errorInfoIcon.html",'\n<div ng-show="user.internal" class="error-icon"><a ui-sref="error_infos" class="fa fa-info"></a></div>'),a.put("components/errorInfo/errorInfoPlugin/errorInfoPlugin.html",'\n<select chosen="" ng-model="error_info.plugin" type="text" ng-options="p for p in plugins track by p" required="required" class="form-control"></select>'),a.put("components/group/views/form.html",'\n<div class="row">\n  <form ng-submit="create(newGroup)">\n    <div class="col-xs-12 col-md-3">\n      <label>Display Name</label>\n    </div>\n    <div class="col-xs-12 col-sm-8 col-md-7">\n      <input ng-model="newGroup.display_name" placeholder="Enter a name here" class="full-width"/>\n    </div>\n    <div class="col-xs-12 col-sm-4 col-md-2">\n      <button ng-disabled="!newGroup.display_name" class="btn btn-link"><span class="fa fa-plus">  Add Group</span></button>\n    </div>\n  </form>\n</div>'),a.put("components/group/views/group.html",'\n<div class="header">\n  <div class="row">\n    <div class="col-xs-12 col-sm-8">\n      <div class="host-info">\n        <h4 class="host">{{group.display_name}}</h4>\n      </div>\n    </div>\n    <div class="col-xs-12 col-sm-4">\n      <div class="options pull-right">\n        <div ng-class="{\'fa-minus-square-o\':!isCollapsed, \'fa-plus-square-o\':isCollapsed}" ng-click="isCollapsed = !isCollapsed" class="fa pointer"></div>\n      </div>\n    </div>\n  </div>\n</div>\n<div collapse="isCollapsed" class="content">\n  <label class="full-width">Hosts</label>\n  <div class="row">\n    <system-select group="group"></system-select>\n  </div>\n  <div ng-hide="group.systems.length" role="alert" class="alert alert-info">No hosts in this group</div>\n  <div ng-show="group.systems.length">\n    <table class="table table-striped no-header">\n      <tbody>\n        <tr ng-repeat="system in group.systems | orderBy:\'toString()\'">\n          <td>\n            <div class="hostname">{{system.hostname}}</div>\n          </td>\n          <td>\n            <div ng-click="removeSystem(group, system)" class="fa fa-times pull-right pointer"></div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n<div class="footer">\n  <div class="row">\n    <div class="col-xs-12"><a ng-click="deleteGroup(group)" class="pull-right pointer">Delete Group</a></div>\n  </div>\n</div>'),a.put("components/groupSelect/groupSelect.html",'\n<div ng-hide="hideGroup || !groups.length" class="filter group-select fade-out">\n  <label>Group</label><a ui-sref="config({tab:\'groups\'})" class="edit-icon pull-right fa fa-edit"></a>\n  <select ng-model="group" ng-change="groupChange()">\n    <option value="-1">All</option>\n    <option ng-repeat="g in groups" ng-value="$index">{{g.display_name}}</option>\n  </select>\n</div>'),a.put("components/overview/overview.html",'\n<div class="chart-container">\n  <div class="donut-hole"><span ng-hide="!loading" class="preloader"></span>\n    <div class="content"><span class="num">{{total}}</span>\n      <ng-pluralize count="total" when="{\'one\': \'Action\', \'other\': \'Actions\'}" class="text"></ng-pluralize>\n    </div>\n  </div>\n  <div arc-map="data" on-click="arcClick(arc)" class="rh-donut"></div>\n  <div ng-class="loading ? \'inactive\' : \'\'" class="reset">\n    <button ng-click="reload()" ng-disabled="loading" class="chart-back simple"><span class="fa fa-refresh"></span><span class="hidden">Reset Chart</span></button>\n  </div>\n  <severity-bar></severity-bar>\n  <div id="legend" class="legend">\n    <table class="table table-striped table-bordered ng-table">\n      <thead>\n        <tr>\n          <th></th>\n          <th ng-class="{\'sort-asc\' : legendPredicate == \'name\', \'sort-desc\' : legendPredicate == \'name\' &amp;&amp; reverse}" ng-click="legendPredicate = \'name\'; reverse=!reverse" class="sortable">\n            <div>Section</div>\n          </th>\n          <th ng-class="{\'sort-asc\' : legendPredicate == \'severityNum\', \'sort-desc\' : legendPredicate == \'severityNum\' &amp;&amp; reverse}" ng-click="legendPredicate = \'severityNum\'; reverse=!reverse" ng-hide="isOverview" class="sortable">\n            <div>Sev</div>\n          </th>\n          <th ng-class="{\'sort-asc\' : legendPredicate == \'value\', \'sort-desc\' : legendPredicate == \'value\' &amp;&amp; reverse}" ng-click="legendPredicate = \'value\'; reverse=!reverse" class="sortable">\n            <div>Count</div>\n          </th>\n          <th ng-hide="isOverview"></th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="group in data | orderObjectBy:legendPredicate:reverse" ng-class="{active: group.id === rule}" class="legend-item">\n          <td ng-click="arcClick(group)">\n            <div ng-style="{backgroundColor: group.color || \'inherit\'}" class="color-block"></div>\n          </td>\n          <td ng-click="arcClick(group)">{{group.name}}</td>\n          <td ng-click="arcClick(group)" ng-hide="isOverview" class="filter-on">\n            <severity-icon severity="group.severity"></severity-icon>\n          </td>\n          <td ng-click="arcClick(group)">{{ group.value }}</td>\n          <td ng-click="toggleRule(group)" ng-hide="isOverview" class="view-toggle"><span ng-click="ackAction(group)" class="link">Hide</span></td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>'),a.put("components/overview/overviewDetails/overviewDetails.html",'\n<div ng-hide="reportDetails" class="row chart-header">\n  <div class="col-xs-12">\n    <h1 class="page-title">{{title | titlecase}}</h1>\n    <div class="overview landing">\n      <div class="intro">Please use the <em>chart on the left </em>to drill down and discover problems within your organization.</div>\n      <p>There are {{total}} <span ng-hide="isOverview">{{category}} </span>action(s) detected from systems in your organization.</p>\n    </div>\n  </div>\n</div>\n<div ng-show="reportDetails">\n  <div class="row chart-header">\n    <div class="col-xs-12">\n      <div ng-show="loading" class="loader text-center">\n        <div class="spinner spinner-inline"></div>Loading Reports…\n      </div>\n      <div ng-hide="loading">\n        <h1 class="page-title">{{ruleDetail.description}}</h1>\n      </div>\n    </div>\n  </div>\n  <div ng-show="!loading &amp;&amp; reportDetails" class="row">\n    <div class="col-sm-12">\n      <table class="table table-striped table-bordered chart-details ng-table">\n        <thead>\n          <tr>\n'+"            <th ng-class=\"{'sort-asc' : predicate == 'system.hostname', 'sort-desc' : predicate == 'system.hostname' &amp;&amp; reverse}\" ng-click=\"predicate = 'system.hostname'; reverse=!reverse\" class=\"sortable\">\n              <div>Hostname</div>\n            </th>\n            <th ng-class=\"{'sort-asc' : predicate == 'date', 'sort-desc' : predicate == 'date' &amp;&amp; reverse}\" ng-click=\"predicate = 'date'; reverse=!reverse\" class=\"sortable\">\n              <div>Reported</div>\n            </th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-click=\"showSystem(report.system)\" ng-repeat=\"report in reportDetails | orderBy:predicate:reverse\">\n            <td>{{ report.system.hostname }}</td>\n            <td>{{report.date | timeAgo}}</td>\n            <td><a>View</a></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>"),a.put("components/recommendedKbase/recommendedKbase.html",'\n<div ng-show="solution &amp;&amp; !loading" class="matched-solution"><a target="_blank" href="{{solution.viewUri}}">For more info see: {{solution.title}}</a></div>\n<div ng-show="loading" class="spinner spinner-sm spinner-inline"></div>'),a.put("components/severityBar/severityBar.html",'\n<div class="severity-select">\n  <label for="sev-toggles">Toggle Severities:</label>\n  <div name="sev-toggles" role="group" class="severity-filter-toggle">\n    <button ng-class="severities[sevName] ? \'filter-on\' : \'filter-off\'" ng-click="toggle(sevName)" ng-repeat="sevName in severityNames" class="btn btn-default">\n      <severity-icon severity="sevName"></severity-icon><span class="sev">{{ sevName }}</span>\n    </button>\n  </div>\n</div>'),a.put("components/severityIcon/severityIcon.html",'<span ng-class="severityClass" class="fa"></span>'),a.put("components/sideNav/sideNav.html",'\n<div class="dashboard-navigation-container">\n  <aside class="dashboard-navigation">\n    <div class="user-profile">\n      <account-select></account-select>\n      <group-select></group-select>\n      <menu class="nav">\n        <ul>\n          <li><a ui-sref="overview({category: null, rule: null})" ng-class="{current: isActive(null)}">Overview</a>\n            <ul>\n              <li><a ui-sref="overview({category: c, rule: null})" ng-class="{current: isActive(c)}" ng-repeat="c in categories" ng-show="counts[c]">{{c|titlecase}} <small ng-show="counts[c]">({{counts[c]}})</small></a></li>\n            </ul>\n          </li>\n          <li><a ui-sref="systems" ui-sref-active="current">Systems</a></li>\n        </ul>\n        <ul>\n          <li><a ui-sref="config" ui-sref-active="current">Configuration</a></li>\n        </ul>\n      </menu>\n    </div>\n  </aside>\n</div>'),a.put("components/system/systemModal/systemModal.html",'\n<div class="details-overlay chart-overlay">\n  <div class="content">\n    <div class="modal-actions">\n      <div ng-click="close()" class="fa fa-close pull-right"></div>\n    </div>\n    <div class="title">\n      <div class="icon"><span class="fa fa-globe"></span></div>\n      <h2><b>domain: </b><span>{{ system.hostname }}</span></h2><a ng-click="viewAll()" ng-show="ruleFilter &amp;&amp; system.reports.length !== system._reports.length" class="view-all">View all for this host</a>\n    </div>\n    <div ng-if="loading" class="row detail">\n      <div class="col-xs-12">\n        <div class="loading-block text-center">\n          <div class="detail-part">\n            <div class="spinner spinner-lg spinner-inline"></div>Loading report(s) for {{system.hostname}}…\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-hide="loading" ng-repeat="report in system.reports" class="row detail">\n      <div class="col-sm-4 issue">\n        <div class="category">\n          <severity-icon severity="report.error_info.severity"></severity-icon>{{ report.error_info.category }} &gt; {{ report.error_info.description }}\n        </div>\n        <div class="reason detail-part">\n          <div ng-bind-html="report.error_info.reason | trust_html" class="detail-content"></div>\n        </div>\n      </div>\n      <div class="col-sm-7 col-sm-offset-1 resolution">\n        <div class="detail-part"><span class="icon"><span class="fa fa-check"></span></span>\n          <div class="detail-content answer"><span ng-bind-html="report.error_info.resolution | trust_html"></span></div>\n        </div>\n        <recommended-kbase ng-show="report.error_info.node_id" node="report.error_info.node_id"></recommended-kbase>\n      </div>\n      <div ng-show="debug" class="col-sm-12">\n        <hr/>\n        <p>Preview data:</p>\n        <p>{{report.details | json}}</p>\n      </div>\n    </div>\n  </div>\n</div>'),a.put("components/system/systemSelect/systemSelect.html",'\n<div ng-show="systems.length">\n  <div class="col-xs-10 system-select-container">\n    <select chosen="" multiple="" data-placeholder="Select systems" ng-model="newSystems" ng-options="s.hostname for s in systems track by s.machine_id"></select>\n  </div>\n  <div class="col-xs-2">\n    <button ng-click="addSystem()" ng-disabled="!newSystems.length" class="btn btn-link"><span class="fa fa-plus">  Add Systems</span></button>\n  </div>\n</div>'),a.put("components/system/systemSummaryTable/systemSummaryTable.html",'\n<table ng-table="tableParams" class="table table-striped table-hover table-bordered">\n  <thead>\n    <tr>\n      <th ng-class="{\'sort-asc\': tableParams.isSortBy(\'hostname\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'hostname\', \'desc\')}" ng-click="tableParams.sorting({\'hostname\' : tableParams.isSortBy(\'hostname\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable col-md-9">\n        <div>Hostname</div>\n      </th>\n      <th ng-class="{\'sort-asc\': tableParams.isSortBy(\'last_check_in\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'last_check_in\', \'desc\')}" ng-click="tableParams.sorting({\'last_check_in\' : tableParams.isSortBy(\'last_check_in\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable col-md-2">\n        <div>Last Check In</div>\n      </th>\n      <th ng-class="{\'sort-asc\': tableParams.isSortBy(\'reports.length\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'reports.length\', \'desc\')}" ng-click="tableParams.sorting({\'reports.length\' : tableParams.isSortBy(\'reports.length\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable col-md-1">\n        <div>Status</div>\n      </th>\n      <th></th>\n    </tr>\n    <tr>\n      <th colspan="4">\n        <input type="text" ng-model="filters.hostname" placeholder="Filter" class="form-control"/>\n      </th>\n    </tr>\n  </thead>\n  <tr ng-repeat="system in $data | filter:blacklistFilter track by system.machine_id">\n    <td ng-hide="::system.reports.length">{{::system.hostname}}</td>\n    <td ng-show="::system.reports.length"><a ng-click="showSystem(system)">{{::system.hostname}}</a></td>\n    <td class="text-center"><span ng-show="::system.last_check_in">{{::system.last_check_in | timeAgo}}</span><span ng-hide="::system.last_check_in">--</span></td>\n    <td class="text-center"><span ng-hide="::system.reports.length" class="icon success"><img src="assets/images/i_check.png"/></span><span ng-show="::system.reports.length" class="icon failure"><img src="assets/images/i_exc.png"/></span></td>\n    <th class="text-center"><a ng-click="blacklist(system)" title="Blacklist" class="fa fa-close blacklist"></a></th>\n  </tr>\n</table>'),a.put("components/topbar/topbar.html",'\n<div class="top-bar">\n  <div style="margin-bottom: 2em;" class="case-switch"></div>\n  <div class="top-wrapper">\n    <error-info-icon></error-info-icon>\n    <bullhorn></bullhorn>\n  </div>\n</div>')
}]);